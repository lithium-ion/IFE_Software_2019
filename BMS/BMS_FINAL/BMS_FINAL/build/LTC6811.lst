ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"LTC6811.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.initPECTable,"ax",%progbits
  16              		.align	1
  17              		.global	initPECTable
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	initPECTable:
  25              	.LFB66:
  26              		.file 1 "Src/LTC6811.c"
   1:Src/LTC6811.c **** /*
   2:Src/LTC6811.c **** 	LTC6811 Command Functions
   3:Src/LTC6811.c **** 	Matt Vlasaty
   4:Src/LTC6811.c **** 	March 29th, 2019
   5:Src/LTC6811.c **** 	
   6:Src/LTC6811.c **** 	General Functions
   7:Src/LTC6811.c **** 		sendBroadcastCommand: void sendBroadcastCommand(CommandCodeTypedef command);
   8:Src/LTC6811.c **** 			- sends specified write-only command to every LTC in the chain (ex: ADCV)
   9:Src/LTC6811.c **** 			- CommandCodeTypedef enum contains every command code used
  10:Src/LTC6811.c **** 		sendAddressCommand: void sendAddressCommand(CommandCodeTypedef command, uint8_t address);
  11:Src/LTC6811.c **** 			- sends specified write-only command to LTC with specified address
  12:Src/LTC6811.c **** 		readRegister: bool readRegister(CommandCodeTypedef command, uint8_t address, uint16_t *data);
  13:Src/LTC6811.c **** 			- reads register specified in command from specified board
  14:Src/LTC6811.c **** 			- ex: ReadCellVoltageRegisterGroup1to3, ReadAuxiliaryGroupA, ReadConfigurationRegisterGroup
  15:Src/LTC6811.c **** 			- returns true if received PEC matches calculated PEC
  16:Src/LTC6811.c **** 		
  17:Src/LTC6811.c **** 	Configuration Functions
  18:Src/LTC6811.c **** 		writeConfigAll: void writeConfigAll(BMSconfigStructTypedef cfg);
  19:Src/LTC6811.c **** 			- writes configuration data from BMSconfig struct into LTC configuration register
  20:Src/LTC6811.c **** 			- BMSconfig struct includes ADCMode, UV, OV, and discharge enable for each cell
  21:Src/LTC6811.c **** 			- BMSconfig struct also contains number of ICs and array of addresses used
  22:Src/LTC6811.c **** 		writeConfigAddress: void writeConfigAddress(BMSconfigStructTypedef cfg, uint8_t address);
  23:Src/LTC6811.c **** 			- this is only used for cellDischarge command
  24:Src/LTC6811.c **** 			- writes configuration data to LTC with specified address
  25:Src/LTC6811.c **** 		readConfig: bool readConfig(uint8_t address, uint8_t cfg[6]);
  26:Src/LTC6811.c **** 			- uses general readRegister function to check current state of LTC configuration register
  27:Src/LTC6811.c **** 			- this is mostly for testing purposes
  28:Src/LTC6811.c **** 			- returns true if received PEC matches calculated PEC (same as readRegister)
  29:Src/LTC6811.c **** 		
  30:Src/LTC6811.c **** 	Cell Voltage Functions
  31:Src/LTC6811.c **** 		readCellVoltage: bool readCellVoltage(uint8_t address, uint16_t cellVoltage[12]);
  32:Src/LTC6811.c **** 			- sends ADCV command that begins conversion for every cell to specified LTC
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 2


  33:Src/LTC6811.c **** 			- reads all cell voltage registers using general readRegister function
  34:Src/LTC6811.c **** 			- used cell inputs (1, 2, 3, 4, 7, 8, 9, 10) must be chosen from cellVoltage[12] later
  35:Src/LTC6811.c **** 			- returns true if received PEC matches calculated PEC (same as readRegister)
  36:Src/LTC6811.c **** 		readAllCellVoltages: bool readAllCellVoltages(BMSconfigStructTypedef cfg, uint16_t cellVoltage[12
  37:Src/LTC6811.c **** 			- not tested
  38:Src/LTC6811.c **** 			- using order of ICs in BMSconfig, stores cell voltage for every cell on every board into 2D arr
  39:Src/LTC6811.c **** 			- returns false if any readCellVoltage returns false
  40:Src/LTC6811.c **** 	
  41:Src/LTC6811.c **** 	Cell Temperature Functions
  42:Src/LTC6811.c **** 		readCellTemp: bool readCellTemp(uint8_t address, uint16_t cellTemp[4], bool dcFault[4], bool temp
  43:Src/LTC6811.c **** 			- initiates ADC conversion for GPIO inputs connected to temperature sensors
  44:Src/LTC6811.c **** 			- reads auxiliary register groups using general readRegister function
  45:Src/LTC6811.c **** 			- converts measured voltage into temperature based on temperature sensor response
  46:Src/LTC6811.c **** 			- checks for disconnected temperature sensor and overtemperature faults for each LTC and stores 
  47:Src/LTC6811.c **** 		readAllCellTemps: bool readAllCellTemps(uint8_t numBoards, uint16_t cellTemp[numBoards][4], bool 
  48:Src/LTC6811.c **** 			- not tested
  49:Src/LTC6811.c **** 			- using order of ICs in BMSconfig, stores cell temperature for every cell on every board into 2D
  50:Src/LTC6811.c **** 			- returns false if any readCellTemp returns false
  51:Src/LTC6811.c **** 	
  52:Src/LTC6811.c **** 	Cell Connection Functions
  53:Src/LTC6811.c **** 		checkCellConnection: void checkCellConnection(uint16_t cellVoltage[12], bool cellConnection[12]);
  54:Src/LTC6811.c **** 			- needs previously obtained cell voltage measurements
  55:Src/LTC6811.c **** 			- initiates ADOW command with PUP = 0 to source 100uA while measuring cell voltage
  56:Src/LTC6811.c **** 			- reads cell voltages with readCellVoltage function
  57:Src/LTC6811.c **** 			- compares previously measured values to open wire check values
  58:Src/LTC6811.c **** 			- if there is a significant drop in voltage (should be configurable), cell is disconnected
  59:Src/LTC6811.c **** 			- stores 1 into cellConnection if cell is connected
  60:Src/LTC6811.c **** 			- stores 0 into cellConnection if cell is disconnected
  61:Src/LTC6811.c **** 		checkAllCellConnections: 
  62:Src/LTC6811.c **** 	
  63:Src/LTC6811.c **** 	PEC Functions
  64:Src/LTC6811.c **** 		initPECTable: void initPECTable(void);
  65:Src/LTC6811.c **** 			- taken from LTC6811 datasheet
  66:Src/LTC6811.c **** 			- generates PEC look-up table
  67:Src/LTC6811.c **** 			- should be called on start-up
  68:Src/LTC6811.c **** 		calculatePEC: uint16_t calculatePEC(uint8_t len, uint8_t *data);
  69:Src/LTC6811.c **** 			- taken from LTC6811 datasheet
  70:Src/LTC6811.c **** 			- used when sending command to calculate necessary PEC bytes to follow command bytes
  71:Src/LTC6811.c **** 			- used when receiving data to compare received PEC with the PEC that should have been received b
  72:Src/LTC6811.c **** 			- returns uint16_t PEC value
  73:Src/LTC6811.c **** 			
  74:Src/LTC6811.c **** 	TODO:
  75:Src/LTC6811.c **** 		- checkCellConnection return value needs to disregard unused cell inputs
  76:Src/LTC6811.c **** 		- resolve issue with writeConfig not changing every bit in the first register group
  77:Src/LTC6811.c **** 		- test functions used to read from every board (readAllCellVoltages should be [12][8])
  78:Src/LTC6811.c **** 		- minor changes (using more user-defined constants, changing return values)
  79:Src/LTC6811.c **** 		
  80:Src/LTC6811.c **** 	NOTES:
  81:Src/LTC6811.c **** 		- writeConfig is called every loop for every LTC because dischargeCells is called every loop for 
  82:Src/LTC6811.c **** 		- always take measurements, only send when not charging? (CAN messages for charging?)
  83:Src/LTC6811.c **** 		- every 'readAll' function starts with address = 0 and increases sequentially
  84:Src/LTC6811.c **** 		
  85:Src/LTC6811.c **** 		- in temp read, faults are determined but not transferred
  86:Src/LTC6811.c **** 		- temperature conversion works, but error is +/- 1 degree
  87:Src/LTC6811.c **** */
  88:Src/LTC6811.c **** 
  89:Src/LTC6811.c **** 
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 3


  90:Src/LTC6811.c **** #include "LTC6811.h"
  91:Src/LTC6811.c **** 
  92:Src/LTC6811.c **** uint16_t pec15Table[256];
  93:Src/LTC6811.c **** uint16_t CRC15_POLY = 0x4599;
  94:Src/LTC6811.c **** 
  95:Src/LTC6811.c **** void initPECTable(void) {
  27              		.loc 1 95 25 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  96:Src/LTC6811.c **** 	
  97:Src/LTC6811.c **** 	uint16_t remainder;
  32              		.loc 1 97 2 view .LVU1
  98:Src/LTC6811.c **** 	
  99:Src/LTC6811.c **** 	for (int i = 0; i < 256; i++) {
  33              		.loc 1 99 2 view .LVU2
  34              	.LBB2:
  35              		.loc 1 99 7 view .LVU3
  36              	.LVL0:
  37              		.loc 1 99 11 is_stmt 0 view .LVU4
  38 0000 0020     		movs	r0, #0
  39              		.loc 1 99 2 view .LVU5
  40 0002 11E0     		b	.L2
  41              	.LVL1:
  42              	.L4:
  43              	.LBB3:
 100:Src/LTC6811.c **** 		remainder = i << 7;
 101:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
 102:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 103:Src/LTC6811.c **** 				remainder = ((remainder << 1));
 104:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
 105:Src/LTC6811.c **** 			}
 106:Src/LTC6811.c **** 			else {
 107:Src/LTC6811.c **** 				remainder = ((remainder << 1));
  44              		.loc 1 107 5 is_stmt 1 view .LVU6
  45              		.loc 1 107 15 is_stmt 0 view .LVU7
  46 0004 5B00     		lsls	r3, r3, #1
  47              	.LVL2:
  48              		.loc 1 107 15 view .LVU8
  49 0006 9BB2     		uxth	r3, r3
  50              	.LVL3:
  51              	.L5:
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
  52              		.loc 1 101 33 discriminator 2 view .LVU9
  53 0008 013A     		subs	r2, r2, #1
  54              	.LVL4:
  55              	.L3:
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
  56              		.loc 1 101 3 discriminator 1 view .LVU10
  57 000a 002A     		cmp	r2, #0
  58 000c 08DD     		ble	.L8
 102:Src/LTC6811.c **** 				remainder = ((remainder << 1));
  59              		.loc 1 102 4 is_stmt 1 view .LVU11
 102:Src/LTC6811.c **** 				remainder = ((remainder << 1));
  60              		.loc 1 102 7 is_stmt 0 view .LVU12
  61 000e 13F4804F 		tst	r3, #16384
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 4


  62 0012 F7D0     		beq	.L4
 103:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
  63              		.loc 1 103 5 is_stmt 1 view .LVU13
 103:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
  64              		.loc 1 103 15 is_stmt 0 view .LVU14
  65 0014 5B00     		lsls	r3, r3, #1
  66              	.LVL5:
 103:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
  67              		.loc 1 103 15 view .LVU15
  68 0016 9BB2     		uxth	r3, r3
  69              	.LVL6:
 104:Src/LTC6811.c **** 			}
  70              		.loc 1 104 5 is_stmt 1 view .LVU16
 104:Src/LTC6811.c **** 			}
  71              		.loc 1 104 15 is_stmt 0 view .LVU17
  72 0018 0749     		ldr	r1, .L10
  73 001a 0988     		ldrh	r1, [r1]
  74 001c 4B40     		eors	r3, r3, r1
  75              	.LVL7:
 104:Src/LTC6811.c **** 			}
  76              		.loc 1 104 15 view .LVU18
  77 001e F3E7     		b	.L5
  78              	.L8:
 104:Src/LTC6811.c **** 			}
  79              		.loc 1 104 15 view .LVU19
  80              	.LBE3:
 108:Src/LTC6811.c **** 			}
 109:Src/LTC6811.c **** 		}
 110:Src/LTC6811.c **** 		pec15Table[i] = remainder & 0xFFFF;
  81              		.loc 1 110 3 is_stmt 1 discriminator 2 view .LVU20
  82              		.loc 1 110 17 is_stmt 0 discriminator 2 view .LVU21
  83 0020 064A     		ldr	r2, .L10+4
  84              	.LVL8:
  85              		.loc 1 110 17 discriminator 2 view .LVU22
  86 0022 22F81030 		strh	r3, [r2, r0, lsl #1]	@ movhi
  99:Src/LTC6811.c **** 		remainder = i << 7;
  87              		.loc 1 99 28 discriminator 2 view .LVU23
  88 0026 0130     		adds	r0, r0, #1
  89              	.LVL9:
  90              	.L2:
  99:Src/LTC6811.c **** 		remainder = i << 7;
  91              		.loc 1 99 2 discriminator 1 view .LVU24
  92 0028 FF28     		cmp	r0, #255
  93 002a 04DC     		bgt	.L9
 100:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
  94              		.loc 1 100 3 is_stmt 1 view .LVU25
 100:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
  95              		.loc 1 100 17 is_stmt 0 view .LVU26
  96 002c 83B2     		uxth	r3, r0
 100:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
  97              		.loc 1 100 13 view .LVU27
  98 002e DB01     		lsls	r3, r3, #7
  99 0030 9BB2     		uxth	r3, r3
 100              	.LVL10:
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 101              		.loc 1 101 3 is_stmt 1 view .LVU28
 102              	.LBB4:
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 5


 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 103              		.loc 1 101 8 view .LVU29
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 104              		.loc 1 101 12 is_stmt 0 view .LVU30
 105 0032 0822     		movs	r2, #8
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 106              		.loc 1 101 3 view .LVU31
 107 0034 E9E7     		b	.L3
 108              	.LVL11:
 109              	.L9:
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 110              		.loc 1 101 3 view .LVU32
 111              	.LBE4:
 112              	.LBE2:
 111:Src/LTC6811.c **** 	}
 112:Src/LTC6811.c **** };
 113              		.loc 1 112 1 view .LVU33
 114 0036 7047     		bx	lr
 115              	.L11:
 116              		.align	2
 117              	.L10:
 118 0038 00000000 		.word	.LANCHOR0
 119 003c 00000000 		.word	pec15Table
 120              		.cfi_endproc
 121              	.LFE66:
 123              		.section	.text.calculatePEC,"ax",%progbits
 124              		.align	1
 125              		.global	calculatePEC
 126              		.syntax unified
 127              		.thumb
 128              		.thumb_func
 129              		.fpu softvfp
 131              	calculatePEC:
 132              	.LVL12:
 133              	.LFB80:
 113:Src/LTC6811.c **** 
 114:Src/LTC6811.c **** void writeConfigAddress(BMSconfigStructTypedef cfg, uint8_t address) {
 115:Src/LTC6811.c **** 
 116:Src/LTC6811.c **** 	uint8_t config[6];
 117:Src/LTC6811.c **** 	uint8_t *cmd;
 118:Src/LTC6811.c **** 	uint8_t cmd_len = 12;
 119:Src/LTC6811.c **** 	uint16_t PEC_return;
 120:Src/LTC6811.c **** 	uint8_t dummy[8];
 121:Src/LTC6811.c **** 
 122:Src/LTC6811.c **** 	readConfig(address, dummy);
 123:Src/LTC6811.c **** 	
 124:Src/LTC6811.c **** 	cmd = (uint8_t *)malloc(cmd_len*sizeof(uint8_t));
 125:Src/LTC6811.c **** 	
 126:Src/LTC6811.c **** 	config[0] = (uint8_t) (cfg.GPIO5PulldownOff << 7) | (cfg.GPIO4PulldownOff << 6) | (cfg.GPIO3Pulldo
 127:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 128:Src/LTC6811.c **** 	config[2] = (uint8_t) ((cfg.OvervoltageComparisonVoltage << 4) & 0xF0) | ((cfg.UndervoltageCompari
 129:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 130:Src/LTC6811.c **** 	config[4] = (uint8_t) (cfg.DischargeCell8 << 7) | (cfg.DischargeCell7 << 6) | (cfg.DischargeCell6 
 131:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 132:Src/LTC6811.c **** 	
 133:Src/LTC6811.c **** 	cmd[0] = (uint8_t) (0x80 | ((address << 3) & 0x78) | ((WriteConfigurationRegisterGroup >> 8) & 0x0
 134:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 6


 135:Src/LTC6811.c **** 	
 136:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, cmd);
 137:Src/LTC6811.c **** 	
 138:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 139:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 140:Src/LTC6811.c **** 
 141:Src/LTC6811.c **** 	cmd[4] = config[0];
 142:Src/LTC6811.c **** 	cmd[5] = config[1];
 143:Src/LTC6811.c **** 	cmd[6] = config[2];
 144:Src/LTC6811.c **** 	cmd[7] = config[3];
 145:Src/LTC6811.c **** 	cmd[8] = config[4];
 146:Src/LTC6811.c **** 	cmd[9] = config[5];
 147:Src/LTC6811.c **** 	
 148:Src/LTC6811.c **** 	PEC_return = calculatePEC(6, cmd + 4);
 149:Src/LTC6811.c **** 
 150:Src/LTC6811.c **** 	cmd[10] = (PEC_return >> 8) & 0xFF;
 151:Src/LTC6811.c **** 	cmd[11] = PEC_return & 0xFF;
 152:Src/LTC6811.c **** 	
 153:Src/LTC6811.c **** 	SPIWrite(cmd, cmd_len);
 154:Src/LTC6811.c **** 
 155:Src/LTC6811.c **** 	readConfig(address, dummy);
 156:Src/LTC6811.c **** 	
 157:Src/LTC6811.c **** 	free(cmd);
 158:Src/LTC6811.c **** 
 159:Src/LTC6811.c **** };
 160:Src/LTC6811.c **** 
 161:Src/LTC6811.c **** void writeConfigAll(BMSconfigStructTypedef cfg) {
 162:Src/LTC6811.c **** 
 163:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 164:Src/LTC6811.c **** 		writeConfigAddress(cfg, cfg.address[i]);
 165:Src/LTC6811.c **** 	}
 166:Src/LTC6811.c **** };
 167:Src/LTC6811.c **** 
 168:Src/LTC6811.c **** bool readCellVoltage(uint8_t address, uint16_t cellVoltage[12]) {
 169:Src/LTC6811.c **** 	
 170:Src/LTC6811.c **** 	bool PEC_check = false;
 171:Src/LTC6811.c **** 	bool dataValid = true;
 172:Src/LTC6811.c **** 	uint16_t *voltage;
 173:Src/LTC6811.c **** 	
 174:Src/LTC6811.c **** 	voltage = (uint16_t *)malloc(12*sizeof(uint16_t));
 175:Src/LTC6811.c **** 	
 176:Src/LTC6811.c **** 	sendAddressCommand(StartCellVoltageADCConversionAll, address); // start conversion for every cell
 177:Src/LTC6811.c **** 
 178:Src/LTC6811.c **** 	HAL_Delay(50); // conversion time is 12.8ms at 422Hz, so wait 15ms
 179:Src/LTC6811.c **** 	
 180:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup1to3, address, voltage);
 181:Src/LTC6811.c **** 	//dataValid = dataValid & PEC_check;
 182:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup4to6, address, voltage);
 183:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 184:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup7to9, address, voltage);
 185:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 186:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup10to12, address, voltage);
 187:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 188:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup1to3, address, voltage);
 189:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 190:Src/LTC6811.c **** 	
 191:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 12; i++) {
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 7


 192:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 193:Src/LTC6811.c **** 	}
 194:Src/LTC6811.c **** 	
 195:Src/LTC6811.c **** 	free(voltage);
 196:Src/LTC6811.c **** 	
 197:Src/LTC6811.c **** 	return(dataValid);
 198:Src/LTC6811.c **** 	
 199:Src/LTC6811.c **** };
 200:Src/LTC6811.c **** 
 201:Src/LTC6811.c **** bool readAllCellVoltages(BMSconfigStructTypedef cfg, uint16_t cellVoltage[12][12]) {
 202:Src/LTC6811.c **** 	
 203:Src/LTC6811.c **** 	/*uint16_t boardVoltage[cfg.numOfCellInputs];
 204:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 205:Src/LTC6811.c **** 	bool dataValid = true;
 206:Src/LTC6811.c **** 	
 207:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 208:Src/LTC6811.c **** 		
 209:Src/LTC6811.c **** 		PEC_check[i] = readCellVoltage((uint8_t) cfg.addressesofICs[i], boardVoltage);
 210:Src/LTC6811.c **** 		
 211:Src/LTC6811.c **** 		for (uint8_t j = 0; i < cfg.numOfCellInputs; i++) {
 212:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 213:Src/LTC6811.c **** 		}
 214:Src/LTC6811.c **** 	}
 215:Src/LTC6811.c **** 	
 216:Src/LTC6811.c **** 	for (uint8_t k = 0; k < cfg.numOfICs; k++) {
 217:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 218:Src/LTC6811.c **** 			dataValid = false;
 219:Src/LTC6811.c **** 	}*/
 220:Src/LTC6811.c **** 
 221:Src/LTC6811.c **** 	uint16_t boardVoltage[cfg.numOfCellInputs];
 222:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 223:Src/LTC6811.c **** 	bool dataValid = true;
 224:Src/LTC6811.c **** 
 225:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 226:Src/LTC6811.c **** 
 227:Src/LTC6811.c **** 		PEC_check[i] = readCellVoltage(cfg.address[i], boardVoltage);
 228:Src/LTC6811.c **** 
 229:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 12; j++) {
 230:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 231:Src/LTC6811.c **** 		}
 232:Src/LTC6811.c **** 	}
 233:Src/LTC6811.c **** 
 234:Src/LTC6811.c **** 	for (uint8_t k = 0; k < cfg.numOfICs; k++) {
 235:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 236:Src/LTC6811.c **** 			dataValid = false;
 237:Src/LTC6811.c **** 	}
 238:Src/LTC6811.c **** 
 239:Src/LTC6811.c **** 	return dataValid;
 240:Src/LTC6811.c **** }
 241:Src/LTC6811.c **** 
 242:Src/LTC6811.c **** bool readCellTemp(uint8_t address, uint16_t cellTemp[4], bool dcFault[4], bool tempFault[4]) {
 243:Src/LTC6811.c **** 	
 244:Src/LTC6811.c **** 	bool PEC_check = false;
 245:Src/LTC6811.c **** 	bool dataValid = true;
 246:Src/LTC6811.c **** 	uint16_t *temp;
 247:Src/LTC6811.c **** 	double dummy[4];
 248:Src/LTC6811.c **** 	double conversion[4];
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 8


 249:Src/LTC6811.c **** 	
 250:Src/LTC6811.c **** 	temp = (uint16_t *)malloc(4*sizeof(uint16_t));
 251:Src/LTC6811.c **** 	
 252:Src/LTC6811.c **** 	sendAddressCommand(StartCellTempVoltageADCConversionAll, address);
 253:Src/LTC6811.c **** 	
 254:Src/LTC6811.c **** 	HAL_Delay(50); // conversion time is 12.8ms at 422Hz, so wait 15ms
 255:Src/LTC6811.c **** 	
 256:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupA, address, temp);
 257:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 258:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupB, address, temp);
 259:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 260:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupA, address, temp);
 261:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 262:Src/LTC6811.c **** 
 263:Src/LTC6811.c **** 	/*for (uint8_t i = 0; i < 4; i++) {
 264:Src/LTC6811.c **** 
 265:Src/LTC6811.c **** 		cellTemp[i] = temp[i];
 266:Src/LTC6811.c **** 		dcFault[i] = false;
 267:Src/LTC6811.c **** 		tempFault[i] = false;
 268:Src/LTC6811.c **** 
 269:Src/LTC6811.c **** 	}*/
 270:Src/LTC6811.c **** 	
 271:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 4; i++) {
 272:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 273:Src/LTC6811.c **** 			dcFault[i] = true;
 274:Src/LTC6811.c **** 			cellTemp[i] = 0x0000;
 275:Src/LTC6811.c **** 		}
 276:Src/LTC6811.c **** 		else
 277:Src/LTC6811.c **** 			dcFault[i] = false;
 278:Src/LTC6811.c **** 		
 279:Src/LTC6811.c **** 		if ((temp[i] >= 13000) && (temp[i] < 15100)) {
 280:Src/LTC6811.c **** 			tempFault[i] = true;
 281:Src/LTC6811.c **** 			cellTemp[i] = 0xFFFF;
 282:Src/LTC6811.c **** 		}
 283:Src/LTC6811.c **** 		else
 284:Src/LTC6811.c **** 			tempFault[i] = false;
 285:Src/LTC6811.c **** 		
 286:Src/LTC6811.c **** 		if ((temp[i] >= 15100) && (temp[i] <= 24400)) {
 287:Src/LTC6811.c **** 			dummy[i] = (double) temp[i] / 10000; // convert from ADC value to voltage
 288:Src/LTC6811.c **** 			// convert from voltage to temperature
 289:Src/LTC6811.c **** 			conversion[i] = 37735 - 113923 * dummy[i] + 142663 * pow(dummy[i], 2) - 94465 * pow(dummy[i], 3)
 290:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 291:Src/LTC6811.c **** 			cellTemp[i] = (uint16_t) conversion[i];
 292:Src/LTC6811.c **** 			//cellTemp[i] = temp[i];
 293:Src/LTC6811.c **** 		}
 294:Src/LTC6811.c **** 	}
 295:Src/LTC6811.c **** 	
 296:Src/LTC6811.c **** 	free(temp);
 297:Src/LTC6811.c **** 	
 298:Src/LTC6811.c **** 	return (dataValid);
 299:Src/LTC6811.c **** 	
 300:Src/LTC6811.c **** };
 301:Src/LTC6811.c **** 
 302:Src/LTC6811.c **** bool readAllCellTemps(BMSconfigStructTypedef cfg, uint16_t cellTemp[12][4], bool dcFault[12][4], bo
 303:Src/LTC6811.c **** 	
 304:Src/LTC6811.c **** 	/*uint16_t boardTemp[cfg.numOfTempPerIC];
 305:Src/LTC6811.c **** 	bool boardDCFault[cfg.numOfTempPerIC];
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 9


 306:Src/LTC6811.c **** 	bool boardTempFault[cfg.numOfTempPerIC];
 307:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 308:Src/LTC6811.c **** 	bool dataValid = true;
 309:Src/LTC6811.c **** 	
 310:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 311:Src/LTC6811.c **** 		
 312:Src/LTC6811.c **** 		PEC_check[i] = readCellTemp(cfg.addressesofICs[i], boardTemp, boardDCFault, boardTempFault);
 313:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 4; j++) {
 314:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 315:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 316:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
 317:Src/LTC6811.c **** 		}
 318:Src/LTC6811.c **** 	}
 319:Src/LTC6811.c **** 	
 320:Src/LTC6811.c **** 	for (uint8_t k = 0; k < cfg.numOfICs; k++) {
 321:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 322:Src/LTC6811.c **** 			dataValid = false;
 323:Src/LTC6811.c **** 	}*/
 324:Src/LTC6811.c **** 
 325:Src/LTC6811.c **** 	uint16_t boardTemp[4];
 326:Src/LTC6811.c **** 	bool boardDCFault[4];
 327:Src/LTC6811.c **** 	bool boardTempFault[4];
 328:Src/LTC6811.c **** 	bool dataValid = true;
 329:Src/LTC6811.c **** 
 330:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 331:Src/LTC6811.c **** 		
 332:Src/LTC6811.c **** 		dataValid = readCellTemp(cfg.address[i], boardTemp, boardDCFault, boardTempFault);
 333:Src/LTC6811.c **** 
 334:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 4; j++) {
 335:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 336:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 337:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
 338:Src/LTC6811.c **** 		}
 339:Src/LTC6811.c **** 	}
 340:Src/LTC6811.c **** 	
 341:Src/LTC6811.c **** 	return dataValid;
 342:Src/LTC6811.c **** }
 343:Src/LTC6811.c **** 
 344:Src/LTC6811.c **** bool readConfig(uint8_t address, uint8_t cfg[8]) {
 345:Src/LTC6811.c **** 	
 346:Src/LTC6811.c **** 	uint16_t *config;
 347:Src/LTC6811.c **** 	bool dataValid = false;
 348:Src/LTC6811.c **** 	
 349:Src/LTC6811.c **** 	config = (uint16_t *)malloc(4*sizeof(uint16_t));
 350:Src/LTC6811.c **** 	
 351:Src/LTC6811.c **** 	dataValid = readRegister(ReadConfigurationRegisterGroup, address, config);
 352:Src/LTC6811.c **** 	
 353:Src/LTC6811.c **** 	cfg[0] = (uint8_t) ((config[0] >> 8) & 0xFF);
 354:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 355:Src/LTC6811.c **** 	cfg[2] = (uint8_t) ((config[1] >> 8) & 0xFF);
 356:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 357:Src/LTC6811.c **** 	cfg[4] = (uint8_t) ((config[2] >> 8) & 0xFF);
 358:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 359:Src/LTC6811.c **** 	cfg[6] = (uint8_t) ((config[3] >> 8) & 0xFF);
 360:Src/LTC6811.c **** 	cfg[7] = (uint8_t) (config[3] & 0xFF);
 361:Src/LTC6811.c **** 	
 362:Src/LTC6811.c **** 	return dataValid;
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 10


 363:Src/LTC6811.c **** }
 364:Src/LTC6811.c **** 
 365:Src/LTC6811.c **** bool checkCellConnection(uint16_t cellVoltage[12], bool cellConnection[12]) {
 366:Src/LTC6811.c **** 		
 367:Src/LTC6811.c **** 	uint16_t ADOWvoltage[12];
 368:Src/LTC6811.c **** 	bool disconnect = false;
 369:Src/LTC6811.c **** 	
 370:Src/LTC6811.c **** 	//add more if necessary
 371:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 372:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 373:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 374:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 375:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 376:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 377:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 378:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 379:Src/LTC6811.c **** 
 380:Src/LTC6811.c **** 	HAL_Delay(50);
 381:Src/LTC6811.c **** 	
 382:Src/LTC6811.c **** 	readCellVoltage(0, ADOWvoltage);
 383:Src/LTC6811.c **** 	readCellVoltage(0, ADOWvoltage);
 384:Src/LTC6811.c **** 	readCellVoltage(0, ADOWvoltage);
 385:Src/LTC6811.c **** 	
 386:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 12; i++) {
 387:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 388:Src/LTC6811.c **** 		if ((cellVoltage[i] - ADOWvoltage[i]) > 1000) {
 389:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 390:Src/LTC6811.c **** 			disconnect = true;
 391:Src/LTC6811.c **** 		}
 392:Src/LTC6811.c **** 		else {
 393:Src/LTC6811.c **** 			cellConnection[i] = 1;
 394:Src/LTC6811.c **** 		}
 395:Src/LTC6811.c **** 	}
 396:Src/LTC6811.c **** 	return disconnect;
 397:Src/LTC6811.c **** }
 398:Src/LTC6811.c **** 
 399:Src/LTC6811.c **** bool checkAllCellConnections(BMSconfigStructTypedef cfg, uint16_t cellVoltage[12][12], bool cellCon
 400:Src/LTC6811.c **** 	
 401:Src/LTC6811.c **** 	uint16_t voltageBuffer[12];
 402:Src/LTC6811.c **** 	bool connectionBuffer[12];
 403:Src/LTC6811.c **** 	bool individual_check;
 404:Src/LTC6811.c **** 	bool disconnect = false;
 405:Src/LTC6811.c **** 	
 406:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 407:Src/LTC6811.c **** 
 408:Src/LTC6811.c **** 		for (uint8_t k = 0; k < 12; k++)
 409:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 410:Src/LTC6811.c **** 
 411:Src/LTC6811.c **** 		individual_check = checkCellConnection(voltageBuffer, connectionBuffer);
 412:Src/LTC6811.c **** 		disconnect = disconnect | individual_check;
 413:Src/LTC6811.c **** 
 414:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 12; j++) {
 415:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 416:Src/LTC6811.c **** 		}
 417:Src/LTC6811.c **** 	}
 418:Src/LTC6811.c **** 
 419:Src/LTC6811.c **** 	return disconnect;
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 11


 420:Src/LTC6811.c **** }
 421:Src/LTC6811.c **** 
 422:Src/LTC6811.c **** bool dischargeCellGroups(BMSconfigStructTypedef config, bool cellDischarge[12][8]) {
 423:Src/LTC6811.c **** 	
 424:Src/LTC6811.c **** 	BMSconfigStructTypedef *cfg;
 425:Src/LTC6811.c **** 
 426:Src/LTC6811.c **** 	cfg = &config;
 427:Src/LTC6811.c **** 
 428:Src/LTC6811.c **** 	for (uint8_t i = 0; i < config.numOfICs; i++) {
 429:Src/LTC6811.c **** 
 430:Src/LTC6811.c **** 		cfg->DischargeCell1 = cellDischarge[i][0];
 431:Src/LTC6811.c **** 		cfg->DischargeCell2 = cellDischarge[i][1];
 432:Src/LTC6811.c **** 		cfg->DischargeCell3 = cellDischarge[i][2];
 433:Src/LTC6811.c **** 		cfg->DischargeCell4 = cellDischarge[i][3];
 434:Src/LTC6811.c **** 		cfg->DischargeCell7 = cellDischarge[i][4];
 435:Src/LTC6811.c **** 		cfg->DischargeCell8 = cellDischarge[i][5];
 436:Src/LTC6811.c **** 		cfg->DischargeCell9 = cellDischarge[i][6];
 437:Src/LTC6811.c **** 		cfg->DischargeCell10 = cellDischarge[i][7];
 438:Src/LTC6811.c **** 
 439:Src/LTC6811.c **** 		writeConfigAddress(config, config.address[i]);
 440:Src/LTC6811.c **** 
 441:Src/LTC6811.c **** 	}
 442:Src/LTC6811.c **** 
 443:Src/LTC6811.c **** 	HAL_Delay(config.dischargeTime);
 444:Src/LTC6811.c **** 
 445:Src/LTC6811.c **** 	for (uint8_t i = 0; i < config.numOfICs; i++) {
 446:Src/LTC6811.c **** 		
 447:Src/LTC6811.c **** 		cfg->DischargeCell1 = 0;
 448:Src/LTC6811.c **** 		cfg->DischargeCell2 = 0;
 449:Src/LTC6811.c **** 		cfg->DischargeCell3 = 0;
 450:Src/LTC6811.c **** 		cfg->DischargeCell4 = 0;
 451:Src/LTC6811.c **** 		cfg->DischargeCell7 = 0;
 452:Src/LTC6811.c **** 		cfg->DischargeCell8 = 0;
 453:Src/LTC6811.c **** 		cfg->DischargeCell9 = 0;
 454:Src/LTC6811.c **** 		cfg->DischargeCell10 = 0;
 455:Src/LTC6811.c **** 
 456:Src/LTC6811.c **** 		writeConfigAddress(config, config.address[i]);
 457:Src/LTC6811.c **** 
 458:Src/LTC6811.c **** 	}
 459:Src/LTC6811.c **** 
 460:Src/LTC6811.c **** 	return 0;
 461:Src/LTC6811.c **** 	
 462:Src/LTC6811.c **** }
 463:Src/LTC6811.c **** 
 464:Src/LTC6811.c **** /*bool dischargeCell(BMSconfigStructTypedef config, bool cellDischarge[8]) {
 465:Src/LTC6811.c **** 	
 466:Src/LTC6811.c **** 	BMSconfigStructTypedef *cfg;
 467:Src/LTC6811.c **** 	cfg = &config;
 468:Src/LTC6811.c **** 	
 469:Src/LTC6811.c **** 	cfg->DischargeCell1 = cellDischarge[0];
 470:Src/LTC6811.c **** 	cfg->DischargeCell2 = cellDischarge[1];
 471:Src/LTC6811.c **** 	cfg->DischargeCell3 = cellDischarge[2];
 472:Src/LTC6811.c **** 	cfg->DischargeCell4 = cellDischarge[3];
 473:Src/LTC6811.c **** 	cfg->DischargeCell7 = cellDischarge[4];
 474:Src/LTC6811.c **** 	cfg->DischargeCell8 = cellDischarge[5];
 475:Src/LTC6811.c **** 	cfg->DischargeCell9 = cellDischarge[6];
 476:Src/LTC6811.c **** 	cfg->DischargeCell10 = cellDischarge[7];
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 12


 477:Src/LTC6811.c **** 	
 478:Src/LTC6811.c **** 	writeConfig(config, 0, 1);
 479:Src/LTC6811.c **** 	
 480:Src/LTC6811.c **** 	return 0;
 481:Src/LTC6811.c **** 	
 482:Src/LTC6811.c **** }*/
 483:Src/LTC6811.c **** 
 484:Src/LTC6811.c **** bool readRegister(CommandCodeTypedef command, uint8_t address, uint16_t *data) {
 485:Src/LTC6811.c **** 	
 486:Src/LTC6811.c **** 	//send command and address in first two bytes
 487:Src/LTC6811.c **** 	//send PEC in next two bytes
 488:Src/LTC6811.c **** 	//SPI writeread
 489:Src/LTC6811.c **** 	//calculate PEC based off received data bytes
 490:Src/LTC6811.c **** 	//if received PEC matches calculated PEC, return true (data valid)
 491:Src/LTC6811.c **** 	
 492:Src/LTC6811.c **** 	uint8_t cmd[12];
 493:Src/LTC6811.c **** 	uint8_t rx_data[12];
 494:Src/LTC6811.c **** 	uint16_t PEC_return;
 495:Src/LTC6811.c **** 	uint8_t *PEC_send;
 496:Src/LTC6811.c **** 	bool dataValid = true;
 497:Src/LTC6811.c **** 
 498:Src/LTC6811.c **** 	PEC_send = (uint8_t *)malloc(6*sizeof(uint8_t));
 499:Src/LTC6811.c **** 	
 500:Src/LTC6811.c **** 	PEC_send[0] = (uint8_t) (0x80 | ((address << 3) & 0x78) | ((command >> 8) & 0x07));
 501:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 502:Src/LTC6811.c **** 
 503:Src/LTC6811.c **** 	cmd[0] = PEC_send[0];
 504:Src/LTC6811.c **** 	cmd[1] = PEC_send[1];
 505:Src/LTC6811.c **** 	
 506:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, PEC_send);
 507:Src/LTC6811.c **** 	
 508:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 509:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 510:Src/LTC6811.c **** 	
 511:Src/LTC6811.c **** 	cmd[4] = 0;
 512:Src/LTC6811.c **** 	cmd[5] = 0;
 513:Src/LTC6811.c **** 	cmd[6] = 0;
 514:Src/LTC6811.c **** 	cmd[7] = 0;
 515:Src/LTC6811.c **** 	cmd[8] = 0;
 516:Src/LTC6811.c **** 	cmd[9] = 0;
 517:Src/LTC6811.c **** 	cmd[10] = 0;
 518:Src/LTC6811.c **** 	cmd[11] = 0;
 519:Src/LTC6811.c **** 	
 520:Src/LTC6811.c **** 	SPIWriteRead(cmd, rx_data, sizeof(cmd)); // send 4 command bytes, receive 6 cell voltage bytes (4-
 521:Src/LTC6811.c **** 	
 522:Src/LTC6811.c **** 	// calculate PEC based on cell voltage data received
 523:Src/LTC6811.c **** 	PEC_send[0] = rx_data[4]; // cell 1 voltage low bytes
 524:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 525:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 526:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 527:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 528:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 529:Src/LTC6811.c **** 	
 530:Src/LTC6811.c **** 	PEC_return = calculatePEC(6, PEC_send);
 531:Src/LTC6811.c **** 	
 532:Src/LTC6811.c **** 	// check if received PEC matches calculated PEC
 533:Src/LTC6811.c **** 	if (PEC_return != (((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF))) {
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 13


 534:Src/LTC6811.c **** 		dataValid = false;
 535:Src/LTC6811.c **** 	}
 536:Src/LTC6811.c **** 	
 537:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup1to3) {
 538:Src/LTC6811.c **** 		
 539:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 540:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 541:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 542:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 543:Src/LTC6811.c **** 		//data[4] = PEC_return;
 544:Src/LTC6811.c **** 	}
 545:Src/LTC6811.c **** 
 546:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup4to6) {
 547:Src/LTC6811.c **** 		
 548:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 549:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 550:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 551:Src/LTC6811.c **** 	}
 552:Src/LTC6811.c **** 	
 553:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup7to9) {
 554:Src/LTC6811.c **** 		
 555:Src/LTC6811.c **** 		data[6] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 556:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 557:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 558:Src/LTC6811.c **** 	}
 559:Src/LTC6811.c **** 	
 560:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup10to12) {
 561:Src/LTC6811.c **** 		
 562:Src/LTC6811.c **** 		data[9] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 563:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 564:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 565:Src/LTC6811.c **** 	}
 566:Src/LTC6811.c **** 	
 567:Src/LTC6811.c **** 	if (command == ReadAuxiliaryGroupA) {
 568:Src/LTC6811.c **** 		
 569:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 570:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 571:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 572:Src/LTC6811.c **** 	}
 573:Src/LTC6811.c **** 	
 574:Src/LTC6811.c **** 	if (command == ReadAuxiliaryGroupB) {
 575:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 576:Src/LTC6811.c **** 	}
 577:Src/LTC6811.c **** 	
 578:Src/LTC6811.c **** 	if (command == ReadConfigurationRegisterGroup) {
 579:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[4] << 8) & 0xFF00) | (rx_data[5] & 0x00FF);
 580:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 581:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 582:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 583:Src/LTC6811.c **** 	}
 584:Src/LTC6811.c **** 	
 585:Src/LTC6811.c **** 	return(dataValid);
 586:Src/LTC6811.c **** 	
 587:Src/LTC6811.c **** };
 588:Src/LTC6811.c **** 
 589:Src/LTC6811.c **** void sendBroadcastCommand(CommandCodeTypedef command) {
 590:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 14


 591:Src/LTC6811.c **** 	uint8_t cmd[4];
 592:Src/LTC6811.c **** 	uint16_t PEC_return;
 593:Src/LTC6811.c **** 	
 594:Src/LTC6811.c **** 	cmd[0] = (uint8_t) ((command >> 8) & 0x0F);
 595:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 596:Src/LTC6811.c **** 	
 597:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, (uint8_t *)&(cmd));
 598:Src/LTC6811.c **** 	
 599:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 600:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 601:Src/LTC6811.c **** 	
 602:Src/LTC6811.c **** 	SPIWrite(cmd, 4);
 603:Src/LTC6811.c **** };
 604:Src/LTC6811.c **** 
 605:Src/LTC6811.c **** void sendAddressCommand(CommandCodeTypedef command, uint8_t address) {
 606:Src/LTC6811.c **** 	
 607:Src/LTC6811.c **** 	uint8_t cmd[4];
 608:Src/LTC6811.c **** 	uint16_t PEC_return;
 609:Src/LTC6811.c **** 	uint8_t *msbytes;
 610:Src/LTC6811.c **** 	
 611:Src/LTC6811.c **** 	msbytes = (uint8_t *)malloc(2*sizeof(uint8_t));
 612:Src/LTC6811.c **** 	
 613:Src/LTC6811.c **** 	msbytes[0] = (uint8_t) (0x80 | ((address << 3) & 0x78) | ((command >> 8) & 0x07));
 614:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 615:Src/LTC6811.c **** 
 616:Src/LTC6811.c **** 	cmd[0] = msbytes[0];
 617:Src/LTC6811.c **** 	cmd[1] = msbytes[1];
 618:Src/LTC6811.c **** 	
 619:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, msbytes);
 620:Src/LTC6811.c **** 	
 621:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 622:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 623:Src/LTC6811.c **** 	
 624:Src/LTC6811.c **** 	SPIWrite(cmd, 4);
 625:Src/LTC6811.c **** 	
 626:Src/LTC6811.c **** 	free(msbytes);
 627:Src/LTC6811.c **** };
 628:Src/LTC6811.c **** 
 629:Src/LTC6811.c **** uint16_t calculatePEC(uint8_t len, uint8_t *data) {
 134              		.loc 1 629 51 is_stmt 1 view -0
 135              		.cfi_startproc
 136              		@ args = 0, pretend = 0, frame = 0
 137              		@ frame_needed = 0, uses_anonymous_args = 0
 138              		@ link register save eliminated.
 139              		.loc 1 629 51 is_stmt 0 view .LVU35
 140 0000 30B4     		push	{r4, r5}
 141              	.LCFI0:
 142              		.cfi_def_cfa_offset 8
 143              		.cfi_offset 4, -8
 144              		.cfi_offset 5, -4
 630:Src/LTC6811.c **** 	
 631:Src/LTC6811.c **** 	uint16_t remainder, address;
 145              		.loc 1 631 2 is_stmt 1 view .LVU36
 632:Src/LTC6811.c **** 	remainder = 16; //PEC seed
 146              		.loc 1 632 2 view .LVU37
 147              	.LVL13:
 633:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 15


 634:Src/LTC6811.c **** 	for (int i = 0; i < len; i++) {
 148              		.loc 1 634 2 view .LVU38
 149              	.LBB5:
 150              		.loc 1 634 7 view .LVU39
 151              		.loc 1 634 11 is_stmt 0 view .LVU40
 152 0002 0024     		movs	r4, #0
 153              	.LBE5:
 632:Src/LTC6811.c **** 	remainder = 16; //PEC seed
 154              		.loc 1 632 12 view .LVU41
 155 0004 1022     		movs	r2, #16
 156              	.LVL14:
 157              	.L13:
 158              	.LBB6:
 159              		.loc 1 634 2 discriminator 1 view .LVU42
 160 0006 A042     		cmp	r0, r4
 161 0008 0BDD     		ble	.L16
 635:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 162              		.loc 1 635 3 is_stmt 1 discriminator 3 view .LVU43
 163              		.loc 1 635 37 is_stmt 0 discriminator 3 view .LVU44
 164 000a 0B5D     		ldrb	r3, [r1, r4]	@ zero_extendqisi2
 165              		.loc 1 635 31 discriminator 3 view .LVU45
 166 000c 83EAD213 		eor	r3, r3, r2, lsr #7
 167              		.loc 1 635 11 discriminator 3 view .LVU46
 168 0010 DBB2     		uxtb	r3, r3
 169              	.LVL15:
 636:Src/LTC6811.c **** 		remainder = (remainder << 8) ^ pec15Table[address];
 170              		.loc 1 636 3 is_stmt 1 discriminator 3 view .LVU47
 171              		.loc 1 636 44 is_stmt 0 discriminator 3 view .LVU48
 172 0012 064D     		ldr	r5, .L17
 173 0014 35F91330 		ldrsh	r3, [r5, r3, lsl #1]
 174              	.LVL16:
 175              		.loc 1 636 32 discriminator 3 view .LVU49
 176 0018 83EA0222 		eor	r2, r3, r2, lsl #8
 177              	.LVL17:
 178              		.loc 1 636 13 discriminator 3 view .LVU50
 179 001c 92B2     		uxth	r2, r2
 180              	.LVL18:
 634:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 181              		.loc 1 634 28 discriminator 3 view .LVU51
 182 001e 0134     		adds	r4, r4, #1
 183              	.LVL19:
 634:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 184              		.loc 1 634 28 discriminator 3 view .LVU52
 185 0020 F1E7     		b	.L13
 186              	.L16:
 634:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 187              		.loc 1 634 28 discriminator 3 view .LVU53
 188              	.LBE6:
 637:Src/LTC6811.c **** 	}
 638:Src/LTC6811.c **** 	
 639:Src/LTC6811.c **** 	return (remainder * 2); //The CRC15 has a 0 in the LSB so the final value must be multiplied by 2
 189              		.loc 1 639 2 is_stmt 1 view .LVU54
 190              		.loc 1 639 20 is_stmt 0 view .LVU55
 191 0022 5000     		lsls	r0, r2, #1
 192              	.LVL20:
 193              		.loc 1 639 20 view .LVU56
 194 0024 80B2     		uxth	r0, r0
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 16


 640:Src/LTC6811.c **** };
 195              		.loc 1 640 1 view .LVU57
 196 0026 30BC     		pop	{r4, r5}
 197              	.LCFI1:
 198              		.cfi_restore 5
 199              		.cfi_restore 4
 200              		.cfi_def_cfa_offset 0
 201              	.LVL21:
 202              		.loc 1 640 1 view .LVU58
 203 0028 7047     		bx	lr
 204              	.L18:
 205 002a 00BF     		.align	2
 206              	.L17:
 207 002c 00000000 		.word	pec15Table
 208              		.cfi_endproc
 209              	.LFE80:
 211              		.section	.text.readRegister,"ax",%progbits
 212              		.align	1
 213              		.global	readRegister
 214              		.syntax unified
 215              		.thumb
 216              		.thumb_func
 217              		.fpu softvfp
 219              	readRegister:
 220              	.LVL22:
 221              	.LFB77:
 484:Src/LTC6811.c **** 	
 222              		.loc 1 484 80 is_stmt 1 view -0
 223              		.cfi_startproc
 224              		@ args = 0, pretend = 0, frame = 24
 225              		@ frame_needed = 0, uses_anonymous_args = 0
 484:Src/LTC6811.c **** 	
 226              		.loc 1 484 80 is_stmt 0 view .LVU60
 227 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 228              	.LCFI2:
 229              		.cfi_def_cfa_offset 20
 230              		.cfi_offset 4, -20
 231              		.cfi_offset 5, -16
 232              		.cfi_offset 6, -12
 233              		.cfi_offset 7, -8
 234              		.cfi_offset 14, -4
 235 0002 87B0     		sub	sp, sp, #28
 236              	.LCFI3:
 237              		.cfi_def_cfa_offset 48
 238 0004 0646     		mov	r6, r0
 239 0006 0C46     		mov	r4, r1
 240 0008 1746     		mov	r7, r2
 492:Src/LTC6811.c **** 	uint8_t rx_data[12];
 241              		.loc 1 492 2 is_stmt 1 view .LVU61
 493:Src/LTC6811.c **** 	uint16_t PEC_return;
 242              		.loc 1 493 2 view .LVU62
 494:Src/LTC6811.c **** 	uint8_t *PEC_send;
 243              		.loc 1 494 2 view .LVU63
 495:Src/LTC6811.c **** 	bool dataValid = true;
 244              		.loc 1 495 2 view .LVU64
 496:Src/LTC6811.c **** 
 245              		.loc 1 496 2 view .LVU65
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 17


 246              	.LVL23:
 498:Src/LTC6811.c **** 	
 247              		.loc 1 498 2 view .LVU66
 498:Src/LTC6811.c **** 	
 248              		.loc 1 498 24 is_stmt 0 view .LVU67
 249 000a 0620     		movs	r0, #6
 250              	.LVL24:
 498:Src/LTC6811.c **** 	
 251              		.loc 1 498 24 view .LVU68
 252 000c FFF7FEFF 		bl	malloc
 253              	.LVL25:
 498:Src/LTC6811.c **** 	
 254              		.loc 1 498 24 view .LVU69
 255 0010 0546     		mov	r5, r0
 256              	.LVL26:
 500:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 257              		.loc 1 500 2 is_stmt 1 view .LVU70
 500:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 258              		.loc 1 500 44 is_stmt 0 view .LVU71
 259 0012 E300     		lsls	r3, r4, #3
 500:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 260              		.loc 1 500 50 view .LVU72
 261 0014 03F07803 		and	r3, r3, #120
 500:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 262              		.loc 1 500 32 view .LVU73
 263 0018 63F07F03 		orn	r3, r3, #127
 500:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 264              		.loc 1 500 76 view .LVU74
 265 001c C6F30224 		ubfx	r4, r6, #8, #3
 500:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 266              		.loc 1 500 58 view .LVU75
 267 0020 2343     		orrs	r3, r3, r4
 500:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 268              		.loc 1 500 16 view .LVU76
 269 0022 DBB2     		uxtb	r3, r3
 500:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 270              		.loc 1 500 14 view .LVU77
 271 0024 0370     		strb	r3, [r0]
 501:Src/LTC6811.c **** 
 272              		.loc 1 501 2 is_stmt 1 view .LVU78
 501:Src/LTC6811.c **** 
 273              		.loc 1 501 16 is_stmt 0 view .LVU79
 274 0026 F2B2     		uxtb	r2, r6
 501:Src/LTC6811.c **** 
 275              		.loc 1 501 14 view .LVU80
 276 0028 4270     		strb	r2, [r0, #1]
 503:Src/LTC6811.c **** 	cmd[1] = PEC_send[1];
 277              		.loc 1 503 2 is_stmt 1 view .LVU81
 503:Src/LTC6811.c **** 	cmd[1] = PEC_send[1];
 278              		.loc 1 503 9 is_stmt 0 view .LVU82
 279 002a 8DF80C30 		strb	r3, [sp, #12]
 504:Src/LTC6811.c **** 	
 280              		.loc 1 504 2 is_stmt 1 view .LVU83
 504:Src/LTC6811.c **** 	
 281              		.loc 1 504 9 is_stmt 0 view .LVU84
 282 002e 8DF80D20 		strb	r2, [sp, #13]
 506:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 18


 283              		.loc 1 506 2 is_stmt 1 view .LVU85
 506:Src/LTC6811.c **** 	
 284              		.loc 1 506 15 is_stmt 0 view .LVU86
 285 0032 0146     		mov	r1, r0
 286 0034 0220     		movs	r0, #2
 287              	.LVL27:
 506:Src/LTC6811.c **** 	
 288              		.loc 1 506 15 view .LVU87
 289 0036 FFF7FEFF 		bl	calculatePEC
 290              	.LVL28:
 508:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 291              		.loc 1 508 2 is_stmt 1 view .LVU88
 508:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 292              		.loc 1 508 9 is_stmt 0 view .LVU89
 293 003a 030A     		lsrs	r3, r0, #8
 294 003c 8DF80E30 		strb	r3, [sp, #14]
 509:Src/LTC6811.c **** 	
 295              		.loc 1 509 2 is_stmt 1 view .LVU90
 509:Src/LTC6811.c **** 	
 296              		.loc 1 509 9 is_stmt 0 view .LVU91
 297 0040 8DF80F00 		strb	r0, [sp, #15]
 511:Src/LTC6811.c **** 	cmd[5] = 0;
 298              		.loc 1 511 2 is_stmt 1 view .LVU92
 511:Src/LTC6811.c **** 	cmd[5] = 0;
 299              		.loc 1 511 9 is_stmt 0 view .LVU93
 300 0044 0023     		movs	r3, #0
 301 0046 8DF81030 		strb	r3, [sp, #16]
 512:Src/LTC6811.c **** 	cmd[6] = 0;
 302              		.loc 1 512 2 is_stmt 1 view .LVU94
 512:Src/LTC6811.c **** 	cmd[6] = 0;
 303              		.loc 1 512 9 is_stmt 0 view .LVU95
 304 004a 8DF81130 		strb	r3, [sp, #17]
 513:Src/LTC6811.c **** 	cmd[7] = 0;
 305              		.loc 1 513 2 is_stmt 1 view .LVU96
 513:Src/LTC6811.c **** 	cmd[7] = 0;
 306              		.loc 1 513 9 is_stmt 0 view .LVU97
 307 004e 8DF81230 		strb	r3, [sp, #18]
 514:Src/LTC6811.c **** 	cmd[8] = 0;
 308              		.loc 1 514 2 is_stmt 1 view .LVU98
 514:Src/LTC6811.c **** 	cmd[8] = 0;
 309              		.loc 1 514 9 is_stmt 0 view .LVU99
 310 0052 8DF81330 		strb	r3, [sp, #19]
 515:Src/LTC6811.c **** 	cmd[9] = 0;
 311              		.loc 1 515 2 is_stmt 1 view .LVU100
 515:Src/LTC6811.c **** 	cmd[9] = 0;
 312              		.loc 1 515 9 is_stmt 0 view .LVU101
 313 0056 8DF81430 		strb	r3, [sp, #20]
 516:Src/LTC6811.c **** 	cmd[10] = 0;
 314              		.loc 1 516 2 is_stmt 1 view .LVU102
 516:Src/LTC6811.c **** 	cmd[10] = 0;
 315              		.loc 1 516 9 is_stmt 0 view .LVU103
 316 005a 8DF81530 		strb	r3, [sp, #21]
 517:Src/LTC6811.c **** 	cmd[11] = 0;
 317              		.loc 1 517 2 is_stmt 1 view .LVU104
 517:Src/LTC6811.c **** 	cmd[11] = 0;
 318              		.loc 1 517 10 is_stmt 0 view .LVU105
 319 005e 8DF81630 		strb	r3, [sp, #22]
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 19


 518:Src/LTC6811.c **** 	
 320              		.loc 1 518 2 is_stmt 1 view .LVU106
 518:Src/LTC6811.c **** 	
 321              		.loc 1 518 10 is_stmt 0 view .LVU107
 322 0062 8DF81730 		strb	r3, [sp, #23]
 520:Src/LTC6811.c **** 	
 323              		.loc 1 520 2 is_stmt 1 view .LVU108
 324 0066 0C22     		movs	r2, #12
 325 0068 6946     		mov	r1, sp
 326 006a 0DEB0200 		add	r0, sp, r2
 327              	.LVL29:
 520:Src/LTC6811.c **** 	
 328              		.loc 1 520 2 is_stmt 0 view .LVU109
 329 006e FFF7FEFF 		bl	SPIWriteRead
 330              	.LVL30:
 523:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 331              		.loc 1 523 2 is_stmt 1 view .LVU110
 523:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 332              		.loc 1 523 23 is_stmt 0 view .LVU111
 333 0072 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 523:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 334              		.loc 1 523 14 view .LVU112
 335 0076 2B70     		strb	r3, [r5]
 524:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 336              		.loc 1 524 2 is_stmt 1 view .LVU113
 524:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 337              		.loc 1 524 23 is_stmt 0 view .LVU114
 338 0078 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 524:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 339              		.loc 1 524 14 view .LVU115
 340 007c 6B70     		strb	r3, [r5, #1]
 525:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 341              		.loc 1 525 2 is_stmt 1 view .LVU116
 525:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 342              		.loc 1 525 23 is_stmt 0 view .LVU117
 343 007e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 525:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 344              		.loc 1 525 14 view .LVU118
 345 0082 AB70     		strb	r3, [r5, #2]
 526:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 346              		.loc 1 526 2 is_stmt 1 view .LVU119
 526:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 347              		.loc 1 526 23 is_stmt 0 view .LVU120
 348 0084 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 526:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 349              		.loc 1 526 14 view .LVU121
 350 0088 EB70     		strb	r3, [r5, #3]
 527:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 351              		.loc 1 527 2 is_stmt 1 view .LVU122
 527:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 352              		.loc 1 527 23 is_stmt 0 view .LVU123
 353 008a 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 527:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 354              		.loc 1 527 14 view .LVU124
 355 008e 2B71     		strb	r3, [r5, #4]
 528:Src/LTC6811.c **** 	
 356              		.loc 1 528 2 is_stmt 1 view .LVU125
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 20


 528:Src/LTC6811.c **** 	
 357              		.loc 1 528 23 is_stmt 0 view .LVU126
 358 0090 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 528:Src/LTC6811.c **** 	
 359              		.loc 1 528 14 view .LVU127
 360 0094 6B71     		strb	r3, [r5, #5]
 530:Src/LTC6811.c **** 	
 361              		.loc 1 530 2 is_stmt 1 view .LVU128
 530:Src/LTC6811.c **** 	
 362              		.loc 1 530 15 is_stmt 0 view .LVU129
 363 0096 2946     		mov	r1, r5
 364 0098 0620     		movs	r0, #6
 365 009a FFF7FEFF 		bl	calculatePEC
 366              	.LVL31:
 533:Src/LTC6811.c **** 		dataValid = false;
 367              		.loc 1 533 2 is_stmt 1 view .LVU130
 533:Src/LTC6811.c **** 		dataValid = false;
 368              		.loc 1 533 30 is_stmt 0 view .LVU131
 369 009e 9DF80A20 		ldrb	r2, [sp, #10]	@ zero_extendqisi2
 533:Src/LTC6811.c **** 		dataValid = false;
 370              		.loc 1 533 61 view .LVU132
 371 00a2 9DF80B30 		ldrb	r3, [sp, #11]	@ zero_extendqisi2
 533:Src/LTC6811.c **** 		dataValid = false;
 372              		.loc 1 533 51 view .LVU133
 373 00a6 43EA0223 		orr	r3, r3, r2, lsl #8
 533:Src/LTC6811.c **** 		dataValid = false;
 374              		.loc 1 533 5 view .LVU134
 375 00aa 9842     		cmp	r0, r3
 376 00ac 12D0     		beq	.L30
 534:Src/LTC6811.c **** 	}
 377              		.loc 1 534 13 view .LVU135
 378 00ae 0020     		movs	r0, #0
 379              	.LVL32:
 380              	.L20:
 537:Src/LTC6811.c **** 		
 381              		.loc 1 537 2 is_stmt 1 view .LVU136
 537:Src/LTC6811.c **** 		
 382              		.loc 1 537 5 is_stmt 0 view .LVU137
 383 00b0 042E     		cmp	r6, #4
 384 00b2 11D0     		beq	.L31
 385              	.L21:
 546:Src/LTC6811.c **** 		
 386              		.loc 1 546 2 is_stmt 1 view .LVU138
 546:Src/LTC6811.c **** 		
 387              		.loc 1 546 5 is_stmt 0 view .LVU139
 388 00b4 062E     		cmp	r6, #6
 389 00b6 28D0     		beq	.L32
 390              	.L22:
 553:Src/LTC6811.c **** 		
 391              		.loc 1 553 2 is_stmt 1 view .LVU140
 553:Src/LTC6811.c **** 		
 392              		.loc 1 553 5 is_stmt 0 view .LVU141
 393 00b8 082E     		cmp	r6, #8
 394 00ba 3FD0     		beq	.L33
 395              	.L23:
 560:Src/LTC6811.c **** 		
 396              		.loc 1 560 2 is_stmt 1 view .LVU142
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 21


 560:Src/LTC6811.c **** 		
 397              		.loc 1 560 5 is_stmt 0 view .LVU143
 398 00bc 0A2E     		cmp	r6, #10
 399 00be 56D0     		beq	.L34
 400              	.L24:
 567:Src/LTC6811.c **** 		
 401              		.loc 1 567 2 is_stmt 1 view .LVU144
 567:Src/LTC6811.c **** 		
 402              		.loc 1 567 5 is_stmt 0 view .LVU145
 403 00c0 0C2E     		cmp	r6, #12
 404 00c2 6DD0     		beq	.L35
 405              	.L25:
 574:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 406              		.loc 1 574 2 is_stmt 1 view .LVU146
 574:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 407              		.loc 1 574 5 is_stmt 0 view .LVU147
 408 00c4 0E2E     		cmp	r6, #14
 409 00c6 00F08480 		beq	.L36
 410              	.L26:
 578:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[4] << 8) & 0xFF00) | (rx_data[5] & 0x00FF);
 411              		.loc 1 578 2 is_stmt 1 view .LVU148
 578:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[4] << 8) & 0xFF00) | (rx_data[5] & 0x00FF);
 412              		.loc 1 578 5 is_stmt 0 view .LVU149
 413 00ca 022E     		cmp	r6, #2
 414 00cc 00F08A80 		beq	.L37
 415              	.L27:
 585:Src/LTC6811.c **** 	
 416              		.loc 1 585 2 is_stmt 1 view .LVU150
 587:Src/LTC6811.c **** 
 417              		.loc 1 587 1 is_stmt 0 view .LVU151
 418 00d0 07B0     		add	sp, sp, #28
 419              	.LCFI4:
 420              		.cfi_remember_state
 421              		.cfi_def_cfa_offset 20
 422              		@ sp needed
 423 00d2 F0BD     		pop	{r4, r5, r6, r7, pc}
 424              	.LVL33:
 425              	.L30:
 426              	.LCFI5:
 427              		.cfi_restore_state
 496:Src/LTC6811.c **** 
 428              		.loc 1 496 7 view .LVU152
 429 00d4 0120     		movs	r0, #1
 430              	.LVL34:
 496:Src/LTC6811.c **** 
 431              		.loc 1 496 7 view .LVU153
 432 00d6 EBE7     		b	.L20
 433              	.LVL35:
 434              	.L31:
 539:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 435              		.loc 1 539 3 is_stmt 1 view .LVU154
 539:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 436              		.loc 1 539 33 is_stmt 0 view .LVU155
 437 00d8 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 539:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 438              		.loc 1 539 37 view .LVU156
 439 00dc 1B02     		lsls	r3, r3, #8
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 22


 539:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 440              		.loc 1 539 13 view .LVU157
 441 00de 1BB2     		sxth	r3, r3
 539:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 442              		.loc 1 539 63 view .LVU158
 443 00e0 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 539:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 444              		.loc 1 539 53 view .LVU159
 445 00e4 1343     		orrs	r3, r3, r2
 539:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 446              		.loc 1 539 11 view .LVU160
 447 00e6 3B80     		strh	r3, [r7]	@ movhi
 540:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 448              		.loc 1 540 3 is_stmt 1 view .LVU161
 540:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 449              		.loc 1 540 33 is_stmt 0 view .LVU162
 450 00e8 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 540:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 451              		.loc 1 540 37 view .LVU163
 452 00ec 1B02     		lsls	r3, r3, #8
 540:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 453              		.loc 1 540 13 view .LVU164
 454 00ee 1BB2     		sxth	r3, r3
 540:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 455              		.loc 1 540 63 view .LVU165
 456 00f0 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 540:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 457              		.loc 1 540 53 view .LVU166
 458 00f4 1343     		orrs	r3, r3, r2
 540:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 459              		.loc 1 540 11 view .LVU167
 460 00f6 7B80     		strh	r3, [r7, #2]	@ movhi
 541:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 461              		.loc 1 541 3 is_stmt 1 view .LVU168
 541:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 462              		.loc 1 541 33 is_stmt 0 view .LVU169
 463 00f8 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 541:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 464              		.loc 1 541 37 view .LVU170
 465 00fc 1B02     		lsls	r3, r3, #8
 541:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 466              		.loc 1 541 13 view .LVU171
 467 00fe 1BB2     		sxth	r3, r3
 541:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 468              		.loc 1 541 63 view .LVU172
 469 0100 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 541:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 470              		.loc 1 541 53 view .LVU173
 471 0104 1343     		orrs	r3, r3, r2
 541:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 472              		.loc 1 541 11 view .LVU174
 473 0106 BB80     		strh	r3, [r7, #4]	@ movhi
 474 0108 D4E7     		b	.L21
 475              	.L32:
 548:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 476              		.loc 1 548 3 is_stmt 1 view .LVU175
 548:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 23


 477              		.loc 1 548 33 is_stmt 0 view .LVU176
 478 010a 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 548:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 479              		.loc 1 548 37 view .LVU177
 480 010e 1B02     		lsls	r3, r3, #8
 548:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 481              		.loc 1 548 13 view .LVU178
 482 0110 1BB2     		sxth	r3, r3
 548:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 483              		.loc 1 548 63 view .LVU179
 484 0112 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 548:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 485              		.loc 1 548 53 view .LVU180
 486 0116 1343     		orrs	r3, r3, r2
 548:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 487              		.loc 1 548 11 view .LVU181
 488 0118 FB80     		strh	r3, [r7, #6]	@ movhi
 549:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 489              		.loc 1 549 3 is_stmt 1 view .LVU182
 549:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 490              		.loc 1 549 33 is_stmt 0 view .LVU183
 491 011a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 549:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 492              		.loc 1 549 37 view .LVU184
 493 011e 1B02     		lsls	r3, r3, #8
 549:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 494              		.loc 1 549 13 view .LVU185
 495 0120 1BB2     		sxth	r3, r3
 549:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 496              		.loc 1 549 63 view .LVU186
 497 0122 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 549:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 498              		.loc 1 549 53 view .LVU187
 499 0126 1343     		orrs	r3, r3, r2
 549:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 500              		.loc 1 549 11 view .LVU188
 501 0128 3B81     		strh	r3, [r7, #8]	@ movhi
 550:Src/LTC6811.c **** 	}
 502              		.loc 1 550 3 is_stmt 1 view .LVU189
 550:Src/LTC6811.c **** 	}
 503              		.loc 1 550 33 is_stmt 0 view .LVU190
 504 012a 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 550:Src/LTC6811.c **** 	}
 505              		.loc 1 550 37 view .LVU191
 506 012e 1B02     		lsls	r3, r3, #8
 550:Src/LTC6811.c **** 	}
 507              		.loc 1 550 13 view .LVU192
 508 0130 1BB2     		sxth	r3, r3
 550:Src/LTC6811.c **** 	}
 509              		.loc 1 550 63 view .LVU193
 510 0132 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 550:Src/LTC6811.c **** 	}
 511              		.loc 1 550 53 view .LVU194
 512 0136 1343     		orrs	r3, r3, r2
 550:Src/LTC6811.c **** 	}
 513              		.loc 1 550 11 view .LVU195
 514 0138 7B81     		strh	r3, [r7, #10]	@ movhi
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 24


 515 013a BDE7     		b	.L22
 516              	.L33:
 555:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 517              		.loc 1 555 3 is_stmt 1 view .LVU196
 555:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 518              		.loc 1 555 33 is_stmt 0 view .LVU197
 519 013c 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 555:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 520              		.loc 1 555 37 view .LVU198
 521 0140 1B02     		lsls	r3, r3, #8
 555:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 522              		.loc 1 555 13 view .LVU199
 523 0142 1BB2     		sxth	r3, r3
 555:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 524              		.loc 1 555 63 view .LVU200
 525 0144 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 555:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 526              		.loc 1 555 53 view .LVU201
 527 0148 1343     		orrs	r3, r3, r2
 555:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 528              		.loc 1 555 11 view .LVU202
 529 014a BB81     		strh	r3, [r7, #12]	@ movhi
 556:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 530              		.loc 1 556 3 is_stmt 1 view .LVU203
 556:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 531              		.loc 1 556 33 is_stmt 0 view .LVU204
 532 014c 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 556:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 533              		.loc 1 556 37 view .LVU205
 534 0150 1B02     		lsls	r3, r3, #8
 556:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 535              		.loc 1 556 13 view .LVU206
 536 0152 1BB2     		sxth	r3, r3
 556:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 537              		.loc 1 556 63 view .LVU207
 538 0154 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 556:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 539              		.loc 1 556 53 view .LVU208
 540 0158 1343     		orrs	r3, r3, r2
 556:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 541              		.loc 1 556 11 view .LVU209
 542 015a FB81     		strh	r3, [r7, #14]	@ movhi
 557:Src/LTC6811.c **** 	}
 543              		.loc 1 557 3 is_stmt 1 view .LVU210
 557:Src/LTC6811.c **** 	}
 544              		.loc 1 557 33 is_stmt 0 view .LVU211
 545 015c 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 557:Src/LTC6811.c **** 	}
 546              		.loc 1 557 37 view .LVU212
 547 0160 1B02     		lsls	r3, r3, #8
 557:Src/LTC6811.c **** 	}
 548              		.loc 1 557 13 view .LVU213
 549 0162 1BB2     		sxth	r3, r3
 557:Src/LTC6811.c **** 	}
 550              		.loc 1 557 63 view .LVU214
 551 0164 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 557:Src/LTC6811.c **** 	}
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 25


 552              		.loc 1 557 53 view .LVU215
 553 0168 1343     		orrs	r3, r3, r2
 557:Src/LTC6811.c **** 	}
 554              		.loc 1 557 11 view .LVU216
 555 016a 3B82     		strh	r3, [r7, #16]	@ movhi
 556 016c A6E7     		b	.L23
 557              	.L34:
 562:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 558              		.loc 1 562 3 is_stmt 1 view .LVU217
 562:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 559              		.loc 1 562 33 is_stmt 0 view .LVU218
 560 016e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 562:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 561              		.loc 1 562 37 view .LVU219
 562 0172 1B02     		lsls	r3, r3, #8
 562:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 563              		.loc 1 562 13 view .LVU220
 564 0174 1BB2     		sxth	r3, r3
 562:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 565              		.loc 1 562 63 view .LVU221
 566 0176 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 562:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 567              		.loc 1 562 53 view .LVU222
 568 017a 1343     		orrs	r3, r3, r2
 562:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 569              		.loc 1 562 11 view .LVU223
 570 017c 7B82     		strh	r3, [r7, #18]	@ movhi
 563:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 571              		.loc 1 563 3 is_stmt 1 view .LVU224
 563:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 572              		.loc 1 563 34 is_stmt 0 view .LVU225
 573 017e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 563:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 574              		.loc 1 563 38 view .LVU226
 575 0182 1B02     		lsls	r3, r3, #8
 563:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 576              		.loc 1 563 14 view .LVU227
 577 0184 1BB2     		sxth	r3, r3
 563:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 578              		.loc 1 563 64 view .LVU228
 579 0186 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 563:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 580              		.loc 1 563 54 view .LVU229
 581 018a 1343     		orrs	r3, r3, r2
 563:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 582              		.loc 1 563 12 view .LVU230
 583 018c BB82     		strh	r3, [r7, #20]	@ movhi
 564:Src/LTC6811.c **** 	}
 584              		.loc 1 564 3 is_stmt 1 view .LVU231
 564:Src/LTC6811.c **** 	}
 585              		.loc 1 564 34 is_stmt 0 view .LVU232
 586 018e 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 564:Src/LTC6811.c **** 	}
 587              		.loc 1 564 38 view .LVU233
 588 0192 1B02     		lsls	r3, r3, #8
 564:Src/LTC6811.c **** 	}
 589              		.loc 1 564 14 view .LVU234
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 26


 590 0194 1BB2     		sxth	r3, r3
 564:Src/LTC6811.c **** 	}
 591              		.loc 1 564 64 view .LVU235
 592 0196 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 564:Src/LTC6811.c **** 	}
 593              		.loc 1 564 54 view .LVU236
 594 019a 1343     		orrs	r3, r3, r2
 564:Src/LTC6811.c **** 	}
 595              		.loc 1 564 12 view .LVU237
 596 019c FB82     		strh	r3, [r7, #22]	@ movhi
 597 019e 8FE7     		b	.L24
 598              	.L35:
 569:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 599              		.loc 1 569 3 is_stmt 1 view .LVU238
 569:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 600              		.loc 1 569 33 is_stmt 0 view .LVU239
 601 01a0 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 569:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 602              		.loc 1 569 37 view .LVU240
 603 01a4 1B02     		lsls	r3, r3, #8
 569:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 604              		.loc 1 569 13 view .LVU241
 605 01a6 1BB2     		sxth	r3, r3
 569:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 606              		.loc 1 569 63 view .LVU242
 607 01a8 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 569:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 608              		.loc 1 569 53 view .LVU243
 609 01ac 1343     		orrs	r3, r3, r2
 569:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 610              		.loc 1 569 11 view .LVU244
 611 01ae 3B80     		strh	r3, [r7]	@ movhi
 570:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 612              		.loc 1 570 3 is_stmt 1 view .LVU245
 570:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 613              		.loc 1 570 33 is_stmt 0 view .LVU246
 614 01b0 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 570:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 615              		.loc 1 570 37 view .LVU247
 616 01b4 1B02     		lsls	r3, r3, #8
 570:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 617              		.loc 1 570 13 view .LVU248
 618 01b6 1BB2     		sxth	r3, r3
 570:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 619              		.loc 1 570 63 view .LVU249
 620 01b8 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 570:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 621              		.loc 1 570 53 view .LVU250
 622 01bc 1343     		orrs	r3, r3, r2
 570:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 623              		.loc 1 570 11 view .LVU251
 624 01be 7B80     		strh	r3, [r7, #2]	@ movhi
 571:Src/LTC6811.c **** 	}
 625              		.loc 1 571 3 is_stmt 1 view .LVU252
 571:Src/LTC6811.c **** 	}
 626              		.loc 1 571 33 is_stmt 0 view .LVU253
 627 01c0 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 27


 571:Src/LTC6811.c **** 	}
 628              		.loc 1 571 37 view .LVU254
 629 01c4 1B02     		lsls	r3, r3, #8
 571:Src/LTC6811.c **** 	}
 630              		.loc 1 571 13 view .LVU255
 631 01c6 1BB2     		sxth	r3, r3
 571:Src/LTC6811.c **** 	}
 632              		.loc 1 571 63 view .LVU256
 633 01c8 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 571:Src/LTC6811.c **** 	}
 634              		.loc 1 571 53 view .LVU257
 635 01cc 1343     		orrs	r3, r3, r2
 571:Src/LTC6811.c **** 	}
 636              		.loc 1 571 11 view .LVU258
 637 01ce BB80     		strh	r3, [r7, #4]	@ movhi
 638 01d0 78E7     		b	.L25
 639              	.L36:
 575:Src/LTC6811.c **** 	}
 640              		.loc 1 575 3 is_stmt 1 view .LVU259
 575:Src/LTC6811.c **** 	}
 641              		.loc 1 575 33 is_stmt 0 view .LVU260
 642 01d2 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 575:Src/LTC6811.c **** 	}
 643              		.loc 1 575 37 view .LVU261
 644 01d6 1B02     		lsls	r3, r3, #8
 575:Src/LTC6811.c **** 	}
 645              		.loc 1 575 13 view .LVU262
 646 01d8 1BB2     		sxth	r3, r3
 575:Src/LTC6811.c **** 	}
 647              		.loc 1 575 63 view .LVU263
 648 01da 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 575:Src/LTC6811.c **** 	}
 649              		.loc 1 575 53 view .LVU264
 650 01de 1343     		orrs	r3, r3, r2
 575:Src/LTC6811.c **** 	}
 651              		.loc 1 575 11 view .LVU265
 652 01e0 FB80     		strh	r3, [r7, #6]	@ movhi
 653 01e2 72E7     		b	.L26
 654              	.L37:
 579:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 655              		.loc 1 579 3 is_stmt 1 view .LVU266
 579:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 656              		.loc 1 579 33 is_stmt 0 view .LVU267
 657 01e4 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 579:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 658              		.loc 1 579 37 view .LVU268
 659 01e8 1B02     		lsls	r3, r3, #8
 579:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 660              		.loc 1 579 13 view .LVU269
 661 01ea 1BB2     		sxth	r3, r3
 579:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 662              		.loc 1 579 63 view .LVU270
 663 01ec 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 579:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 664              		.loc 1 579 53 view .LVU271
 665 01f0 1343     		orrs	r3, r3, r2
 579:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 28


 666              		.loc 1 579 11 view .LVU272
 667 01f2 3B80     		strh	r3, [r7]	@ movhi
 580:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 668              		.loc 1 580 3 is_stmt 1 view .LVU273
 580:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 669              		.loc 1 580 33 is_stmt 0 view .LVU274
 670 01f4 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 580:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 671              		.loc 1 580 37 view .LVU275
 672 01f8 1B02     		lsls	r3, r3, #8
 580:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 673              		.loc 1 580 13 view .LVU276
 674 01fa 1BB2     		sxth	r3, r3
 580:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 675              		.loc 1 580 63 view .LVU277
 676 01fc 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 580:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 677              		.loc 1 580 53 view .LVU278
 678 0200 1343     		orrs	r3, r3, r2
 580:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 679              		.loc 1 580 11 view .LVU279
 680 0202 7B80     		strh	r3, [r7, #2]	@ movhi
 581:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 681              		.loc 1 581 3 is_stmt 1 view .LVU280
 581:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 682              		.loc 1 581 33 is_stmt 0 view .LVU281
 683 0204 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 581:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 684              		.loc 1 581 37 view .LVU282
 685 0208 1B02     		lsls	r3, r3, #8
 581:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 686              		.loc 1 581 13 view .LVU283
 687 020a 1BB2     		sxth	r3, r3
 581:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 688              		.loc 1 581 63 view .LVU284
 689 020c 9DF80920 		ldrb	r2, [sp, #9]	@ zero_extendqisi2
 581:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 690              		.loc 1 581 53 view .LVU285
 691 0210 1343     		orrs	r3, r3, r2
 581:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 692              		.loc 1 581 11 view .LVU286
 693 0212 BB80     		strh	r3, [r7, #4]	@ movhi
 582:Src/LTC6811.c **** 	}
 694              		.loc 1 582 3 is_stmt 1 view .LVU287
 582:Src/LTC6811.c **** 	}
 695              		.loc 1 582 33 is_stmt 0 view .LVU288
 696 0214 9DF80A30 		ldrb	r3, [sp, #10]	@ zero_extendqisi2
 582:Src/LTC6811.c **** 	}
 697              		.loc 1 582 38 view .LVU289
 698 0218 1B02     		lsls	r3, r3, #8
 582:Src/LTC6811.c **** 	}
 699              		.loc 1 582 13 view .LVU290
 700 021a 1BB2     		sxth	r3, r3
 582:Src/LTC6811.c **** 	}
 701              		.loc 1 582 64 view .LVU291
 702 021c 9DF80B20 		ldrb	r2, [sp, #11]	@ zero_extendqisi2
 582:Src/LTC6811.c **** 	}
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 29


 703              		.loc 1 582 54 view .LVU292
 704 0220 1343     		orrs	r3, r3, r2
 582:Src/LTC6811.c **** 	}
 705              		.loc 1 582 11 view .LVU293
 706 0222 FB80     		strh	r3, [r7, #6]	@ movhi
 707 0224 54E7     		b	.L27
 708              		.cfi_endproc
 709              	.LFE77:
 711              		.section	.text.readConfig,"ax",%progbits
 712              		.align	1
 713              		.global	readConfig
 714              		.syntax unified
 715              		.thumb
 716              		.thumb_func
 717              		.fpu softvfp
 719              	readConfig:
 720              	.LVL36:
 721              	.LFB73:
 344:Src/LTC6811.c **** 	
 722              		.loc 1 344 50 is_stmt 1 view -0
 723              		.cfi_startproc
 724              		@ args = 0, pretend = 0, frame = 0
 725              		@ frame_needed = 0, uses_anonymous_args = 0
 344:Src/LTC6811.c **** 	
 726              		.loc 1 344 50 is_stmt 0 view .LVU295
 727 0000 70B5     		push	{r4, r5, r6, lr}
 728              	.LCFI6:
 729              		.cfi_def_cfa_offset 16
 730              		.cfi_offset 4, -16
 731              		.cfi_offset 5, -12
 732              		.cfi_offset 6, -8
 733              		.cfi_offset 14, -4
 734 0002 0646     		mov	r6, r0
 735 0004 0C46     		mov	r4, r1
 346:Src/LTC6811.c **** 	bool dataValid = false;
 736              		.loc 1 346 2 is_stmt 1 view .LVU296
 347:Src/LTC6811.c **** 	
 737              		.loc 1 347 2 view .LVU297
 738              	.LVL37:
 349:Src/LTC6811.c **** 	
 739              		.loc 1 349 2 view .LVU298
 349:Src/LTC6811.c **** 	
 740              		.loc 1 349 23 is_stmt 0 view .LVU299
 741 0006 0820     		movs	r0, #8
 742              	.LVL38:
 349:Src/LTC6811.c **** 	
 743              		.loc 1 349 23 view .LVU300
 744 0008 FFF7FEFF 		bl	malloc
 745              	.LVL39:
 349:Src/LTC6811.c **** 	
 746              		.loc 1 349 23 view .LVU301
 747 000c 0546     		mov	r5, r0
 748              	.LVL40:
 351:Src/LTC6811.c **** 	
 749              		.loc 1 351 2 is_stmt 1 view .LVU302
 351:Src/LTC6811.c **** 	
 750              		.loc 1 351 14 is_stmt 0 view .LVU303
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 30


 751 000e 0246     		mov	r2, r0
 752 0010 3146     		mov	r1, r6
 753 0012 0220     		movs	r0, #2
 754              	.LVL41:
 351:Src/LTC6811.c **** 	
 755              		.loc 1 351 14 view .LVU304
 756 0014 FFF7FEFF 		bl	readRegister
 757              	.LVL42:
 353:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 758              		.loc 1 353 2 is_stmt 1 view .LVU305
 353:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 759              		.loc 1 353 29 is_stmt 0 view .LVU306
 760 0018 2B88     		ldrh	r3, [r5]
 353:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 761              		.loc 1 353 11 view .LVU307
 762 001a 1A0A     		lsrs	r2, r3, #8
 353:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 763              		.loc 1 353 9 view .LVU308
 764 001c 2270     		strb	r2, [r4]
 354:Src/LTC6811.c **** 	cfg[2] = (uint8_t) ((config[1] >> 8) & 0xFF);
 765              		.loc 1 354 2 is_stmt 1 view .LVU309
 354:Src/LTC6811.c **** 	cfg[2] = (uint8_t) ((config[1] >> 8) & 0xFF);
 766              		.loc 1 354 9 is_stmt 0 view .LVU310
 767 001e 6370     		strb	r3, [r4, #1]
 355:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 768              		.loc 1 355 2 is_stmt 1 view .LVU311
 355:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 769              		.loc 1 355 29 is_stmt 0 view .LVU312
 770 0020 6B88     		ldrh	r3, [r5, #2]
 355:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 771              		.loc 1 355 11 view .LVU313
 772 0022 1A0A     		lsrs	r2, r3, #8
 355:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 773              		.loc 1 355 9 view .LVU314
 774 0024 A270     		strb	r2, [r4, #2]
 356:Src/LTC6811.c **** 	cfg[4] = (uint8_t) ((config[2] >> 8) & 0xFF);
 775              		.loc 1 356 2 is_stmt 1 view .LVU315
 356:Src/LTC6811.c **** 	cfg[4] = (uint8_t) ((config[2] >> 8) & 0xFF);
 776              		.loc 1 356 9 is_stmt 0 view .LVU316
 777 0026 E370     		strb	r3, [r4, #3]
 357:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 778              		.loc 1 357 2 is_stmt 1 view .LVU317
 357:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 779              		.loc 1 357 29 is_stmt 0 view .LVU318
 780 0028 AB88     		ldrh	r3, [r5, #4]
 357:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 781              		.loc 1 357 11 view .LVU319
 782 002a 1A0A     		lsrs	r2, r3, #8
 357:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 783              		.loc 1 357 9 view .LVU320
 784 002c 2271     		strb	r2, [r4, #4]
 358:Src/LTC6811.c **** 	cfg[6] = (uint8_t) ((config[3] >> 8) & 0xFF);
 785              		.loc 1 358 2 is_stmt 1 view .LVU321
 358:Src/LTC6811.c **** 	cfg[6] = (uint8_t) ((config[3] >> 8) & 0xFF);
 786              		.loc 1 358 9 is_stmt 0 view .LVU322
 787 002e 6371     		strb	r3, [r4, #5]
 359:Src/LTC6811.c **** 	cfg[7] = (uint8_t) (config[3] & 0xFF);
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 31


 788              		.loc 1 359 2 is_stmt 1 view .LVU323
 359:Src/LTC6811.c **** 	cfg[7] = (uint8_t) (config[3] & 0xFF);
 789              		.loc 1 359 29 is_stmt 0 view .LVU324
 790 0030 EB88     		ldrh	r3, [r5, #6]
 359:Src/LTC6811.c **** 	cfg[7] = (uint8_t) (config[3] & 0xFF);
 791              		.loc 1 359 11 view .LVU325
 792 0032 1A0A     		lsrs	r2, r3, #8
 359:Src/LTC6811.c **** 	cfg[7] = (uint8_t) (config[3] & 0xFF);
 793              		.loc 1 359 9 view .LVU326
 794 0034 A271     		strb	r2, [r4, #6]
 360:Src/LTC6811.c **** 	
 795              		.loc 1 360 2 is_stmt 1 view .LVU327
 360:Src/LTC6811.c **** 	
 796              		.loc 1 360 9 is_stmt 0 view .LVU328
 797 0036 E371     		strb	r3, [r4, #7]
 362:Src/LTC6811.c **** }
 798              		.loc 1 362 2 is_stmt 1 view .LVU329
 363:Src/LTC6811.c **** 
 799              		.loc 1 363 1 is_stmt 0 view .LVU330
 800 0038 70BD     		pop	{r4, r5, r6, pc}
 363:Src/LTC6811.c **** 
 801              		.loc 1 363 1 view .LVU331
 802              		.cfi_endproc
 803              	.LFE73:
 805              		.section	.text.writeConfigAddress,"ax",%progbits
 806              		.align	1
 807              		.global	writeConfigAddress
 808              		.syntax unified
 809              		.thumb
 810              		.thumb_func
 811              		.fpu softvfp
 813              	writeConfigAddress:
 814              	.LVL43:
 815              	.LFB67:
 114:Src/LTC6811.c **** 
 816              		.loc 1 114 70 is_stmt 1 view -0
 817              		.cfi_startproc
 818              		@ args = 92, pretend = 16, frame = 8
 819              		@ frame_needed = 0, uses_anonymous_args = 0
 114:Src/LTC6811.c **** 
 820              		.loc 1 114 70 is_stmt 0 view .LVU333
 821 0000 84B0     		sub	sp, sp, #16
 822              	.LCFI7:
 823              		.cfi_def_cfa_offset 16
 824 0002 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 825              	.LCFI8:
 826              		.cfi_def_cfa_offset 52
 827              		.cfi_offset 4, -52
 828              		.cfi_offset 5, -48
 829              		.cfi_offset 6, -44
 830              		.cfi_offset 7, -40
 831              		.cfi_offset 8, -36
 832              		.cfi_offset 9, -32
 833              		.cfi_offset 10, -28
 834              		.cfi_offset 11, -24
 835              		.cfi_offset 14, -20
 836 0006 83B0     		sub	sp, sp, #12
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 32


 837              	.LCFI9:
 838              		.cfi_def_cfa_offset 64
 839 0008 0CAC     		add	r4, sp, #48
 840 000a 84E80F00 		stm	r4, {r0, r1, r2, r3}
 841 000e 9DF88890 		ldrb	r9, [sp, #136]	@ zero_extendqisi2
 116:Src/LTC6811.c **** 	uint8_t *cmd;
 842              		.loc 1 116 2 is_stmt 1 view .LVU334
 117:Src/LTC6811.c **** 	uint8_t cmd_len = 12;
 843              		.loc 1 117 2 view .LVU335
 118:Src/LTC6811.c **** 	uint16_t PEC_return;
 844              		.loc 1 118 2 view .LVU336
 845              	.LVL44:
 119:Src/LTC6811.c **** 	uint8_t dummy[8];
 846              		.loc 1 119 2 view .LVU337
 120:Src/LTC6811.c **** 
 847              		.loc 1 120 2 view .LVU338
 122:Src/LTC6811.c **** 	
 848              		.loc 1 122 2 view .LVU339
 849 0012 6946     		mov	r1, sp
 850 0014 4846     		mov	r0, r9
 851 0016 FFF7FEFF 		bl	readConfig
 852              	.LVL45:
 124:Src/LTC6811.c **** 	
 853              		.loc 1 124 2 view .LVU340
 124:Src/LTC6811.c **** 	
 854              		.loc 1 124 19 is_stmt 0 view .LVU341
 855 001a 0C20     		movs	r0, #12
 856 001c FFF7FEFF 		bl	malloc
 857              	.LVL46:
 858 0020 0646     		mov	r6, r0
 859              	.LVL47:
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 860              		.loc 1 126 2 is_stmt 1 view .LVU342
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 861              		.loc 1 126 28 is_stmt 0 view .LVU343
 862 0022 9DF86C50 		ldrb	r5, [sp, #108]	@ zero_extendqisi2
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 863              		.loc 1 126 14 view .LVU344
 864 0026 ED01     		lsls	r5, r5, #7
 865 0028 6DB2     		sxtb	r5, r5
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 866              		.loc 1 126 58 view .LVU345
 867 002a 9DF86D30 		ldrb	r3, [sp, #109]	@ zero_extendqisi2
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 868              		.loc 1 126 52 view .LVU346
 869 002e 45EA8315 		orr	r5, r5, r3, lsl #6
 870 0032 6DB2     		sxtb	r5, r5
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 871              		.loc 1 126 88 view .LVU347
 872 0034 9DF86E30 		ldrb	r3, [sp, #110]	@ zero_extendqisi2
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 873              		.loc 1 126 82 view .LVU348
 874 0038 45EA4315 		orr	r5, r5, r3, lsl #5
 875 003c 6DB2     		sxtb	r5, r5
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 876              		.loc 1 126 118 view .LVU349
 877 003e 9DF86F30 		ldrb	r3, [sp, #111]	@ zero_extendqisi2
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 33


 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 878              		.loc 1 126 112 view .LVU350
 879 0042 45EA0315 		orr	r5, r5, r3, lsl #4
 880 0046 6DB2     		sxtb	r5, r5
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 881              		.loc 1 126 148 view .LVU351
 882 0048 9DF87030 		ldrb	r3, [sp, #112]	@ zero_extendqisi2
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 883              		.loc 1 126 142 view .LVU352
 884 004c 45EAC305 		orr	r5, r5, r3, lsl #3
 885 0050 6DB2     		sxtb	r5, r5
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 886              		.loc 1 126 178 view .LVU353
 887 0052 9DF87130 		ldrb	r3, [sp, #113]	@ zero_extendqisi2
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 888              		.loc 1 126 172 view .LVU354
 889 0056 45EA8305 		orr	r5, r5, r3, lsl #2
 890 005a 6DB2     		sxtb	r5, r5
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 891              		.loc 1 126 203 view .LVU355
 892 005c 9DF97230 		ldrsb	r3, [sp, #114]
 126:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 893              		.loc 1 126 197 view .LVU356
 894 0060 1D43     		orrs	r5, r5, r3
 895 0062 EDB2     		uxtb	r5, r5
 127:Src/LTC6811.c **** 	config[2] = (uint8_t) ((cfg.OvervoltageComparisonVoltage << 4) & 0xF0) | ((cfg.UndervoltageCompari
 896              		.loc 1 127 2 is_stmt 1 view .LVU357
 127:Src/LTC6811.c **** 	config[2] = (uint8_t) ((cfg.OvervoltageComparisonVoltage << 4) & 0xF0) | ((cfg.UndervoltageCompari
 897              		.loc 1 127 28 is_stmt 0 view .LVU358
 898 0064 BDF87430 		ldrh	r3, [sp, #116]
 127:Src/LTC6811.c **** 	config[2] = (uint8_t) ((cfg.OvervoltageComparisonVoltage << 4) & 0xF0) | ((cfg.UndervoltageCompari
 899              		.loc 1 127 14 view .LVU359
 900 0068 5FFA83FA 		uxtb	r10, r3
 128:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 901              		.loc 1 128 2 is_stmt 1 view .LVU360
 128:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 902              		.loc 1 128 29 is_stmt 0 view .LVU361
 903 006c BDF87680 		ldrh	r8, [sp, #118]
 128:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 904              		.loc 1 128 59 view .LVU362
 905 0070 4FEA0817 		lsl	r7, r8, #4
 128:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 906              		.loc 1 128 14 view .LVU363
 907 0074 7FB2     		sxtb	r7, r7
 128:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 908              		.loc 1 128 117 view .LVU364
 909 0076 C3F30323 		ubfx	r3, r3, #8, #4
 128:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 910              		.loc 1 128 73 view .LVU365
 911 007a 1F43     		orrs	r7, r7, r3
 912 007c FFB2     		uxtb	r7, r7
 129:Src/LTC6811.c **** 	config[4] = (uint8_t) (cfg.DischargeCell8 << 7) | (cfg.DischargeCell7 << 6) | (cfg.DischargeCell6 
 913              		.loc 1 129 2 is_stmt 1 view .LVU366
 129:Src/LTC6811.c **** 	config[4] = (uint8_t) (cfg.DischargeCell8 << 7) | (cfg.DischargeCell7 << 6) | (cfg.DischargeCell6 
 914              		.loc 1 129 14 is_stmt 0 view .LVU367
 915 007e C8F30718 		ubfx	r8, r8, #4, #8
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 34


 916              		.loc 1 130 2 is_stmt 1 view .LVU368
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 917              		.loc 1 130 28 is_stmt 0 view .LVU369
 918 0082 9DF87F40 		ldrb	r4, [sp, #127]	@ zero_extendqisi2
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 919              		.loc 1 130 14 view .LVU370
 920 0086 E401     		lsls	r4, r4, #7
 921 0088 64B2     		sxtb	r4, r4
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 922              		.loc 1 130 56 view .LVU371
 923 008a 9DF87E30 		ldrb	r3, [sp, #126]	@ zero_extendqisi2
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 924              		.loc 1 130 50 view .LVU372
 925 008e 44EA8314 		orr	r4, r4, r3, lsl #6
 926 0092 64B2     		sxtb	r4, r4
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 927              		.loc 1 130 84 view .LVU373
 928 0094 9DF87D30 		ldrb	r3, [sp, #125]	@ zero_extendqisi2
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 929              		.loc 1 130 78 view .LVU374
 930 0098 44EA4314 		orr	r4, r4, r3, lsl #5
 931 009c 64B2     		sxtb	r4, r4
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 932              		.loc 1 130 112 view .LVU375
 933 009e 9DF87C30 		ldrb	r3, [sp, #124]	@ zero_extendqisi2
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 934              		.loc 1 130 106 view .LVU376
 935 00a2 44EA0314 		orr	r4, r4, r3, lsl #4
 936 00a6 64B2     		sxtb	r4, r4
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 937              		.loc 1 130 140 view .LVU377
 938 00a8 9DF87B30 		ldrb	r3, [sp, #123]	@ zero_extendqisi2
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 939              		.loc 1 130 134 view .LVU378
 940 00ac 44EAC304 		orr	r4, r4, r3, lsl #3
 941 00b0 64B2     		sxtb	r4, r4
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 942              		.loc 1 130 168 view .LVU379
 943 00b2 9DF87A30 		ldrb	r3, [sp, #122]	@ zero_extendqisi2
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 944              		.loc 1 130 162 view .LVU380
 945 00b6 44EA8304 		orr	r4, r4, r3, lsl #2
 946 00ba 64B2     		sxtb	r4, r4
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 947              		.loc 1 130 196 view .LVU381
 948 00bc 9DF87930 		ldrb	r3, [sp, #121]	@ zero_extendqisi2
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 949              		.loc 1 130 190 view .LVU382
 950 00c0 44EA4304 		orr	r4, r4, r3, lsl #1
 951 00c4 64B2     		sxtb	r4, r4
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 952              		.loc 1 130 224 view .LVU383
 953 00c6 9DF97830 		ldrsb	r3, [sp, #120]
 130:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 954              		.loc 1 130 218 view .LVU384
 955 00ca 1C43     		orrs	r4, r4, r3
 956 00cc E4B2     		uxtb	r4, r4
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 35


 131:Src/LTC6811.c **** 	
 957              		.loc 1 131 2 is_stmt 1 view .LVU385
 131:Src/LTC6811.c **** 	
 958              		.loc 1 131 29 is_stmt 0 view .LVU386
 959 00ce 9DF884B0 		ldrb	fp, [sp, #132]	@ zero_extendqisi2
 131:Src/LTC6811.c **** 	
 960              		.loc 1 131 52 view .LVU387
 961 00d2 4FEA0B1B 		lsl	fp, fp, #4
 131:Src/LTC6811.c **** 	
 962              		.loc 1 131 14 view .LVU388
 963 00d6 4FFA8BFB 		sxtb	fp, fp
 131:Src/LTC6811.c **** 	
 964              		.loc 1 131 72 view .LVU389
 965 00da 9DF88330 		ldrb	r3, [sp, #131]	@ zero_extendqisi2
 131:Src/LTC6811.c **** 	
 966              		.loc 1 131 66 view .LVU390
 967 00de 4BEAC30B 		orr	fp, fp, r3, lsl #3
 968 00e2 4FFA8BFB 		sxtb	fp, fp
 131:Src/LTC6811.c **** 	
 969              		.loc 1 131 101 view .LVU391
 970 00e6 9DF88230 		ldrb	r3, [sp, #130]	@ zero_extendqisi2
 131:Src/LTC6811.c **** 	
 971              		.loc 1 131 95 view .LVU392
 972 00ea 4BEA830B 		orr	fp, fp, r3, lsl #2
 973 00ee 4FFA8BFB 		sxtb	fp, fp
 131:Src/LTC6811.c **** 	
 974              		.loc 1 131 130 view .LVU393
 975 00f2 9DF88130 		ldrb	r3, [sp, #129]	@ zero_extendqisi2
 131:Src/LTC6811.c **** 	
 976              		.loc 1 131 124 view .LVU394
 977 00f6 4BEA430B 		orr	fp, fp, r3, lsl #1
 978 00fa 4FFA8BFB 		sxtb	fp, fp
 131:Src/LTC6811.c **** 	
 979              		.loc 1 131 159 view .LVU395
 980 00fe 9DF98030 		ldrsb	r3, [sp, #128]
 131:Src/LTC6811.c **** 	
 981              		.loc 1 131 153 view .LVU396
 982 0102 4BEA030B 		orr	fp, fp, r3
 983 0106 5FFA8BFB 		uxtb	fp, fp
 133:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 984              		.loc 1 133 2 is_stmt 1 view .LVU397
 133:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 985              		.loc 1 133 39 is_stmt 0 view .LVU398
 986 010a 4FEAC903 		lsl	r3, r9, #3
 133:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 987              		.loc 1 133 45 view .LVU399
 988 010e 03F07803 		and	r3, r3, #120
 133:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 989              		.loc 1 133 11 view .LVU400
 990 0112 43F08003 		orr	r3, r3, #128
 133:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 991              		.loc 1 133 9 view .LVU401
 992 0116 0370     		strb	r3, [r0]
 134:Src/LTC6811.c **** 	
 993              		.loc 1 134 2 is_stmt 1 view .LVU402
 134:Src/LTC6811.c **** 	
 994              		.loc 1 134 9 is_stmt 0 view .LVU403
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 36


 995 0118 0123     		movs	r3, #1
 996 011a 4370     		strb	r3, [r0, #1]
 136:Src/LTC6811.c **** 	
 997              		.loc 1 136 2 is_stmt 1 view .LVU404
 136:Src/LTC6811.c **** 	
 998              		.loc 1 136 15 is_stmt 0 view .LVU405
 999 011c 0146     		mov	r1, r0
 1000 011e 0220     		movs	r0, #2
 1001              	.LVL48:
 136:Src/LTC6811.c **** 	
 1002              		.loc 1 136 15 view .LVU406
 1003 0120 FFF7FEFF 		bl	calculatePEC
 1004              	.LVL49:
 138:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1005              		.loc 1 138 2 is_stmt 1 view .LVU407
 138:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1006              		.loc 1 138 9 is_stmt 0 view .LVU408
 1007 0124 030A     		lsrs	r3, r0, #8
 1008 0126 B370     		strb	r3, [r6, #2]
 139:Src/LTC6811.c **** 
 1009              		.loc 1 139 2 is_stmt 1 view .LVU409
 139:Src/LTC6811.c **** 
 1010              		.loc 1 139 9 is_stmt 0 view .LVU410
 1011 0128 F070     		strb	r0, [r6, #3]
 141:Src/LTC6811.c **** 	cmd[5] = config[1];
 1012              		.loc 1 141 2 is_stmt 1 view .LVU411
 141:Src/LTC6811.c **** 	cmd[5] = config[1];
 1013              		.loc 1 141 9 is_stmt 0 view .LVU412
 1014 012a 3571     		strb	r5, [r6, #4]
 142:Src/LTC6811.c **** 	cmd[6] = config[2];
 1015              		.loc 1 142 2 is_stmt 1 view .LVU413
 142:Src/LTC6811.c **** 	cmd[6] = config[2];
 1016              		.loc 1 142 9 is_stmt 0 view .LVU414
 1017 012c 86F805A0 		strb	r10, [r6, #5]
 143:Src/LTC6811.c **** 	cmd[7] = config[3];
 1018              		.loc 1 143 2 is_stmt 1 view .LVU415
 143:Src/LTC6811.c **** 	cmd[7] = config[3];
 1019              		.loc 1 143 9 is_stmt 0 view .LVU416
 1020 0130 B771     		strb	r7, [r6, #6]
 144:Src/LTC6811.c **** 	cmd[8] = config[4];
 1021              		.loc 1 144 2 is_stmt 1 view .LVU417
 144:Src/LTC6811.c **** 	cmd[8] = config[4];
 1022              		.loc 1 144 9 is_stmt 0 view .LVU418
 1023 0132 86F80780 		strb	r8, [r6, #7]
 145:Src/LTC6811.c **** 	cmd[9] = config[5];
 1024              		.loc 1 145 2 is_stmt 1 view .LVU419
 145:Src/LTC6811.c **** 	cmd[9] = config[5];
 1025              		.loc 1 145 9 is_stmt 0 view .LVU420
 1026 0136 3472     		strb	r4, [r6, #8]
 146:Src/LTC6811.c **** 	
 1027              		.loc 1 146 2 is_stmt 1 view .LVU421
 146:Src/LTC6811.c **** 	
 1028              		.loc 1 146 9 is_stmt 0 view .LVU422
 1029 0138 86F809B0 		strb	fp, [r6, #9]
 148:Src/LTC6811.c **** 
 1030              		.loc 1 148 2 is_stmt 1 view .LVU423
 148:Src/LTC6811.c **** 
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 37


 1031              		.loc 1 148 15 is_stmt 0 view .LVU424
 1032 013c 311D     		adds	r1, r6, #4
 1033 013e 0620     		movs	r0, #6
 1034              	.LVL50:
 148:Src/LTC6811.c **** 
 1035              		.loc 1 148 15 view .LVU425
 1036 0140 FFF7FEFF 		bl	calculatePEC
 1037              	.LVL51:
 150:Src/LTC6811.c **** 	cmd[11] = PEC_return & 0xFF;
 1038              		.loc 1 150 2 is_stmt 1 view .LVU426
 150:Src/LTC6811.c **** 	cmd[11] = PEC_return & 0xFF;
 1039              		.loc 1 150 10 is_stmt 0 view .LVU427
 1040 0144 030A     		lsrs	r3, r0, #8
 1041 0146 B372     		strb	r3, [r6, #10]
 151:Src/LTC6811.c **** 	
 1042              		.loc 1 151 2 is_stmt 1 view .LVU428
 151:Src/LTC6811.c **** 	
 1043              		.loc 1 151 10 is_stmt 0 view .LVU429
 1044 0148 F072     		strb	r0, [r6, #11]
 153:Src/LTC6811.c **** 
 1045              		.loc 1 153 2 is_stmt 1 view .LVU430
 1046 014a 0C21     		movs	r1, #12
 1047 014c 3046     		mov	r0, r6
 1048              	.LVL52:
 153:Src/LTC6811.c **** 
 1049              		.loc 1 153 2 is_stmt 0 view .LVU431
 1050 014e FFF7FEFF 		bl	SPIWrite
 1051              	.LVL53:
 155:Src/LTC6811.c **** 	
 1052              		.loc 1 155 2 is_stmt 1 view .LVU432
 1053 0152 6946     		mov	r1, sp
 1054 0154 4846     		mov	r0, r9
 1055 0156 FFF7FEFF 		bl	readConfig
 1056              	.LVL54:
 157:Src/LTC6811.c **** 
 1057              		.loc 1 157 2 view .LVU433
 1058 015a 3046     		mov	r0, r6
 1059 015c FFF7FEFF 		bl	free
 1060              	.LVL55:
 159:Src/LTC6811.c **** 
 1061              		.loc 1 159 1 is_stmt 0 view .LVU434
 1062 0160 03B0     		add	sp, sp, #12
 1063              	.LCFI10:
 1064              		.cfi_def_cfa_offset 52
 1065              		@ sp needed
 1066 0162 BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1067              	.LCFI11:
 1068              		.cfi_restore 14
 1069              		.cfi_restore 11
 1070              		.cfi_restore 10
 1071              		.cfi_restore 9
 1072              		.cfi_restore 8
 1073              		.cfi_restore 7
 1074              		.cfi_restore 6
 1075              		.cfi_restore 5
 1076              		.cfi_restore 4
 1077              		.cfi_def_cfa_offset 16
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 38


 1078              	.LVL56:
 159:Src/LTC6811.c **** 
 1079              		.loc 1 159 1 view .LVU435
 1080 0166 04B0     		add	sp, sp, #16
 1081              	.LCFI12:
 1082              		.cfi_def_cfa_offset 0
 1083 0168 7047     		bx	lr
 1084              		.cfi_endproc
 1085              	.LFE67:
 1087              		.section	.text.writeConfigAll,"ax",%progbits
 1088              		.align	1
 1089              		.global	writeConfigAll
 1090              		.syntax unified
 1091              		.thumb
 1092              		.thumb_func
 1093              		.fpu softvfp
 1095              	writeConfigAll:
 1096              	.LFB68:
 161:Src/LTC6811.c **** 
 1097              		.loc 1 161 49 is_stmt 1 view -0
 1098              		.cfi_startproc
 1099              		@ args = 88, pretend = 16, frame = 0
 1100              		@ frame_needed = 0, uses_anonymous_args = 0
 1101 0000 84B0     		sub	sp, sp, #16
 1102              	.LCFI13:
 1103              		.cfi_def_cfa_offset 16
 1104 0002 10B5     		push	{r4, lr}
 1105              	.LCFI14:
 1106              		.cfi_def_cfa_offset 24
 1107              		.cfi_offset 4, -24
 1108              		.cfi_offset 14, -20
 1109 0004 94B0     		sub	sp, sp, #80
 1110              	.LCFI15:
 1111              		.cfi_def_cfa_offset 104
 1112 0006 16AC     		add	r4, sp, #88
 1113 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 163:Src/LTC6811.c **** 		writeConfigAddress(cfg, cfg.address[i]);
 1114              		.loc 1 163 2 view .LVU437
 1115              	.LBB7:
 163:Src/LTC6811.c **** 		writeConfigAddress(cfg, cfg.address[i]);
 1116              		.loc 1 163 7 view .LVU438
 1117              	.LVL57:
 163:Src/LTC6811.c **** 		writeConfigAddress(cfg, cfg.address[i]);
 1118              		.loc 1 163 15 is_stmt 0 view .LVU439
 1119 000c 0024     		movs	r4, #0
 1120              	.LVL58:
 1121              	.L43:
 163:Src/LTC6811.c **** 		writeConfigAddress(cfg, cfg.address[i]);
 1122              		.loc 1 163 29 discriminator 1 view .LVU440
 1123 000e 9DF85830 		ldrb	r3, [sp, #88]	@ zero_extendqisi2
 163:Src/LTC6811.c **** 		writeConfigAddress(cfg, cfg.address[i]);
 1124              		.loc 1 163 2 discriminator 1 view .LVU441
 1125 0012 A342     		cmp	r3, r4
 1126 0014 0FD9     		bls	.L46
 164:Src/LTC6811.c **** 	}
 1127              		.loc 1 164 3 is_stmt 1 discriminator 3 view .LVU442
 1128 0016 16AB     		add	r3, sp, #88
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 39


 1129 0018 2344     		add	r3, r3, r4
 1130 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1131 001c 1293     		str	r3, [sp, #72]
 1132 001e 4822     		movs	r2, #72
 1133 0020 1AA9     		add	r1, sp, #104
 1134 0022 6846     		mov	r0, sp
 1135 0024 FFF7FEFF 		bl	memcpy
 1136              	.LVL59:
 1137 0028 16AB     		add	r3, sp, #88
 1138 002a 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1139 002c FFF7FEFF 		bl	writeConfigAddress
 1140              	.LVL60:
 163:Src/LTC6811.c **** 		writeConfigAddress(cfg, cfg.address[i]);
 1141              		.loc 1 163 41 is_stmt 0 discriminator 3 view .LVU443
 1142 0030 0134     		adds	r4, r4, #1
 1143              	.LVL61:
 163:Src/LTC6811.c **** 		writeConfigAddress(cfg, cfg.address[i]);
 1144              		.loc 1 163 41 discriminator 3 view .LVU444
 1145 0032 E4B2     		uxtb	r4, r4
 1146              	.LVL62:
 163:Src/LTC6811.c **** 		writeConfigAddress(cfg, cfg.address[i]);
 1147              		.loc 1 163 41 discriminator 3 view .LVU445
 1148 0034 EBE7     		b	.L43
 1149              	.L46:
 163:Src/LTC6811.c **** 		writeConfigAddress(cfg, cfg.address[i]);
 1150              		.loc 1 163 41 discriminator 3 view .LVU446
 1151              	.LBE7:
 166:Src/LTC6811.c **** 
 1152              		.loc 1 166 1 view .LVU447
 1153 0036 14B0     		add	sp, sp, #80
 1154              	.LCFI16:
 1155              		.cfi_def_cfa_offset 24
 1156              		@ sp needed
 1157 0038 BDE81040 		pop	{r4, lr}
 1158              	.LCFI17:
 1159              		.cfi_restore 14
 1160              		.cfi_restore 4
 1161              		.cfi_def_cfa_offset 16
 1162              	.LVL63:
 166:Src/LTC6811.c **** 
 1163              		.loc 1 166 1 view .LVU448
 1164 003c 04B0     		add	sp, sp, #16
 1165              	.LCFI18:
 1166              		.cfi_def_cfa_offset 0
 1167 003e 7047     		bx	lr
 1168              		.cfi_endproc
 1169              	.LFE68:
 1171              		.section	.text.dischargeCellGroups,"ax",%progbits
 1172              		.align	1
 1173              		.global	dischargeCellGroups
 1174              		.syntax unified
 1175              		.thumb
 1176              		.thumb_func
 1177              		.fpu softvfp
 1179              	dischargeCellGroups:
 1180              	.LVL64:
 1181              	.LFB76:
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 40


 422:Src/LTC6811.c **** 	
 1182              		.loc 1 422 84 is_stmt 1 view -0
 1183              		.cfi_startproc
 1184              		@ args = 92, pretend = 16, frame = 0
 1185              		@ frame_needed = 0, uses_anonymous_args = 0
 422:Src/LTC6811.c **** 	
 1186              		.loc 1 422 84 is_stmt 0 view .LVU450
 1187 0000 84B0     		sub	sp, sp, #16
 1188              	.LCFI19:
 1189              		.cfi_def_cfa_offset 16
 1190 0002 70B5     		push	{r4, r5, r6, lr}
 1191              	.LCFI20:
 1192              		.cfi_def_cfa_offset 32
 1193              		.cfi_offset 4, -32
 1194              		.cfi_offset 5, -28
 1195              		.cfi_offset 6, -24
 1196              		.cfi_offset 14, -20
 1197 0004 94B0     		sub	sp, sp, #80
 1198              	.LCFI21:
 1199              		.cfi_def_cfa_offset 112
 1200 0006 18AC     		add	r4, sp, #96
 1201 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 1202 000c 2E9E     		ldr	r6, [sp, #184]
 424:Src/LTC6811.c **** 
 1203              		.loc 1 424 2 is_stmt 1 view .LVU451
 426:Src/LTC6811.c **** 
 1204              		.loc 1 426 2 view .LVU452
 1205              	.LVL65:
 428:Src/LTC6811.c **** 
 1206              		.loc 1 428 2 view .LVU453
 1207              	.LBB8:
 428:Src/LTC6811.c **** 
 1208              		.loc 1 428 7 view .LVU454
 428:Src/LTC6811.c **** 
 1209              		.loc 1 428 15 is_stmt 0 view .LVU455
 1210 000e 0024     		movs	r4, #0
 1211              	.LVL66:
 1212              	.L48:
 428:Src/LTC6811.c **** 
 1213              		.loc 1 428 32 discriminator 1 view .LVU456
 1214 0010 9DF86050 		ldrb	r5, [sp, #96]	@ zero_extendqisi2
 428:Src/LTC6811.c **** 
 1215              		.loc 1 428 2 discriminator 1 view .LVU457
 1216 0014 A542     		cmp	r5, r4
 1217 0016 2AD9     		bls	.L53
 430:Src/LTC6811.c **** 		cfg->DischargeCell2 = cellDischarge[i][1];
 1218              		.loc 1 430 3 is_stmt 1 discriminator 3 view .LVU458
 430:Src/LTC6811.c **** 		cfg->DischargeCell2 = cellDischarge[i][1];
 1219              		.loc 1 430 38 is_stmt 0 discriminator 3 view .LVU459
 1220 0018 06EBC403 		add	r3, r6, r4, lsl #3
 430:Src/LTC6811.c **** 		cfg->DischargeCell2 = cellDischarge[i][1];
 1221              		.loc 1 430 41 discriminator 3 view .LVU460
 1222 001c 16F83420 		ldrb	r2, [r6, r4, lsl #3]	@ zero_extendqisi2
 430:Src/LTC6811.c **** 		cfg->DischargeCell2 = cellDischarge[i][1];
 1223              		.loc 1 430 23 discriminator 3 view .LVU461
 1224 0020 8DF8A820 		strb	r2, [sp, #168]
 431:Src/LTC6811.c **** 		cfg->DischargeCell3 = cellDischarge[i][2];
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 41


 1225              		.loc 1 431 3 is_stmt 1 discriminator 3 view .LVU462
 431:Src/LTC6811.c **** 		cfg->DischargeCell3 = cellDischarge[i][2];
 1226              		.loc 1 431 41 is_stmt 0 discriminator 3 view .LVU463
 1227 0024 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 431:Src/LTC6811.c **** 		cfg->DischargeCell3 = cellDischarge[i][2];
 1228              		.loc 1 431 23 discriminator 3 view .LVU464
 1229 0026 8DF8A920 		strb	r2, [sp, #169]
 432:Src/LTC6811.c **** 		cfg->DischargeCell4 = cellDischarge[i][3];
 1230              		.loc 1 432 3 is_stmt 1 discriminator 3 view .LVU465
 432:Src/LTC6811.c **** 		cfg->DischargeCell4 = cellDischarge[i][3];
 1231              		.loc 1 432 41 is_stmt 0 discriminator 3 view .LVU466
 1232 002a 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 432:Src/LTC6811.c **** 		cfg->DischargeCell4 = cellDischarge[i][3];
 1233              		.loc 1 432 23 discriminator 3 view .LVU467
 1234 002c 8DF8AA20 		strb	r2, [sp, #170]
 433:Src/LTC6811.c **** 		cfg->DischargeCell7 = cellDischarge[i][4];
 1235              		.loc 1 433 3 is_stmt 1 discriminator 3 view .LVU468
 433:Src/LTC6811.c **** 		cfg->DischargeCell7 = cellDischarge[i][4];
 1236              		.loc 1 433 41 is_stmt 0 discriminator 3 view .LVU469
 1237 0030 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 433:Src/LTC6811.c **** 		cfg->DischargeCell7 = cellDischarge[i][4];
 1238              		.loc 1 433 23 discriminator 3 view .LVU470
 1239 0032 8DF8AB20 		strb	r2, [sp, #171]
 434:Src/LTC6811.c **** 		cfg->DischargeCell8 = cellDischarge[i][5];
 1240              		.loc 1 434 3 is_stmt 1 discriminator 3 view .LVU471
 434:Src/LTC6811.c **** 		cfg->DischargeCell8 = cellDischarge[i][5];
 1241              		.loc 1 434 41 is_stmt 0 discriminator 3 view .LVU472
 1242 0036 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 434:Src/LTC6811.c **** 		cfg->DischargeCell8 = cellDischarge[i][5];
 1243              		.loc 1 434 23 discriminator 3 view .LVU473
 1244 0038 8DF8AE20 		strb	r2, [sp, #174]
 435:Src/LTC6811.c **** 		cfg->DischargeCell9 = cellDischarge[i][6];
 1245              		.loc 1 435 3 is_stmt 1 discriminator 3 view .LVU474
 435:Src/LTC6811.c **** 		cfg->DischargeCell9 = cellDischarge[i][6];
 1246              		.loc 1 435 41 is_stmt 0 discriminator 3 view .LVU475
 1247 003c 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 435:Src/LTC6811.c **** 		cfg->DischargeCell9 = cellDischarge[i][6];
 1248              		.loc 1 435 23 discriminator 3 view .LVU476
 1249 003e 8DF8AF20 		strb	r2, [sp, #175]
 436:Src/LTC6811.c **** 		cfg->DischargeCell10 = cellDischarge[i][7];
 1250              		.loc 1 436 3 is_stmt 1 discriminator 3 view .LVU477
 436:Src/LTC6811.c **** 		cfg->DischargeCell10 = cellDischarge[i][7];
 1251              		.loc 1 436 41 is_stmt 0 discriminator 3 view .LVU478
 1252 0042 9A79     		ldrb	r2, [r3, #6]	@ zero_extendqisi2
 436:Src/LTC6811.c **** 		cfg->DischargeCell10 = cellDischarge[i][7];
 1253              		.loc 1 436 23 discriminator 3 view .LVU479
 1254 0044 8DF8B020 		strb	r2, [sp, #176]
 437:Src/LTC6811.c **** 
 1255              		.loc 1 437 3 is_stmt 1 discriminator 3 view .LVU480
 437:Src/LTC6811.c **** 
 1256              		.loc 1 437 42 is_stmt 0 discriminator 3 view .LVU481
 1257 0048 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 437:Src/LTC6811.c **** 
 1258              		.loc 1 437 24 discriminator 3 view .LVU482
 1259 004a 8DF8B130 		strb	r3, [sp, #177]
 439:Src/LTC6811.c **** 
 1260              		.loc 1 439 3 is_stmt 1 discriminator 3 view .LVU483
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 42


 1261 004e 18AB     		add	r3, sp, #96
 1262              	.LVL67:
 439:Src/LTC6811.c **** 
 1263              		.loc 1 439 3 is_stmt 0 discriminator 3 view .LVU484
 1264 0050 2344     		add	r3, r3, r4
 1265              	.LVL68:
 439:Src/LTC6811.c **** 
 1266              		.loc 1 439 3 discriminator 3 view .LVU485
 1267 0052 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1268 0054 1293     		str	r3, [sp, #72]
 1269 0056 4822     		movs	r2, #72
 1270 0058 1CA9     		add	r1, sp, #112
 1271 005a 6846     		mov	r0, sp
 1272 005c FFF7FEFF 		bl	memcpy
 1273              	.LVL69:
 1274 0060 18AB     		add	r3, sp, #96
 1275              	.LVL70:
 439:Src/LTC6811.c **** 
 1276              		.loc 1 439 3 discriminator 3 view .LVU486
 1277 0062 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1278              	.LVL71:
 439:Src/LTC6811.c **** 
 1279              		.loc 1 439 3 discriminator 3 view .LVU487
 1280 0064 FFF7FEFF 		bl	writeConfigAddress
 1281              	.LVL72:
 428:Src/LTC6811.c **** 
 1282              		.loc 1 428 44 discriminator 3 view .LVU488
 1283 0068 0134     		adds	r4, r4, #1
 1284              	.LVL73:
 428:Src/LTC6811.c **** 
 1285              		.loc 1 428 44 discriminator 3 view .LVU489
 1286 006a E4B2     		uxtb	r4, r4
 1287              	.LVL74:
 428:Src/LTC6811.c **** 
 1288              		.loc 1 428 44 discriminator 3 view .LVU490
 1289 006c D0E7     		b	.L48
 1290              	.L53:
 428:Src/LTC6811.c **** 
 1291              		.loc 1 428 44 discriminator 3 view .LVU491
 1292              	.LBE8:
 443:Src/LTC6811.c **** 
 1293              		.loc 1 443 2 is_stmt 1 view .LVU492
 1294 006e BDF89400 		ldrh	r0, [sp, #148]
 1295 0072 FFF7FEFF 		bl	HAL_Delay
 1296              	.LVL75:
 445:Src/LTC6811.c **** 		
 1297              		.loc 1 445 2 view .LVU493
 1298              	.LBB9:
 445:Src/LTC6811.c **** 		
 1299              		.loc 1 445 7 view .LVU494
 445:Src/LTC6811.c **** 		
 1300              		.loc 1 445 15 is_stmt 0 view .LVU495
 1301 0076 0024     		movs	r4, #0
 1302              	.LVL76:
 445:Src/LTC6811.c **** 		
 1303              		.loc 1 445 2 view .LVU496
 1304 0078 1FE0     		b	.L50
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 43


 1305              	.LVL77:
 1306              	.L51:
 447:Src/LTC6811.c **** 		cfg->DischargeCell2 = 0;
 1307              		.loc 1 447 3 is_stmt 1 discriminator 3 view .LVU497
 447:Src/LTC6811.c **** 		cfg->DischargeCell2 = 0;
 1308              		.loc 1 447 23 is_stmt 0 discriminator 3 view .LVU498
 1309 007a 0023     		movs	r3, #0
 1310 007c 8DF8A830 		strb	r3, [sp, #168]
 448:Src/LTC6811.c **** 		cfg->DischargeCell3 = 0;
 1311              		.loc 1 448 3 is_stmt 1 discriminator 3 view .LVU499
 448:Src/LTC6811.c **** 		cfg->DischargeCell3 = 0;
 1312              		.loc 1 448 23 is_stmt 0 discriminator 3 view .LVU500
 1313 0080 8DF8A930 		strb	r3, [sp, #169]
 449:Src/LTC6811.c **** 		cfg->DischargeCell4 = 0;
 1314              		.loc 1 449 3 is_stmt 1 discriminator 3 view .LVU501
 449:Src/LTC6811.c **** 		cfg->DischargeCell4 = 0;
 1315              		.loc 1 449 23 is_stmt 0 discriminator 3 view .LVU502
 1316 0084 8DF8AA30 		strb	r3, [sp, #170]
 450:Src/LTC6811.c **** 		cfg->DischargeCell7 = 0;
 1317              		.loc 1 450 3 is_stmt 1 discriminator 3 view .LVU503
 450:Src/LTC6811.c **** 		cfg->DischargeCell7 = 0;
 1318              		.loc 1 450 23 is_stmt 0 discriminator 3 view .LVU504
 1319 0088 8DF8AB30 		strb	r3, [sp, #171]
 451:Src/LTC6811.c **** 		cfg->DischargeCell8 = 0;
 1320              		.loc 1 451 3 is_stmt 1 discriminator 3 view .LVU505
 451:Src/LTC6811.c **** 		cfg->DischargeCell8 = 0;
 1321              		.loc 1 451 23 is_stmt 0 discriminator 3 view .LVU506
 1322 008c 8DF8AE30 		strb	r3, [sp, #174]
 452:Src/LTC6811.c **** 		cfg->DischargeCell9 = 0;
 1323              		.loc 1 452 3 is_stmt 1 discriminator 3 view .LVU507
 452:Src/LTC6811.c **** 		cfg->DischargeCell9 = 0;
 1324              		.loc 1 452 23 is_stmt 0 discriminator 3 view .LVU508
 1325 0090 8DF8AF30 		strb	r3, [sp, #175]
 453:Src/LTC6811.c **** 		cfg->DischargeCell10 = 0;
 1326              		.loc 1 453 3 is_stmt 1 discriminator 3 view .LVU509
 453:Src/LTC6811.c **** 		cfg->DischargeCell10 = 0;
 1327              		.loc 1 453 23 is_stmt 0 discriminator 3 view .LVU510
 1328 0094 8DF8B030 		strb	r3, [sp, #176]
 454:Src/LTC6811.c **** 
 1329              		.loc 1 454 3 is_stmt 1 discriminator 3 view .LVU511
 454:Src/LTC6811.c **** 
 1330              		.loc 1 454 24 is_stmt 0 discriminator 3 view .LVU512
 1331 0098 8DF8B130 		strb	r3, [sp, #177]
 456:Src/LTC6811.c **** 
 1332              		.loc 1 456 3 is_stmt 1 discriminator 3 view .LVU513
 1333 009c 18AB     		add	r3, sp, #96
 1334              	.LVL78:
 456:Src/LTC6811.c **** 
 1335              		.loc 1 456 3 is_stmt 0 discriminator 3 view .LVU514
 1336 009e 2344     		add	r3, r3, r4
 1337              	.LVL79:
 456:Src/LTC6811.c **** 
 1338              		.loc 1 456 3 discriminator 3 view .LVU515
 1339 00a0 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1340 00a2 1293     		str	r3, [sp, #72]
 1341 00a4 4822     		movs	r2, #72
 1342 00a6 1CA9     		add	r1, sp, #112
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 44


 1343 00a8 6846     		mov	r0, sp
 1344 00aa FFF7FEFF 		bl	memcpy
 1345              	.LVL80:
 1346 00ae 18AB     		add	r3, sp, #96
 1347              	.LVL81:
 456:Src/LTC6811.c **** 
 1348              		.loc 1 456 3 discriminator 3 view .LVU516
 1349 00b0 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1350              	.LVL82:
 456:Src/LTC6811.c **** 
 1351              		.loc 1 456 3 discriminator 3 view .LVU517
 1352 00b2 FFF7FEFF 		bl	writeConfigAddress
 1353              	.LVL83:
 445:Src/LTC6811.c **** 		
 1354              		.loc 1 445 44 discriminator 3 view .LVU518
 1355 00b6 0134     		adds	r4, r4, #1
 1356              	.LVL84:
 445:Src/LTC6811.c **** 		
 1357              		.loc 1 445 44 discriminator 3 view .LVU519
 1358 00b8 E4B2     		uxtb	r4, r4
 1359              	.LVL85:
 1360              	.L50:
 445:Src/LTC6811.c **** 		
 1361              		.loc 1 445 2 discriminator 1 view .LVU520
 1362 00ba A542     		cmp	r5, r4
 1363 00bc DDD8     		bhi	.L51
 1364              	.LBE9:
 460:Src/LTC6811.c **** 	
 1365              		.loc 1 460 2 is_stmt 1 view .LVU521
 462:Src/LTC6811.c **** 
 1366              		.loc 1 462 1 is_stmt 0 view .LVU522
 1367 00be 0020     		movs	r0, #0
 1368 00c0 14B0     		add	sp, sp, #80
 1369              	.LCFI22:
 1370              		.cfi_def_cfa_offset 32
 1371              		@ sp needed
 1372 00c2 BDE87040 		pop	{r4, r5, r6, lr}
 1373              	.LCFI23:
 1374              		.cfi_restore 14
 1375              		.cfi_restore 6
 1376              		.cfi_restore 5
 1377              		.cfi_restore 4
 1378              		.cfi_def_cfa_offset 16
 1379              	.LVL86:
 462:Src/LTC6811.c **** 
 1380              		.loc 1 462 1 view .LVU523
 1381 00c6 04B0     		add	sp, sp, #16
 1382              	.LCFI24:
 1383              		.cfi_def_cfa_offset 0
 1384              	.LVL87:
 462:Src/LTC6811.c **** 
 1385              		.loc 1 462 1 view .LVU524
 1386 00c8 7047     		bx	lr
 1387              		.cfi_endproc
 1388              	.LFE76:
 1390              		.section	.text.sendBroadcastCommand,"ax",%progbits
 1391              		.align	1
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 45


 1392              		.global	sendBroadcastCommand
 1393              		.syntax unified
 1394              		.thumb
 1395              		.thumb_func
 1396              		.fpu softvfp
 1398              	sendBroadcastCommand:
 1399              	.LVL88:
 1400              	.LFB78:
 589:Src/LTC6811.c **** 	
 1401              		.loc 1 589 55 is_stmt 1 view -0
 1402              		.cfi_startproc
 1403              		@ args = 0, pretend = 0, frame = 8
 1404              		@ frame_needed = 0, uses_anonymous_args = 0
 589:Src/LTC6811.c **** 	
 1405              		.loc 1 589 55 is_stmt 0 view .LVU526
 1406 0000 00B5     		push	{lr}
 1407              	.LCFI25:
 1408              		.cfi_def_cfa_offset 4
 1409              		.cfi_offset 14, -4
 1410 0002 83B0     		sub	sp, sp, #12
 1411              	.LCFI26:
 1412              		.cfi_def_cfa_offset 16
 591:Src/LTC6811.c **** 	uint16_t PEC_return;
 1413              		.loc 1 591 2 is_stmt 1 view .LVU527
 592:Src/LTC6811.c **** 	
 1414              		.loc 1 592 2 view .LVU528
 594:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 1415              		.loc 1 594 2 view .LVU529
 594:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 1416              		.loc 1 594 11 is_stmt 0 view .LVU530
 1417 0004 C0F30323 		ubfx	r3, r0, #8, #4
 594:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 1418              		.loc 1 594 9 view .LVU531
 1419 0008 8DF80430 		strb	r3, [sp, #4]
 595:Src/LTC6811.c **** 	
 1420              		.loc 1 595 2 is_stmt 1 view .LVU532
 595:Src/LTC6811.c **** 	
 1421              		.loc 1 595 9 is_stmt 0 view .LVU533
 1422 000c 8DF80500 		strb	r0, [sp, #5]
 597:Src/LTC6811.c **** 	
 1423              		.loc 1 597 2 is_stmt 1 view .LVU534
 597:Src/LTC6811.c **** 	
 1424              		.loc 1 597 15 is_stmt 0 view .LVU535
 1425 0010 01A9     		add	r1, sp, #4
 1426 0012 0220     		movs	r0, #2
 1427              	.LVL89:
 597:Src/LTC6811.c **** 	
 1428              		.loc 1 597 15 view .LVU536
 1429 0014 FFF7FEFF 		bl	calculatePEC
 1430              	.LVL90:
 599:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1431              		.loc 1 599 2 is_stmt 1 view .LVU537
 599:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1432              		.loc 1 599 9 is_stmt 0 view .LVU538
 1433 0018 030A     		lsrs	r3, r0, #8
 1434 001a 8DF80630 		strb	r3, [sp, #6]
 600:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 46


 1435              		.loc 1 600 2 is_stmt 1 view .LVU539
 600:Src/LTC6811.c **** 	
 1436              		.loc 1 600 9 is_stmt 0 view .LVU540
 1437 001e 8DF80700 		strb	r0, [sp, #7]
 602:Src/LTC6811.c **** };
 1438              		.loc 1 602 2 is_stmt 1 view .LVU541
 1439 0022 0421     		movs	r1, #4
 1440 0024 0DEB0100 		add	r0, sp, r1
 1441              	.LVL91:
 602:Src/LTC6811.c **** };
 1442              		.loc 1 602 2 is_stmt 0 view .LVU542
 1443 0028 FFF7FEFF 		bl	SPIWrite
 1444              	.LVL92:
 603:Src/LTC6811.c **** 
 1445              		.loc 1 603 1 view .LVU543
 1446 002c 03B0     		add	sp, sp, #12
 1447              	.LCFI27:
 1448              		.cfi_def_cfa_offset 4
 1449              		@ sp needed
 1450 002e 5DF804FB 		ldr	pc, [sp], #4
 1451              		.cfi_endproc
 1452              	.LFE78:
 1454              		.section	.text.sendAddressCommand,"ax",%progbits
 1455              		.align	1
 1456              		.global	sendAddressCommand
 1457              		.syntax unified
 1458              		.thumb
 1459              		.thumb_func
 1460              		.fpu softvfp
 1462              	sendAddressCommand:
 1463              	.LVL93:
 1464              	.LFB79:
 605:Src/LTC6811.c **** 	
 1465              		.loc 1 605 70 is_stmt 1 view -0
 1466              		.cfi_startproc
 1467              		@ args = 0, pretend = 0, frame = 8
 1468              		@ frame_needed = 0, uses_anonymous_args = 0
 605:Src/LTC6811.c **** 	
 1469              		.loc 1 605 70 is_stmt 0 view .LVU545
 1470 0000 70B5     		push	{r4, r5, r6, lr}
 1471              	.LCFI28:
 1472              		.cfi_def_cfa_offset 16
 1473              		.cfi_offset 4, -16
 1474              		.cfi_offset 5, -12
 1475              		.cfi_offset 6, -8
 1476              		.cfi_offset 14, -4
 1477 0002 82B0     		sub	sp, sp, #8
 1478              	.LCFI29:
 1479              		.cfi_def_cfa_offset 24
 1480 0004 0546     		mov	r5, r0
 1481 0006 0C46     		mov	r4, r1
 607:Src/LTC6811.c **** 	uint16_t PEC_return;
 1482              		.loc 1 607 2 is_stmt 1 view .LVU546
 608:Src/LTC6811.c **** 	uint8_t *msbytes;
 1483              		.loc 1 608 2 view .LVU547
 609:Src/LTC6811.c **** 	
 1484              		.loc 1 609 2 view .LVU548
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 47


 611:Src/LTC6811.c **** 	
 1485              		.loc 1 611 2 view .LVU549
 611:Src/LTC6811.c **** 	
 1486              		.loc 1 611 23 is_stmt 0 view .LVU550
 1487 0008 0220     		movs	r0, #2
 1488              	.LVL94:
 611:Src/LTC6811.c **** 	
 1489              		.loc 1 611 23 view .LVU551
 1490 000a FFF7FEFF 		bl	malloc
 1491              	.LVL95:
 611:Src/LTC6811.c **** 	
 1492              		.loc 1 611 23 view .LVU552
 1493 000e 0646     		mov	r6, r0
 1494              	.LVL96:
 613:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1495              		.loc 1 613 2 is_stmt 1 view .LVU553
 613:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1496              		.loc 1 613 43 is_stmt 0 view .LVU554
 1497 0010 E300     		lsls	r3, r4, #3
 613:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1498              		.loc 1 613 49 view .LVU555
 1499 0012 03F07803 		and	r3, r3, #120
 613:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1500              		.loc 1 613 31 view .LVU556
 1501 0016 63F07F03 		orn	r3, r3, #127
 613:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1502              		.loc 1 613 75 view .LVU557
 1503 001a C5F30224 		ubfx	r4, r5, #8, #3
 613:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1504              		.loc 1 613 57 view .LVU558
 1505 001e 2343     		orrs	r3, r3, r4
 613:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1506              		.loc 1 613 15 view .LVU559
 1507 0020 DBB2     		uxtb	r3, r3
 613:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1508              		.loc 1 613 13 view .LVU560
 1509 0022 0370     		strb	r3, [r0]
 614:Src/LTC6811.c **** 
 1510              		.loc 1 614 2 is_stmt 1 view .LVU561
 614:Src/LTC6811.c **** 
 1511              		.loc 1 614 15 is_stmt 0 view .LVU562
 1512 0024 EDB2     		uxtb	r5, r5
 614:Src/LTC6811.c **** 
 1513              		.loc 1 614 13 view .LVU563
 1514 0026 4570     		strb	r5, [r0, #1]
 616:Src/LTC6811.c **** 	cmd[1] = msbytes[1];
 1515              		.loc 1 616 2 is_stmt 1 view .LVU564
 616:Src/LTC6811.c **** 	cmd[1] = msbytes[1];
 1516              		.loc 1 616 9 is_stmt 0 view .LVU565
 1517 0028 8DF80430 		strb	r3, [sp, #4]
 617:Src/LTC6811.c **** 	
 1518              		.loc 1 617 2 is_stmt 1 view .LVU566
 617:Src/LTC6811.c **** 	
 1519              		.loc 1 617 9 is_stmt 0 view .LVU567
 1520 002c 8DF80550 		strb	r5, [sp, #5]
 619:Src/LTC6811.c **** 	
 1521              		.loc 1 619 2 is_stmt 1 view .LVU568
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 48


 619:Src/LTC6811.c **** 	
 1522              		.loc 1 619 15 is_stmt 0 view .LVU569
 1523 0030 0146     		mov	r1, r0
 1524 0032 0220     		movs	r0, #2
 1525              	.LVL97:
 619:Src/LTC6811.c **** 	
 1526              		.loc 1 619 15 view .LVU570
 1527 0034 FFF7FEFF 		bl	calculatePEC
 1528              	.LVL98:
 621:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1529              		.loc 1 621 2 is_stmt 1 view .LVU571
 621:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1530              		.loc 1 621 9 is_stmt 0 view .LVU572
 1531 0038 030A     		lsrs	r3, r0, #8
 1532 003a 8DF80630 		strb	r3, [sp, #6]
 622:Src/LTC6811.c **** 	
 1533              		.loc 1 622 2 is_stmt 1 view .LVU573
 622:Src/LTC6811.c **** 	
 1534              		.loc 1 622 9 is_stmt 0 view .LVU574
 1535 003e 8DF80700 		strb	r0, [sp, #7]
 624:Src/LTC6811.c **** 	
 1536              		.loc 1 624 2 is_stmt 1 view .LVU575
 1537 0042 0421     		movs	r1, #4
 1538 0044 0DEB0100 		add	r0, sp, r1
 1539              	.LVL99:
 624:Src/LTC6811.c **** 	
 1540              		.loc 1 624 2 is_stmt 0 view .LVU576
 1541 0048 FFF7FEFF 		bl	SPIWrite
 1542              	.LVL100:
 626:Src/LTC6811.c **** };
 1543              		.loc 1 626 2 is_stmt 1 view .LVU577
 1544 004c 3046     		mov	r0, r6
 1545 004e FFF7FEFF 		bl	free
 1546              	.LVL101:
 627:Src/LTC6811.c **** 
 1547              		.loc 1 627 1 is_stmt 0 view .LVU578
 1548 0052 02B0     		add	sp, sp, #8
 1549              	.LCFI30:
 1550              		.cfi_def_cfa_offset 16
 1551              		@ sp needed
 1552 0054 70BD     		pop	{r4, r5, r6, pc}
 627:Src/LTC6811.c **** 
 1553              		.loc 1 627 1 view .LVU579
 1554              		.cfi_endproc
 1555              	.LFE79:
 1557              		.section	.text.readCellVoltage,"ax",%progbits
 1558              		.align	1
 1559              		.global	readCellVoltage
 1560              		.syntax unified
 1561              		.thumb
 1562              		.thumb_func
 1563              		.fpu softvfp
 1565              	readCellVoltage:
 1566              	.LVL102:
 1567              	.LFB69:
 168:Src/LTC6811.c **** 	
 1568              		.loc 1 168 65 is_stmt 1 view -0
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 49


 1569              		.cfi_startproc
 1570              		@ args = 0, pretend = 0, frame = 0
 1571              		@ frame_needed = 0, uses_anonymous_args = 0
 168:Src/LTC6811.c **** 	
 1572              		.loc 1 168 65 is_stmt 0 view .LVU581
 1573 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1574              	.LCFI31:
 1575              		.cfi_def_cfa_offset 24
 1576              		.cfi_offset 3, -24
 1577              		.cfi_offset 4, -20
 1578              		.cfi_offset 5, -16
 1579              		.cfi_offset 6, -12
 1580              		.cfi_offset 7, -8
 1581              		.cfi_offset 14, -4
 1582 0002 0746     		mov	r7, r0
 1583 0004 0D46     		mov	r5, r1
 170:Src/LTC6811.c **** 	bool dataValid = true;
 1584              		.loc 1 170 2 is_stmt 1 view .LVU582
 1585              	.LVL103:
 171:Src/LTC6811.c **** 	uint16_t *voltage;
 1586              		.loc 1 171 2 view .LVU583
 172:Src/LTC6811.c **** 	
 1587              		.loc 1 172 2 view .LVU584
 174:Src/LTC6811.c **** 	
 1588              		.loc 1 174 2 view .LVU585
 174:Src/LTC6811.c **** 	
 1589              		.loc 1 174 24 is_stmt 0 view .LVU586
 1590 0006 1820     		movs	r0, #24
 1591              	.LVL104:
 174:Src/LTC6811.c **** 	
 1592              		.loc 1 174 24 view .LVU587
 1593 0008 FFF7FEFF 		bl	malloc
 1594              	.LVL105:
 174:Src/LTC6811.c **** 	
 1595              		.loc 1 174 24 view .LVU588
 1596 000c 0446     		mov	r4, r0
 1597              	.LVL106:
 176:Src/LTC6811.c **** 
 1598              		.loc 1 176 2 is_stmt 1 view .LVU589
 1599 000e 3946     		mov	r1, r7
 1600 0010 4FF41870 		mov	r0, #608
 1601              	.LVL107:
 176:Src/LTC6811.c **** 
 1602              		.loc 1 176 2 is_stmt 0 view .LVU590
 1603 0014 FFF7FEFF 		bl	sendAddressCommand
 1604              	.LVL108:
 178:Src/LTC6811.c **** 	
 1605              		.loc 1 178 2 is_stmt 1 view .LVU591
 1606 0018 3220     		movs	r0, #50
 1607 001a FFF7FEFF 		bl	HAL_Delay
 1608              	.LVL109:
 180:Src/LTC6811.c **** 	//dataValid = dataValid & PEC_check;
 1609              		.loc 1 180 2 view .LVU592
 180:Src/LTC6811.c **** 	//dataValid = dataValid & PEC_check;
 1610              		.loc 1 180 14 is_stmt 0 view .LVU593
 1611 001e 2246     		mov	r2, r4
 1612 0020 3946     		mov	r1, r7
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 50


 1613 0022 0420     		movs	r0, #4
 1614 0024 FFF7FEFF 		bl	readRegister
 1615              	.LVL110:
 182:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1616              		.loc 1 182 2 is_stmt 1 view .LVU594
 182:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1617              		.loc 1 182 14 is_stmt 0 view .LVU595
 1618 0028 2246     		mov	r2, r4
 1619 002a 3946     		mov	r1, r7
 1620 002c 0620     		movs	r0, #6
 1621 002e FFF7FEFF 		bl	readRegister
 1622              	.LVL111:
 1623 0032 0646     		mov	r6, r0
 1624              	.LVL112:
 183:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup7to9, address, voltage);
 1625              		.loc 1 183 2 is_stmt 1 view .LVU596
 184:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1626              		.loc 1 184 2 view .LVU597
 184:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1627              		.loc 1 184 14 is_stmt 0 view .LVU598
 1628 0034 2246     		mov	r2, r4
 1629 0036 3946     		mov	r1, r7
 1630 0038 0820     		movs	r0, #8
 1631 003a FFF7FEFF 		bl	readRegister
 1632              	.LVL113:
 185:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup10to12, address, voltage);
 1633              		.loc 1 185 2 is_stmt 1 view .LVU599
 1634 003e 0640     		ands	r6, r6, r0
 1635              	.LVL114:
 185:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup10to12, address, voltage);
 1636              		.loc 1 185 2 is_stmt 0 view .LVU600
 1637 0040 F6B2     		uxtb	r6, r6
 1638              	.LVL115:
 186:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1639              		.loc 1 186 2 is_stmt 1 view .LVU601
 186:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1640              		.loc 1 186 14 is_stmt 0 view .LVU602
 1641 0042 2246     		mov	r2, r4
 1642 0044 3946     		mov	r1, r7
 1643 0046 0A20     		movs	r0, #10
 1644              	.LVL116:
 186:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1645              		.loc 1 186 14 view .LVU603
 1646 0048 FFF7FEFF 		bl	readRegister
 1647              	.LVL117:
 187:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup1to3, address, voltage);
 1648              		.loc 1 187 2 is_stmt 1 view .LVU604
 1649 004c 0640     		ands	r6, r6, r0
 1650              	.LVL118:
 188:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1651              		.loc 1 188 2 view .LVU605
 188:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1652              		.loc 1 188 14 is_stmt 0 view .LVU606
 1653 004e 2246     		mov	r2, r4
 1654 0050 3946     		mov	r1, r7
 1655 0052 0420     		movs	r0, #4
 1656              	.LVL119:
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 51


 188:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1657              		.loc 1 188 14 view .LVU607
 1658 0054 FFF7FEFF 		bl	readRegister
 1659              	.LVL120:
 189:Src/LTC6811.c **** 	
 1660              		.loc 1 189 2 is_stmt 1 view .LVU608
 1661 0058 0640     		ands	r6, r6, r0
 1662              	.LVL121:
 191:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1663              		.loc 1 191 2 view .LVU609
 1664              	.LBB10:
 191:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1665              		.loc 1 191 7 view .LVU610
 191:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1666              		.loc 1 191 15 is_stmt 0 view .LVU611
 1667 005a 0023     		movs	r3, #0
 1668              	.LVL122:
 1669              	.L59:
 191:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1670              		.loc 1 191 2 discriminator 1 view .LVU612
 1671 005c 0B2B     		cmp	r3, #11
 1672 005e 06D8     		bhi	.L62
 192:Src/LTC6811.c **** 	}
 1673              		.loc 1 192 3 is_stmt 1 discriminator 3 view .LVU613
 192:Src/LTC6811.c **** 	}
 1674              		.loc 1 192 27 is_stmt 0 discriminator 3 view .LVU614
 1675 0060 34F81320 		ldrh	r2, [r4, r3, lsl #1]
 192:Src/LTC6811.c **** 	}
 1676              		.loc 1 192 18 discriminator 3 view .LVU615
 1677 0064 25F81320 		strh	r2, [r5, r3, lsl #1]	@ movhi
 191:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1678              		.loc 1 191 31 discriminator 3 view .LVU616
 1679 0068 0133     		adds	r3, r3, #1
 1680              	.LVL123:
 191:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1681              		.loc 1 191 31 discriminator 3 view .LVU617
 1682 006a DBB2     		uxtb	r3, r3
 1683              	.LVL124:
 191:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1684              		.loc 1 191 31 discriminator 3 view .LVU618
 1685 006c F6E7     		b	.L59
 1686              	.L62:
 191:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1687              		.loc 1 191 31 discriminator 3 view .LVU619
 1688              	.LBE10:
 195:Src/LTC6811.c **** 	
 1689              		.loc 1 195 2 is_stmt 1 view .LVU620
 1690 006e 2046     		mov	r0, r4
 1691              	.LVL125:
 195:Src/LTC6811.c **** 	
 1692              		.loc 1 195 2 is_stmt 0 view .LVU621
 1693 0070 FFF7FEFF 		bl	free
 1694              	.LVL126:
 197:Src/LTC6811.c **** 	
 1695              		.loc 1 197 2 is_stmt 1 view .LVU622
 199:Src/LTC6811.c **** 
 1696              		.loc 1 199 1 is_stmt 0 view .LVU623
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 52


 1697 0074 3046     		mov	r0, r6
 1698 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 199:Src/LTC6811.c **** 
 1699              		.loc 1 199 1 view .LVU624
 1700              		.cfi_endproc
 1701              	.LFE69:
 1703              		.section	.text.readAllCellVoltages,"ax",%progbits
 1704              		.align	1
 1705              		.global	readAllCellVoltages
 1706              		.syntax unified
 1707              		.thumb
 1708              		.thumb_func
 1709              		.fpu softvfp
 1711              	readAllCellVoltages:
 1712              	.LVL127:
 1713              	.LFB70:
 201:Src/LTC6811.c **** 	
 1714              		.loc 1 201 84 is_stmt 1 view -0
 1715              		.cfi_startproc
 1716              		@ args = 92, pretend = 16, frame = 0
 1717              		@ frame_needed = 1, uses_anonymous_args = 0
 201:Src/LTC6811.c **** 	
 1718              		.loc 1 201 84 is_stmt 0 view .LVU626
 1719 0000 84B0     		sub	sp, sp, #16
 1720              	.LCFI32:
 1721              		.cfi_def_cfa_offset 16
 1722 0002 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1723              	.LCFI33:
 1724              		.cfi_def_cfa_offset 48
 1725              		.cfi_offset 3, -48
 1726              		.cfi_offset 4, -44
 1727              		.cfi_offset 5, -40
 1728              		.cfi_offset 6, -36
 1729              		.cfi_offset 7, -32
 1730              		.cfi_offset 8, -28
 1731              		.cfi_offset 9, -24
 1732              		.cfi_offset 14, -20
 1733 0006 00AF     		add	r7, sp, #0
 1734              	.LCFI34:
 1735              		.cfi_def_cfa_register 7
 1736 0008 07F12004 		add	r4, r7, #32
 1737 000c 84E80F00 		stm	r4, {r0, r1, r2, r3}
 1738 0010 BE6F     		ldr	r6, [r7, #120]
 221:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 1739              		.loc 1 221 2 is_stmt 1 view .LVU627
 221:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 1740              		.loc 1 221 27 is_stmt 0 view .LVU628
 1741 0012 97F84130 		ldrb	r3, [r7, #65]	@ zero_extendqisi2
 1742              	.LVL128:
 221:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 1743              		.loc 1 221 11 view .LVU629
 1744 0016 5B00     		lsls	r3, r3, #1
 1745              	.LVL129:
 221:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 1746              		.loc 1 221 11 view .LVU630
 1747 0018 0733     		adds	r3, r3, #7
 1748 001a 03F47E73 		and	r3, r3, #1016
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 53


 1749 001e ADEB030D 		sub	sp, sp, r3
 1750 0022 6D46     		mov	r5, sp
 1751              	.LVL130:
 222:Src/LTC6811.c **** 	bool dataValid = true;
 1752              		.loc 1 222 2 is_stmt 1 view .LVU631
 222:Src/LTC6811.c **** 	bool dataValid = true;
 1753              		.loc 1 222 20 is_stmt 0 view .LVU632
 1754 0024 97F82080 		ldrb	r8, [r7, #32]	@ zero_extendqisi2
 1755              	.LVL131:
 222:Src/LTC6811.c **** 	bool dataValid = true;
 1756              		.loc 1 222 7 view .LVU633
 1757 0028 08F10703 		add	r3, r8, #7
 1758 002c 03F4FC73 		and	r3, r3, #504
 1759 0030 ADEB030D 		sub	sp, sp, r3
 1760 0034 E946     		mov	r9, sp
 1761              	.LVL132:
 223:Src/LTC6811.c **** 
 1762              		.loc 1 223 2 is_stmt 1 view .LVU634
 225:Src/LTC6811.c **** 
 1763              		.loc 1 225 2 view .LVU635
 1764              	.LBB11:
 225:Src/LTC6811.c **** 
 1765              		.loc 1 225 7 view .LVU636
 225:Src/LTC6811.c **** 
 1766              		.loc 1 225 15 is_stmt 0 view .LVU637
 1767 0036 0024     		movs	r4, #0
 225:Src/LTC6811.c **** 
 1768              		.loc 1 225 2 view .LVU638
 1769 0038 01E0     		b	.L64
 1770              	.LVL133:
 1771              	.L74:
 225:Src/LTC6811.c **** 
 1772              		.loc 1 225 41 discriminator 2 view .LVU639
 1773 003a 0134     		adds	r4, r4, #1
 1774              	.LVL134:
 225:Src/LTC6811.c **** 
 1775              		.loc 1 225 41 discriminator 2 view .LVU640
 1776 003c E4B2     		uxtb	r4, r4
 1777              	.LVL135:
 1778              	.L64:
 225:Src/LTC6811.c **** 
 1779              		.loc 1 225 2 discriminator 1 view .LVU641
 1780 003e 4445     		cmp	r4, r8
 1781 0040 16D2     		bcs	.L73
 227:Src/LTC6811.c **** 
 1782              		.loc 1 227 3 is_stmt 1 view .LVU642
 227:Src/LTC6811.c **** 
 1783              		.loc 1 227 18 is_stmt 0 view .LVU643
 1784 0042 07F12003 		add	r3, r7, #32
 1785 0046 2344     		add	r3, r3, r4
 1786 0048 2946     		mov	r1, r5
 1787 004a 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1788 004c FFF7FEFF 		bl	readCellVoltage
 1789              	.LVL136:
 227:Src/LTC6811.c **** 
 1790              		.loc 1 227 16 view .LVU644
 1791 0050 09F80400 		strb	r0, [r9, r4]
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 54


 229:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1792              		.loc 1 229 3 is_stmt 1 view .LVU645
 1793              	.LBB12:
 229:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1794              		.loc 1 229 8 view .LVU646
 1795              	.LVL137:
 229:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1796              		.loc 1 229 16 is_stmt 0 view .LVU647
 1797 0054 0023     		movs	r3, #0
 1798              	.LVL138:
 1799              	.L65:
 229:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1800              		.loc 1 229 3 discriminator 1 view .LVU648
 1801 0056 0B2B     		cmp	r3, #11
 1802 0058 EFD8     		bhi	.L74
 230:Src/LTC6811.c **** 		}
 1803              		.loc 1 230 4 is_stmt 1 discriminator 3 view .LVU649
 230:Src/LTC6811.c **** 		}
 1804              		.loc 1 230 15 is_stmt 0 discriminator 3 view .LVU650
 1805 005a 04EB4401 		add	r1, r4, r4, lsl #1
 1806 005e CA00     		lsls	r2, r1, #3
 1807 0060 3244     		add	r2, r2, r6
 230:Src/LTC6811.c **** 		}
 1808              		.loc 1 230 36 discriminator 3 view .LVU651
 1809 0062 35F81310 		ldrh	r1, [r5, r3, lsl #1]
 230:Src/LTC6811.c **** 		}
 1810              		.loc 1 230 22 discriminator 3 view .LVU652
 1811 0066 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 229:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1812              		.loc 1 229 32 discriminator 3 view .LVU653
 1813 006a 0133     		adds	r3, r3, #1
 1814              	.LVL139:
 229:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1815              		.loc 1 229 32 discriminator 3 view .LVU654
 1816 006c DBB2     		uxtb	r3, r3
 1817              	.LVL140:
 229:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1818              		.loc 1 229 32 discriminator 3 view .LVU655
 1819 006e F2E7     		b	.L65
 1820              	.LVL141:
 1821              	.L73:
 229:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1822              		.loc 1 229 32 discriminator 3 view .LVU656
 1823              	.LBE12:
 1824              	.LBE11:
 1825              	.LBB13:
 234:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 1826              		.loc 1 234 15 view .LVU657
 1827 0070 0023     		movs	r3, #0
 1828              	.LBE13:
 223:Src/LTC6811.c **** 
 1829              		.loc 1 223 7 view .LVU658
 1830 0072 0120     		movs	r0, #1
 1831 0074 01E0     		b	.L68
 1832              	.LVL142:
 1833              	.L69:
 1834              	.LBB14:
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 55


 234:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 1835              		.loc 1 234 41 discriminator 2 view .LVU659
 1836 0076 0133     		adds	r3, r3, #1
 1837              	.LVL143:
 234:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 1838              		.loc 1 234 41 discriminator 2 view .LVU660
 1839 0078 DBB2     		uxtb	r3, r3
 1840              	.LVL144:
 1841              	.L68:
 234:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 1842              		.loc 1 234 2 discriminator 1 view .LVU661
 1843 007a 4345     		cmp	r3, r8
 1844 007c 05D2     		bcs	.L75
 235:Src/LTC6811.c **** 			dataValid = false;
 1845              		.loc 1 235 3 is_stmt 1 view .LVU662
 235:Src/LTC6811.c **** 			dataValid = false;
 1846              		.loc 1 235 16 is_stmt 0 view .LVU663
 1847 007e 19F80320 		ldrb	r2, [r9, r3]	@ zero_extendqisi2
 235:Src/LTC6811.c **** 			dataValid = false;
 1848              		.loc 1 235 6 view .LVU664
 1849 0082 002A     		cmp	r2, #0
 1850 0084 F7D1     		bne	.L69
 236:Src/LTC6811.c **** 	}
 1851              		.loc 1 236 14 view .LVU665
 1852 0086 1046     		mov	r0, r2
 1853              	.LVL145:
 236:Src/LTC6811.c **** 	}
 1854              		.loc 1 236 14 view .LVU666
 1855 0088 F5E7     		b	.L69
 1856              	.LVL146:
 1857              	.L75:
 236:Src/LTC6811.c **** 	}
 1858              		.loc 1 236 14 view .LVU667
 1859              	.LBE14:
 240:Src/LTC6811.c **** 
 1860              		.loc 1 240 1 view .LVU668
 1861 008a BD46     		mov	sp, r7
 1862              	.LCFI35:
 1863              		.cfi_def_cfa_register 13
 1864              		@ sp needed
 1865 008c BDE8F843 		pop	{r3, r4, r5, r6, r7, r8, r9, lr}
 1866              	.LCFI36:
 1867              		.cfi_restore 14
 1868              		.cfi_restore 9
 1869              		.cfi_restore 8
 1870              		.cfi_restore 7
 1871              		.cfi_restore 6
 1872              		.cfi_restore 5
 1873              		.cfi_restore 4
 1874              		.cfi_restore 3
 1875              		.cfi_def_cfa_offset 16
 1876              	.LVL147:
 240:Src/LTC6811.c **** 
 1877              		.loc 1 240 1 view .LVU669
 1878 0090 04B0     		add	sp, sp, #16
 1879              	.LCFI37:
 1880              		.cfi_def_cfa_offset 0
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 56


 1881 0092 7047     		bx	lr
 1882              		.cfi_endproc
 1883              	.LFE70:
 1885              		.section	.text.checkCellConnection,"ax",%progbits
 1886              		.align	1
 1887              		.global	checkCellConnection
 1888              		.syntax unified
 1889              		.thumb
 1890              		.thumb_func
 1891              		.fpu softvfp
 1893              	checkCellConnection:
 1894              	.LVL148:
 1895              	.LFB74:
 365:Src/LTC6811.c **** 		
 1896              		.loc 1 365 77 is_stmt 1 view -0
 1897              		.cfi_startproc
 1898              		@ args = 0, pretend = 0, frame = 24
 1899              		@ frame_needed = 0, uses_anonymous_args = 0
 365:Src/LTC6811.c **** 		
 1900              		.loc 1 365 77 is_stmt 0 view .LVU671
 1901 0000 30B5     		push	{r4, r5, lr}
 1902              	.LCFI38:
 1903              		.cfi_def_cfa_offset 12
 1904              		.cfi_offset 4, -12
 1905              		.cfi_offset 5, -8
 1906              		.cfi_offset 14, -4
 1907 0002 87B0     		sub	sp, sp, #28
 1908              	.LCFI39:
 1909              		.cfi_def_cfa_offset 40
 1910 0004 0446     		mov	r4, r0
 1911 0006 0D46     		mov	r5, r1
 367:Src/LTC6811.c **** 	bool disconnect = false;
 1912              		.loc 1 367 2 is_stmt 1 view .LVU672
 368:Src/LTC6811.c **** 	
 1913              		.loc 1 368 2 view .LVU673
 1914              	.LVL149:
 371:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1915              		.loc 1 371 2 view .LVU674
 1916 0008 40F22920 		movw	r0, #553
 1917              	.LVL150:
 371:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1918              		.loc 1 371 2 is_stmt 0 view .LVU675
 1919 000c FFF7FEFF 		bl	sendBroadcastCommand
 1920              	.LVL151:
 372:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1921              		.loc 1 372 2 is_stmt 1 view .LVU676
 1922 0010 40F22920 		movw	r0, #553
 1923 0014 FFF7FEFF 		bl	sendBroadcastCommand
 1924              	.LVL152:
 373:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1925              		.loc 1 373 2 view .LVU677
 1926 0018 40F22920 		movw	r0, #553
 1927 001c FFF7FEFF 		bl	sendBroadcastCommand
 1928              	.LVL153:
 374:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1929              		.loc 1 374 2 view .LVU678
 1930 0020 40F22920 		movw	r0, #553
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 57


 1931 0024 FFF7FEFF 		bl	sendBroadcastCommand
 1932              	.LVL154:
 375:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1933              		.loc 1 375 2 view .LVU679
 1934 0028 40F22920 		movw	r0, #553
 1935 002c FFF7FEFF 		bl	sendBroadcastCommand
 1936              	.LVL155:
 376:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1937              		.loc 1 376 2 view .LVU680
 1938 0030 40F22920 		movw	r0, #553
 1939 0034 FFF7FEFF 		bl	sendBroadcastCommand
 1940              	.LVL156:
 377:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1941              		.loc 1 377 2 view .LVU681
 1942 0038 40F22920 		movw	r0, #553
 1943 003c FFF7FEFF 		bl	sendBroadcastCommand
 1944              	.LVL157:
 378:Src/LTC6811.c **** 
 1945              		.loc 1 378 2 view .LVU682
 1946 0040 40F22920 		movw	r0, #553
 1947 0044 FFF7FEFF 		bl	sendBroadcastCommand
 1948              	.LVL158:
 380:Src/LTC6811.c **** 	
 1949              		.loc 1 380 2 view .LVU683
 1950 0048 3220     		movs	r0, #50
 1951 004a FFF7FEFF 		bl	HAL_Delay
 1952              	.LVL159:
 382:Src/LTC6811.c **** 	readCellVoltage(0, ADOWvoltage);
 1953              		.loc 1 382 2 view .LVU684
 1954 004e 6946     		mov	r1, sp
 1955 0050 0020     		movs	r0, #0
 1956 0052 FFF7FEFF 		bl	readCellVoltage
 1957              	.LVL160:
 383:Src/LTC6811.c **** 	readCellVoltage(0, ADOWvoltage);
 1958              		.loc 1 383 2 view .LVU685
 1959 0056 6946     		mov	r1, sp
 1960 0058 0020     		movs	r0, #0
 1961 005a FFF7FEFF 		bl	readCellVoltage
 1962              	.LVL161:
 384:Src/LTC6811.c **** 	
 1963              		.loc 1 384 2 view .LVU686
 1964 005e 6946     		mov	r1, sp
 1965 0060 0020     		movs	r0, #0
 1966 0062 FFF7FEFF 		bl	readCellVoltage
 1967              	.LVL162:
 386:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1968              		.loc 1 386 2 view .LVU687
 1969              	.LBB15:
 386:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1970              		.loc 1 386 7 view .LVU688
 386:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1971              		.loc 1 386 15 is_stmt 0 view .LVU689
 1972 0066 0023     		movs	r3, #0
 1973              	.LBE15:
 368:Src/LTC6811.c **** 	
 1974              		.loc 1 368 7 view .LVU690
 1975 0068 1846     		mov	r0, r3
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 58


 1976              	.LBB16:
 386:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1977              		.loc 1 386 2 view .LVU691
 1978 006a 03E0     		b	.L77
 1979              	.LVL163:
 1980              	.L78:
 393:Src/LTC6811.c **** 		}
 1981              		.loc 1 393 4 is_stmt 1 view .LVU692
 393:Src/LTC6811.c **** 		}
 1982              		.loc 1 393 22 is_stmt 0 view .LVU693
 1983 006c 0122     		movs	r2, #1
 1984 006e EA54     		strb	r2, [r5, r3]
 1985              	.LVL164:
 1986              	.L79:
 386:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1987              		.loc 1 386 31 discriminator 2 view .LVU694
 1988 0070 0133     		adds	r3, r3, #1
 1989              	.LVL165:
 386:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1990              		.loc 1 386 31 discriminator 2 view .LVU695
 1991 0072 DBB2     		uxtb	r3, r3
 1992              	.LVL166:
 1993              	.L77:
 386:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1994              		.loc 1 386 2 discriminator 1 view .LVU696
 1995 0074 0B2B     		cmp	r3, #11
 1996 0076 0ED8     		bhi	.L82
 388:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 1997              		.loc 1 388 3 is_stmt 1 view .LVU697
 388:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 1998              		.loc 1 388 19 is_stmt 0 view .LVU698
 1999 0078 34F81320 		ldrh	r2, [r4, r3, lsl #1]
 388:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 2000              		.loc 1 388 36 view .LVU699
 2001 007c 06A9     		add	r1, sp, #24
 2002 007e 01EB4301 		add	r1, r1, r3, lsl #1
 2003 0082 31F8181C 		ldrh	r1, [r1, #-24]
 388:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 2004              		.loc 1 388 23 view .LVU700
 2005 0086 521A     		subs	r2, r2, r1
 388:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 2006              		.loc 1 388 6 view .LVU701
 2007 0088 B2F57A7F 		cmp	r2, #1000
 2008 008c EEDD     		ble	.L78
 389:Src/LTC6811.c **** 			disconnect = true;
 2009              		.loc 1 389 4 is_stmt 1 view .LVU702
 389:Src/LTC6811.c **** 			disconnect = true;
 2010              		.loc 1 389 22 is_stmt 0 view .LVU703
 2011 008e 0022     		movs	r2, #0
 2012 0090 EA54     		strb	r2, [r5, r3]
 390:Src/LTC6811.c **** 		}
 2013              		.loc 1 390 4 is_stmt 1 view .LVU704
 2014              	.LVL167:
 390:Src/LTC6811.c **** 		}
 2015              		.loc 1 390 15 is_stmt 0 view .LVU705
 2016 0092 0120     		movs	r0, #1
 2017 0094 ECE7     		b	.L79
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 59


 2018              	.LVL168:
 2019              	.L82:
 390:Src/LTC6811.c **** 		}
 2020              		.loc 1 390 15 view .LVU706
 2021              	.LBE16:
 397:Src/LTC6811.c **** 
 2022              		.loc 1 397 1 view .LVU707
 2023 0096 07B0     		add	sp, sp, #28
 2024              	.LCFI40:
 2025              		.cfi_def_cfa_offset 12
 2026              		@ sp needed
 2027 0098 30BD     		pop	{r4, r5, pc}
 397:Src/LTC6811.c **** 
 2028              		.loc 1 397 1 view .LVU708
 2029              		.cfi_endproc
 2030              	.LFE74:
 2032              		.section	.text.checkAllCellConnections,"ax",%progbits
 2033              		.align	1
 2034              		.global	checkAllCellConnections
 2035              		.syntax unified
 2036              		.thumb
 2037              		.thumb_func
 2038              		.fpu softvfp
 2040              	checkAllCellConnections:
 2041              	.LVL169:
 2042              	.LFB75:
 399:Src/LTC6811.c **** 	
 2043              		.loc 1 399 117 is_stmt 1 view -0
 2044              		.cfi_startproc
 2045              		@ args = 96, pretend = 16, frame = 40
 2046              		@ frame_needed = 0, uses_anonymous_args = 0
 399:Src/LTC6811.c **** 	
 2047              		.loc 1 399 117 is_stmt 0 view .LVU710
 2048 0000 84B0     		sub	sp, sp, #16
 2049              	.LCFI41:
 2050              		.cfi_def_cfa_offset 16
 2051 0002 F0B5     		push	{r4, r5, r6, r7, lr}
 2052              	.LCFI42:
 2053              		.cfi_def_cfa_offset 36
 2054              		.cfi_offset 4, -36
 2055              		.cfi_offset 5, -32
 2056              		.cfi_offset 6, -28
 2057              		.cfi_offset 7, -24
 2058              		.cfi_offset 14, -20
 2059 0004 8BB0     		sub	sp, sp, #44
 2060              	.LCFI43:
 2061              		.cfi_def_cfa_offset 80
 2062 0006 10AC     		add	r4, sp, #64
 2063 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 2064 000c 269E     		ldr	r6, [sp, #152]
 2065 000e 279D     		ldr	r5, [sp, #156]
 401:Src/LTC6811.c **** 	bool connectionBuffer[12];
 2066              		.loc 1 401 2 is_stmt 1 view .LVU711
 402:Src/LTC6811.c **** 	bool individual_check;
 2067              		.loc 1 402 2 view .LVU712
 403:Src/LTC6811.c **** 	bool disconnect = false;
 2068              		.loc 1 403 2 view .LVU713
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 60


 404:Src/LTC6811.c **** 	
 2069              		.loc 1 404 2 view .LVU714
 2070              	.LVL170:
 406:Src/LTC6811.c **** 
 2071              		.loc 1 406 2 view .LVU715
 2072              	.LBB17:
 406:Src/LTC6811.c **** 
 2073              		.loc 1 406 7 view .LVU716
 406:Src/LTC6811.c **** 
 2074              		.loc 1 406 15 is_stmt 0 view .LVU717
 2075 0010 0024     		movs	r4, #0
 2076              	.LBE17:
 404:Src/LTC6811.c **** 	
 2077              		.loc 1 404 7 view .LVU718
 2078 0012 2746     		mov	r7, r4
 2079              	.LBB20:
 406:Src/LTC6811.c **** 
 2080              		.loc 1 406 2 view .LVU719
 2081 0014 16E0     		b	.L84
 2082              	.LVL171:
 2083              	.L93:
 411:Src/LTC6811.c **** 		disconnect = disconnect | individual_check;
 2084              		.loc 1 411 3 is_stmt 1 view .LVU720
 411:Src/LTC6811.c **** 		disconnect = disconnect | individual_check;
 2085              		.loc 1 411 22 is_stmt 0 view .LVU721
 2086 0016 01A9     		add	r1, sp, #4
 2087 0018 04A8     		add	r0, sp, #16
 2088 001a FFF7FEFF 		bl	checkCellConnection
 2089              	.LVL172:
 412:Src/LTC6811.c **** 
 2090              		.loc 1 412 3 is_stmt 1 view .LVU722
 412:Src/LTC6811.c **** 
 2091              		.loc 1 412 27 is_stmt 0 view .LVU723
 2092 001e 0743     		orrs	r7, r7, r0
 2093              	.LVL173:
 412:Src/LTC6811.c **** 
 2094              		.loc 1 412 27 view .LVU724
 2095 0020 FFB2     		uxtb	r7, r7
 2096              	.LVL174:
 414:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2097              		.loc 1 414 3 is_stmt 1 view .LVU725
 2098              	.LBB18:
 414:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2099              		.loc 1 414 8 view .LVU726
 414:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2100              		.loc 1 414 16 is_stmt 0 view .LVU727
 2101 0022 0023     		movs	r3, #0
 2102              	.LVL175:
 2103              	.L86:
 414:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2104              		.loc 1 414 3 discriminator 1 view .LVU728
 2105 0024 0B2B     		cmp	r3, #11
 2106 0026 0BD8     		bhi	.L91
 415:Src/LTC6811.c **** 		}
 2107              		.loc 1 415 4 is_stmt 1 discriminator 3 view .LVU729
 415:Src/LTC6811.c **** 		}
 2108              		.loc 1 415 18 is_stmt 0 discriminator 3 view .LVU730
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 61


 2109 0028 04EB4401 		add	r1, r4, r4, lsl #1
 2110 002c 8A00     		lsls	r2, r1, #2
 2111 002e 2A44     		add	r2, r2, r5
 415:Src/LTC6811.c **** 		}
 2112              		.loc 1 415 43 discriminator 3 view .LVU731
 2113 0030 0AA9     		add	r1, sp, #40
 2114 0032 1944     		add	r1, r1, r3
 2115 0034 11F8241C 		ldrb	r1, [r1, #-36]	@ zero_extendqisi2
 415:Src/LTC6811.c **** 		}
 2116              		.loc 1 415 25 discriminator 3 view .LVU732
 2117 0038 D154     		strb	r1, [r2, r3]
 414:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2118              		.loc 1 414 32 discriminator 3 view .LVU733
 2119 003a 0133     		adds	r3, r3, #1
 2120              	.LVL176:
 414:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2121              		.loc 1 414 32 discriminator 3 view .LVU734
 2122 003c DBB2     		uxtb	r3, r3
 2123              	.LVL177:
 414:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2124              		.loc 1 414 32 discriminator 3 view .LVU735
 2125 003e F1E7     		b	.L86
 2126              	.L91:
 414:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2127              		.loc 1 414 32 discriminator 3 view .LVU736
 2128              	.LBE18:
 406:Src/LTC6811.c **** 
 2129              		.loc 1 406 41 discriminator 2 view .LVU737
 2130 0040 0134     		adds	r4, r4, #1
 2131              	.LVL178:
 406:Src/LTC6811.c **** 
 2132              		.loc 1 406 41 discriminator 2 view .LVU738
 2133 0042 E4B2     		uxtb	r4, r4
 2134              	.LVL179:
 2135              	.L84:
 406:Src/LTC6811.c **** 
 2136              		.loc 1 406 29 discriminator 1 view .LVU739
 2137 0044 9DF84030 		ldrb	r3, [sp, #64]	@ zero_extendqisi2
 406:Src/LTC6811.c **** 
 2138              		.loc 1 406 2 discriminator 1 view .LVU740
 2139 0048 A342     		cmp	r3, r4
 2140 004a 10D9     		bls	.L92
 2141              	.LBB19:
 408:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2142              		.loc 1 408 16 view .LVU741
 2143 004c 0023     		movs	r3, #0
 2144              	.L88:
 2145              	.LVL180:
 408:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2146              		.loc 1 408 3 discriminator 1 view .LVU742
 2147 004e 0B2B     		cmp	r3, #11
 2148 0050 E1D8     		bhi	.L93
 409:Src/LTC6811.c **** 
 2149              		.loc 1 409 4 is_stmt 1 discriminator 3 view .LVU743
 409:Src/LTC6811.c **** 
 2150              		.loc 1 409 34 is_stmt 0 discriminator 3 view .LVU744
 2151 0052 04EB4401 		add	r1, r4, r4, lsl #1
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 62


 2152 0056 CA00     		lsls	r2, r1, #3
 2153 0058 3244     		add	r2, r2, r6
 409:Src/LTC6811.c **** 
 2154              		.loc 1 409 37 discriminator 3 view .LVU745
 2155 005a 32F81310 		ldrh	r1, [r2, r3, lsl #1]
 409:Src/LTC6811.c **** 
 2156              		.loc 1 409 21 discriminator 3 view .LVU746
 2157 005e 0AAA     		add	r2, sp, #40
 2158 0060 02EB4302 		add	r2, r2, r3, lsl #1
 2159 0064 22F8181C 		strh	r1, [r2, #-24]	@ movhi
 408:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2160              		.loc 1 408 32 discriminator 3 view .LVU747
 2161 0068 0133     		adds	r3, r3, #1
 2162              	.LVL181:
 408:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2163              		.loc 1 408 32 discriminator 3 view .LVU748
 2164 006a DBB2     		uxtb	r3, r3
 2165              	.LVL182:
 408:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2166              		.loc 1 408 32 discriminator 3 view .LVU749
 2167 006c EFE7     		b	.L88
 2168              	.LVL183:
 2169              	.L92:
 408:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2170              		.loc 1 408 32 discriminator 3 view .LVU750
 2171              	.LBE19:
 2172              	.LBE20:
 419:Src/LTC6811.c **** }
 2173              		.loc 1 419 2 is_stmt 1 view .LVU751
 420:Src/LTC6811.c **** 
 2174              		.loc 1 420 1 is_stmt 0 view .LVU752
 2175 006e 3846     		mov	r0, r7
 2176 0070 0BB0     		add	sp, sp, #44
 2177              	.LCFI44:
 2178              		.cfi_def_cfa_offset 36
 2179              		@ sp needed
 2180 0072 BDE8F040 		pop	{r4, r5, r6, r7, lr}
 2181              	.LCFI45:
 2182              		.cfi_restore 14
 2183              		.cfi_restore 7
 2184              		.cfi_restore 6
 2185              		.cfi_restore 5
 2186              		.cfi_restore 4
 2187              		.cfi_def_cfa_offset 16
 2188              	.LVL184:
 420:Src/LTC6811.c **** 
 2189              		.loc 1 420 1 view .LVU753
 2190 0076 04B0     		add	sp, sp, #16
 2191              	.LCFI46:
 2192              		.cfi_def_cfa_offset 0
 2193 0078 7047     		bx	lr
 2194              		.cfi_endproc
 2195              	.LFE75:
 2197              		.global	__aeabi_ui2d
 2198              		.global	__aeabi_ddiv
 2199              		.global	__aeabi_dmul
 2200              		.global	__aeabi_dsub
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 63


 2201              		.global	__aeabi_dadd
 2202              		.global	__aeabi_d2uiz
 2203              		.section	.text.readCellTemp,"ax",%progbits
 2204              		.align	1
 2205              		.global	readCellTemp
 2206              		.syntax unified
 2207              		.thumb
 2208              		.thumb_func
 2209              		.fpu softvfp
 2211              	readCellTemp:
 2212              	.LVL185:
 2213              	.LFB71:
 242:Src/LTC6811.c **** 	
 2214              		.loc 1 242 94 is_stmt 1 view -0
 2215              		.cfi_startproc
 2216              		@ args = 0, pretend = 0, frame = 16
 2217              		@ frame_needed = 0, uses_anonymous_args = 0
 242:Src/LTC6811.c **** 	
 2218              		.loc 1 242 94 is_stmt 0 view .LVU755
 2219 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2220              	.LCFI47:
 2221              		.cfi_def_cfa_offset 36
 2222              		.cfi_offset 4, -36
 2223              		.cfi_offset 5, -32
 2224              		.cfi_offset 6, -28
 2225              		.cfi_offset 7, -24
 2226              		.cfi_offset 8, -20
 2227              		.cfi_offset 9, -16
 2228              		.cfi_offset 10, -12
 2229              		.cfi_offset 11, -8
 2230              		.cfi_offset 14, -4
 2231 0004 85B0     		sub	sp, sp, #20
 2232              	.LCFI48:
 2233              		.cfi_def_cfa_offset 56
 2234 0006 0546     		mov	r5, r0
 2235 0008 8B46     		mov	fp, r1
 2236 000a 1646     		mov	r6, r2
 2237 000c 1F46     		mov	r7, r3
 244:Src/LTC6811.c **** 	bool dataValid = true;
 2238              		.loc 1 244 2 is_stmt 1 view .LVU756
 2239              	.LVL186:
 245:Src/LTC6811.c **** 	uint16_t *temp;
 2240              		.loc 1 245 2 view .LVU757
 246:Src/LTC6811.c **** 	double dummy[4];
 2241              		.loc 1 246 2 view .LVU758
 247:Src/LTC6811.c **** 	double conversion[4];
 2242              		.loc 1 247 2 view .LVU759
 248:Src/LTC6811.c **** 	
 2243              		.loc 1 248 2 view .LVU760
 250:Src/LTC6811.c **** 	
 2244              		.loc 1 250 2 view .LVU761
 250:Src/LTC6811.c **** 	
 2245              		.loc 1 250 21 is_stmt 0 view .LVU762
 2246 000e 0820     		movs	r0, #8
 2247              	.LVL187:
 250:Src/LTC6811.c **** 	
 2248              		.loc 1 250 21 view .LVU763
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 64


 2249 0010 FFF7FEFF 		bl	malloc
 2250              	.LVL188:
 250:Src/LTC6811.c **** 	
 2251              		.loc 1 250 21 view .LVU764
 2252 0014 8246     		mov	r10, r0
 2253              	.LVL189:
 252:Src/LTC6811.c **** 	
 2254              		.loc 1 252 2 is_stmt 1 view .LVU765
 2255 0016 2946     		mov	r1, r5
 2256 0018 4FF48C60 		mov	r0, #1120
 2257              	.LVL190:
 252:Src/LTC6811.c **** 	
 2258              		.loc 1 252 2 is_stmt 0 view .LVU766
 2259 001c FFF7FEFF 		bl	sendAddressCommand
 2260              	.LVL191:
 254:Src/LTC6811.c **** 	
 2261              		.loc 1 254 2 is_stmt 1 view .LVU767
 2262 0020 3220     		movs	r0, #50
 2263 0022 FFF7FEFF 		bl	HAL_Delay
 2264              	.LVL192:
 256:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2265              		.loc 1 256 2 view .LVU768
 256:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2266              		.loc 1 256 14 is_stmt 0 view .LVU769
 2267 0026 5246     		mov	r2, r10
 2268 0028 2946     		mov	r1, r5
 2269 002a 0C20     		movs	r0, #12
 2270 002c FFF7FEFF 		bl	readRegister
 2271              	.LVL193:
 2272 0030 0446     		mov	r4, r0
 2273              	.LVL194:
 257:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupB, address, temp);
 2274              		.loc 1 257 2 is_stmt 1 view .LVU770
 258:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2275              		.loc 1 258 2 view .LVU771
 258:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2276              		.loc 1 258 14 is_stmt 0 view .LVU772
 2277 0032 5246     		mov	r2, r10
 2278 0034 2946     		mov	r1, r5
 2279 0036 0E20     		movs	r0, #14
 2280 0038 FFF7FEFF 		bl	readRegister
 2281              	.LVL195:
 259:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupA, address, temp);
 2282              		.loc 1 259 2 is_stmt 1 view .LVU773
 2283 003c 0440     		ands	r4, r4, r0
 2284              	.LVL196:
 259:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupA, address, temp);
 2285              		.loc 1 259 2 is_stmt 0 view .LVU774
 2286 003e E4B2     		uxtb	r4, r4
 2287              	.LVL197:
 260:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2288              		.loc 1 260 2 is_stmt 1 view .LVU775
 260:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2289              		.loc 1 260 14 is_stmt 0 view .LVU776
 2290 0040 5246     		mov	r2, r10
 2291 0042 2946     		mov	r1, r5
 2292 0044 0C20     		movs	r0, #12
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 65


 2293              	.LVL198:
 260:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2294              		.loc 1 260 14 view .LVU777
 2295 0046 FFF7FEFF 		bl	readRegister
 2296              	.LVL199:
 261:Src/LTC6811.c **** 
 2297              		.loc 1 261 2 is_stmt 1 view .LVU778
 2298 004a 04EA0003 		and	r3, r4, r0
 2299 004e 0393     		str	r3, [sp, #12]
 2300              	.LVL200:
 271:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2301              		.loc 1 271 2 view .LVU779
 2302              	.LBB21:
 271:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2303              		.loc 1 271 7 view .LVU780
 271:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2304              		.loc 1 271 15 is_stmt 0 view .LVU781
 2305 0050 0025     		movs	r5, #0
 271:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2306              		.loc 1 271 2 view .LVU782
 2307 0052 10E0     		b	.L95
 2308              	.LVL201:
 2309              	.L96:
 277:Src/LTC6811.c **** 		
 2310              		.loc 1 277 4 is_stmt 1 view .LVU783
 277:Src/LTC6811.c **** 		
 2311              		.loc 1 277 15 is_stmt 0 view .LVU784
 2312 0054 0023     		movs	r3, #0
 2313 0056 7355     		strb	r3, [r6, r5]
 2314 0058 21E0     		b	.L97
 2315              	.L98:
 284:Src/LTC6811.c **** 		
 2316              		.loc 1 284 4 is_stmt 1 view .LVU785
 284:Src/LTC6811.c **** 		
 2317              		.loc 1 284 17 is_stmt 0 view .LVU786
 2318 005a 0023     		movs	r3, #0
 2319 005c BB54     		strb	r3, [r7, r2]
 2320              	.L99:
 286:Src/LTC6811.c **** 			dummy[i] = (double) temp[i] / 10000; // convert from ADC value to voltage
 2321              		.loc 1 286 3 is_stmt 1 view .LVU787
 286:Src/LTC6811.c **** 			dummy[i] = (double) temp[i] / 10000; // convert from ADC value to voltage
 2322              		.loc 1 286 12 is_stmt 0 view .LVU788
 2323 005e 3AF80400 		ldrh	r0, [r10, r4]
 286:Src/LTC6811.c **** 			dummy[i] = (double) temp[i] / 10000; // convert from ADC value to voltage
 2324              		.loc 1 286 26 view .LVU789
 2325 0062 A0F56B53 		sub	r3, r0, #15040
 2326 0066 3C3B     		subs	r3, r3, #60
 2327 0068 9BB2     		uxth	r3, r3
 286:Src/LTC6811.c **** 			dummy[i] = (double) temp[i] / 10000; // convert from ADC value to voltage
 2328              		.loc 1 286 6 view .LVU790
 2329 006a 42F25442 		movw	r2, #9300
 2330 006e 9342     		cmp	r3, r2
 2331 0070 26D9     		bls	.L103
 2332              	.L100:
 271:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2333              		.loc 1 271 30 discriminator 2 view .LVU791
 2334 0072 0135     		adds	r5, r5, #1
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 66


 2335              	.LVL202:
 271:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2336              		.loc 1 271 30 discriminator 2 view .LVU792
 2337 0074 EDB2     		uxtb	r5, r5
 2338              	.LVL203:
 2339              	.L95:
 271:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2340              		.loc 1 271 2 discriminator 1 view .LVU793
 2341 0076 032D     		cmp	r5, #3
 2342 0078 00F2A480 		bhi	.L104
 272:Src/LTC6811.c **** 			dcFault[i] = true;
 2343              		.loc 1 272 3 is_stmt 1 view .LVU794
 272:Src/LTC6811.c **** 			dcFault[i] = true;
 2344              		.loc 1 272 12 is_stmt 0 view .LVU795
 2345 007c 2A46     		mov	r2, r5
 2346 007e 6C00     		lsls	r4, r5, #1
 2347 0080 3AF81530 		ldrh	r3, [r10, r5, lsl #1]
 272:Src/LTC6811.c **** 			dcFault[i] = true;
 2348              		.loc 1 272 25 view .LVU796
 2349 0084 A3F54B53 		sub	r3, r3, #12992
 2350 0088 083B     		subs	r3, r3, #8
 2351 008a 9BB2     		uxth	r3, r3
 272:Src/LTC6811.c **** 			dcFault[i] = true;
 2352              		.loc 1 272 6 view .LVU797
 2353 008c 42F68841 		movw	r1, #11400
 2354 0090 8B42     		cmp	r3, r1
 2355 0092 DFD9     		bls	.L96
 273:Src/LTC6811.c **** 			cellTemp[i] = 0x0000;
 2356              		.loc 1 273 4 is_stmt 1 view .LVU798
 273:Src/LTC6811.c **** 			cellTemp[i] = 0x0000;
 2357              		.loc 1 273 15 is_stmt 0 view .LVU799
 2358 0094 0123     		movs	r3, #1
 2359 0096 7355     		strb	r3, [r6, r5]
 274:Src/LTC6811.c **** 		}
 2360              		.loc 1 274 4 is_stmt 1 view .LVU800
 274:Src/LTC6811.c **** 		}
 2361              		.loc 1 274 16 is_stmt 0 view .LVU801
 2362 0098 0023     		movs	r3, #0
 2363 009a 2BF81530 		strh	r3, [fp, r5, lsl #1]	@ movhi
 2364              	.L97:
 279:Src/LTC6811.c **** 			tempFault[i] = true;
 2365              		.loc 1 279 3 is_stmt 1 view .LVU802
 279:Src/LTC6811.c **** 			tempFault[i] = true;
 2366              		.loc 1 279 12 is_stmt 0 view .LVU803
 2367 009e 3AF80430 		ldrh	r3, [r10, r4]
 279:Src/LTC6811.c **** 			tempFault[i] = true;
 2368              		.loc 1 279 26 view .LVU804
 2369 00a2 A3F54B53 		sub	r3, r3, #12992
 2370 00a6 083B     		subs	r3, r3, #8
 2371 00a8 9BB2     		uxth	r3, r3
 279:Src/LTC6811.c **** 			tempFault[i] = true;
 2372              		.loc 1 279 6 view .LVU805
 2373 00aa 40F63301 		movw	r1, #2099
 2374 00ae 8B42     		cmp	r3, r1
 2375 00b0 D3D8     		bhi	.L98
 280:Src/LTC6811.c **** 			cellTemp[i] = 0xFFFF;
 2376              		.loc 1 280 4 is_stmt 1 view .LVU806
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 67


 280:Src/LTC6811.c **** 			cellTemp[i] = 0xFFFF;
 2377              		.loc 1 280 17 is_stmt 0 view .LVU807
 2378 00b2 0123     		movs	r3, #1
 2379 00b4 BB54     		strb	r3, [r7, r2]
 281:Src/LTC6811.c **** 		}
 2380              		.loc 1 281 4 is_stmt 1 view .LVU808
 281:Src/LTC6811.c **** 		}
 2381              		.loc 1 281 16 is_stmt 0 view .LVU809
 2382 00b6 4FF6FF73 		movw	r3, #65535
 2383 00ba 2BF80430 		strh	r3, [fp, r4]	@ movhi
 2384 00be CEE7     		b	.L99
 2385              	.L103:
 287:Src/LTC6811.c **** 			// convert from voltage to temperature
 2386              		.loc 1 287 4 is_stmt 1 view .LVU810
 287:Src/LTC6811.c **** 			// convert from voltage to temperature
 2387              		.loc 1 287 15 is_stmt 0 view .LVU811
 2388 00c0 FFF7FEFF 		bl	__aeabi_ui2d
 2389              	.LVL204:
 287:Src/LTC6811.c **** 			// convert from voltage to temperature
 2390              		.loc 1 287 32 view .LVU812
 2391 00c4 44A3     		adr	r3, .L105
 2392 00c6 D3E90023 		ldrd	r2, [r3]
 2393 00ca FFF7FEFF 		bl	__aeabi_ddiv
 2394              	.LVL205:
 2395 00ce CDE90001 		strd	r0, [sp]
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2396              		.loc 1 289 4 is_stmt 1 view .LVU813
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2397              		.loc 1 289 35 is_stmt 0 view .LVU814
 2398 00d2 43A3     		adr	r3, .L105+8
 2399 00d4 D3E90023 		ldrd	r2, [r3]
 2400 00d8 FFF7FEFF 		bl	__aeabi_dmul
 2401              	.LVL206:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2402              		.loc 1 289 26 view .LVU815
 2403 00dc 0246     		mov	r2, r0
 2404 00de 0B46     		mov	r3, r1
 2405 00e0 41A1     		adr	r1, .L105+16
 2406 00e2 D1E90001 		ldrd	r0, [r1]
 2407 00e6 FFF7FEFF 		bl	__aeabi_dsub
 2408              	.LVL207:
 2409 00ea 8046     		mov	r8, r0
 2410 00ec 8946     		mov	r9, r1
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2411              		.loc 1 289 57 view .LVU816
 2412 00ee 0022     		movs	r2, #0
 2413 00f0 4FF08043 		mov	r3, #1073741824
 2414 00f4 DDE90001 		ldrd	r0, [sp]
 2415 00f8 FFF7FEFF 		bl	pow
 2416              	.LVL208:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2417              		.loc 1 289 55 view .LVU817
 2418 00fc 3CA3     		adr	r3, .L105+24
 2419 00fe D3E90023 		ldrd	r2, [r3]
 2420 0102 FFF7FEFF 		bl	__aeabi_dmul
 2421              	.LVL209:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 68


 2422              		.loc 1 289 46 view .LVU818
 2423 0106 0246     		mov	r2, r0
 2424 0108 0B46     		mov	r3, r1
 2425 010a 4046     		mov	r0, r8
 2426 010c 4946     		mov	r1, r9
 2427 010e FFF7FEFF 		bl	__aeabi_dadd
 2428              	.LVL210:
 2429 0112 8046     		mov	r8, r0
 2430 0114 8946     		mov	r9, r1
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2431              		.loc 1 289 84 view .LVU819
 2432 0116 0022     		movs	r2, #0
 2433 0118 3F4B     		ldr	r3, .L105+64
 2434 011a DDE90001 		ldrd	r0, [sp]
 2435 011e FFF7FEFF 		bl	pow
 2436              	.LVL211:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2437              		.loc 1 289 82 view .LVU820
 2438 0122 35A3     		adr	r3, .L105+32
 2439 0124 D3E90023 		ldrd	r2, [r3]
 2440 0128 FFF7FEFF 		bl	__aeabi_dmul
 2441              	.LVL212:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2442              		.loc 1 289 74 view .LVU821
 2443 012c 0246     		mov	r2, r0
 2444 012e 0B46     		mov	r3, r1
 2445 0130 4046     		mov	r0, r8
 2446 0132 4946     		mov	r1, r9
 2447 0134 FFF7FEFF 		bl	__aeabi_dsub
 2448              	.LVL213:
 2449 0138 8046     		mov	r8, r0
 2450 013a 8946     		mov	r9, r1
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2451              		.loc 1 289 111 view .LVU822
 2452 013c 0022     		movs	r2, #0
 2453 013e 374B     		ldr	r3, .L105+68
 2454 0140 DDE90001 		ldrd	r0, [sp]
 2455 0144 FFF7FEFF 		bl	pow
 2456              	.LVL214:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2457              		.loc 1 289 109 view .LVU823
 2458 0148 2DA3     		adr	r3, .L105+40
 2459 014a D3E90023 		ldrd	r2, [r3]
 2460 014e FFF7FEFF 		bl	__aeabi_dmul
 2461              	.LVL215:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2462              		.loc 1 289 101 view .LVU824
 2463 0152 0246     		mov	r2, r0
 2464 0154 0B46     		mov	r3, r1
 2465 0156 4046     		mov	r0, r8
 2466 0158 4946     		mov	r1, r9
 2467 015a FFF7FEFF 		bl	__aeabi_dadd
 2468              	.LVL216:
 2469 015e 8046     		mov	r8, r0
 2470 0160 8946     		mov	r9, r1
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2471              		.loc 1 289 137 view .LVU825
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 69


 2472 0162 0022     		movs	r2, #0
 2473 0164 2E4B     		ldr	r3, .L105+72
 2474 0166 DDE90001 		ldrd	r0, [sp]
 2475 016a FFF7FEFF 		bl	pow
 2476              	.LVL217:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2477              		.loc 1 289 135 view .LVU826
 2478 016e 26A3     		adr	r3, .L105+48
 2479 0170 D3E90023 		ldrd	r2, [r3]
 2480 0174 FFF7FEFF 		bl	__aeabi_dmul
 2481              	.LVL218:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2482              		.loc 1 289 128 view .LVU827
 2483 0178 0246     		mov	r2, r0
 2484 017a 0B46     		mov	r3, r1
 2485 017c 4046     		mov	r0, r8
 2486 017e 4946     		mov	r1, r9
 2487 0180 FFF7FEFF 		bl	__aeabi_dsub
 2488              	.LVL219:
 2489 0184 8046     		mov	r8, r0
 2490 0186 8946     		mov	r9, r1
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2491              		.loc 1 289 165 view .LVU828
 2492 0188 0022     		movs	r2, #0
 2493 018a 264B     		ldr	r3, .L105+76
 2494 018c DDE90001 		ldrd	r0, [sp]
 2495 0190 FFF7FEFF 		bl	pow
 2496              	.LVL220:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2497              		.loc 1 289 163 view .LVU829
 2498 0194 1EA3     		adr	r3, .L105+56
 2499 0196 D3E90023 		ldrd	r2, [r3]
 2500 019a FFF7FEFF 		bl	__aeabi_dmul
 2501              	.LVL221:
 289:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2502              		.loc 1 289 154 view .LVU830
 2503 019e 0246     		mov	r2, r0
 2504 01a0 0B46     		mov	r3, r1
 2505 01a2 4046     		mov	r0, r8
 2506 01a4 4946     		mov	r1, r9
 2507 01a6 FFF7FEFF 		bl	__aeabi_dadd
 2508              	.LVL222:
 290:Src/LTC6811.c **** 			cellTemp[i] = (uint16_t) conversion[i];
 2509              		.loc 1 290 4 is_stmt 1 view .LVU831
 290:Src/LTC6811.c **** 			cellTemp[i] = (uint16_t) conversion[i];
 2510              		.loc 1 290 41 is_stmt 0 view .LVU832
 2511 01aa 0022     		movs	r2, #0
 2512 01ac 1E4B     		ldr	r3, .L105+80
 2513 01ae FFF7FEFF 		bl	__aeabi_dadd
 2514              	.LVL223:
 290:Src/LTC6811.c **** 			cellTemp[i] = (uint16_t) conversion[i];
 2515              		.loc 1 290 24 view .LVU833
 2516 01b2 0022     		movs	r2, #0
 2517 01b4 1D4B     		ldr	r3, .L105+84
 2518 01b6 FFF7FEFF 		bl	__aeabi_dmul
 2519              	.LVL224:
 291:Src/LTC6811.c **** 			//cellTemp[i] = temp[i];
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 70


 2520              		.loc 1 291 4 is_stmt 1 view .LVU834
 291:Src/LTC6811.c **** 			//cellTemp[i] = temp[i];
 2521              		.loc 1 291 18 is_stmt 0 view .LVU835
 2522 01ba FFF7FEFF 		bl	__aeabi_d2uiz
 2523              	.LVL225:
 291:Src/LTC6811.c **** 			//cellTemp[i] = temp[i];
 2524              		.loc 1 291 16 view .LVU836
 2525 01be 2BF80400 		strh	r0, [fp, r4]	@ movhi
 2526 01c2 56E7     		b	.L100
 2527              	.L104:
 291:Src/LTC6811.c **** 			//cellTemp[i] = temp[i];
 2528              		.loc 1 291 16 view .LVU837
 2529              	.LBE21:
 296:Src/LTC6811.c **** 	
 2530              		.loc 1 296 2 is_stmt 1 view .LVU838
 2531 01c4 5046     		mov	r0, r10
 2532 01c6 FFF7FEFF 		bl	free
 2533              	.LVL226:
 298:Src/LTC6811.c **** 	
 2534              		.loc 1 298 2 view .LVU839
 300:Src/LTC6811.c **** 
 2535              		.loc 1 300 1 is_stmt 0 view .LVU840
 2536 01ca 0398     		ldr	r0, [sp, #12]
 2537 01cc 05B0     		add	sp, sp, #20
 2538              	.LCFI49:
 2539              		.cfi_def_cfa_offset 36
 2540              		@ sp needed
 2541 01ce BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2542              	.LVL227:
 2543              	.L106:
 300:Src/LTC6811.c **** 
 2544              		.loc 1 300 1 view .LVU841
 2545 01d2 00BFAFF3 		.align	3
 2545      0080
 2546              	.L105:
 2547 01d8 00000000 		.word	0
 2548 01dc 0088C340 		.word	1086556160
 2549 01e0 00000000 		.word	0
 2550 01e4 30D0FB40 		.word	1090244656
 2551 01e8 00000000 		.word	0
 2552 01ec E06CE240 		.word	1088580832
 2553 01f0 00000000 		.word	0
 2554 01f4 386A0141 		.word	1090611768
 2555 01f8 00000000 		.word	0
 2556 01fc 1010F740 		.word	1089933328
 2557 0200 00000000 		.word	0
 2558 0204 E0FDE040 		.word	1088486880
 2559 0208 00000000 		.word	0
 2560 020c 005DBA40 		.word	1085955328
 2561 0210 7B14AE47 		.word	1202590843
 2562 0214 E1C88040 		.word	1082181857
 2563 0218 00000840 		.word	1074266112
 2564 021c 00001040 		.word	1074790400
 2565 0220 00001440 		.word	1075052544
 2566 0224 00001840 		.word	1075314688
 2567 0228 00003440 		.word	1077149696
 2568 022c 00407F40 		.word	1082081280
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 71


 2569              		.cfi_endproc
 2570              	.LFE71:
 2572              		.section	.text.readAllCellTemps,"ax",%progbits
 2573              		.align	1
 2574              		.global	readAllCellTemps
 2575              		.syntax unified
 2576              		.thumb
 2577              		.thumb_func
 2578              		.fpu softvfp
 2580              	readAllCellTemps:
 2581              	.LVL228:
 2582              	.LFB72:
 302:Src/LTC6811.c **** 	
 2583              		.loc 1 302 121 is_stmt 1 view -0
 2584              		.cfi_startproc
 2585              		@ args = 100, pretend = 16, frame = 16
 2586              		@ frame_needed = 0, uses_anonymous_args = 0
 302:Src/LTC6811.c **** 	
 2587              		.loc 1 302 121 is_stmt 0 view .LVU843
 2588 0000 84B0     		sub	sp, sp, #16
 2589              	.LCFI50:
 2590              		.cfi_def_cfa_offset 16
 2591 0002 F0B5     		push	{r4, r5, r6, r7, lr}
 2592              	.LCFI51:
 2593              		.cfi_def_cfa_offset 36
 2594              		.cfi_offset 4, -36
 2595              		.cfi_offset 5, -32
 2596              		.cfi_offset 6, -28
 2597              		.cfi_offset 7, -24
 2598              		.cfi_offset 14, -20
 2599 0004 85B0     		sub	sp, sp, #20
 2600              	.LCFI52:
 2601              		.cfi_def_cfa_offset 56
 2602 0006 0AAC     		add	r4, sp, #40
 2603 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 2604 000c 209F     		ldr	r7, [sp, #128]
 2605 000e 219E     		ldr	r6, [sp, #132]
 2606 0010 229D     		ldr	r5, [sp, #136]
 325:Src/LTC6811.c **** 	bool boardDCFault[4];
 2607              		.loc 1 325 2 is_stmt 1 view .LVU844
 326:Src/LTC6811.c **** 	bool boardTempFault[4];
 2608              		.loc 1 326 2 view .LVU845
 327:Src/LTC6811.c **** 	bool dataValid = true;
 2609              		.loc 1 327 2 view .LVU846
 328:Src/LTC6811.c **** 
 2610              		.loc 1 328 2 view .LVU847
 2611              	.LVL229:
 330:Src/LTC6811.c **** 		
 2612              		.loc 1 330 2 view .LVU848
 2613              	.LBB22:
 330:Src/LTC6811.c **** 		
 2614              		.loc 1 330 7 view .LVU849
 330:Src/LTC6811.c **** 		
 2615              		.loc 1 330 15 is_stmt 0 view .LVU850
 2616 0012 0024     		movs	r4, #0
 2617              	.LBE22:
 328:Src/LTC6811.c **** 
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 72


 2618              		.loc 1 328 7 view .LVU851
 2619 0014 0120     		movs	r0, #1
 2620              	.LBB25:
 330:Src/LTC6811.c **** 		
 2621              		.loc 1 330 2 view .LVU852
 2622 0016 1BE0     		b	.L108
 2623              	.LVL230:
 2624              	.L110:
 2625              	.LBB23:
 335:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 2626              		.loc 1 335 4 is_stmt 1 discriminator 3 view .LVU853
 335:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 2627              		.loc 1 335 12 is_stmt 0 discriminator 3 view .LVU854
 2628 0018 07EBC402 		add	r2, r7, r4, lsl #3
 335:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 2629              		.loc 1 335 30 discriminator 3 view .LVU855
 2630 001c 04A9     		add	r1, sp, #16
 2631 001e 01EB4301 		add	r1, r1, r3, lsl #1
 2632 0022 31F8081C 		ldrh	r1, [r1, #-8]
 335:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 2633              		.loc 1 335 19 discriminator 3 view .LVU856
 2634 0026 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 336:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
 2635              		.loc 1 336 4 is_stmt 1 discriminator 3 view .LVU857
 336:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
 2636              		.loc 1 336 11 is_stmt 0 discriminator 3 view .LVU858
 2637 002a A200     		lsls	r2, r4, #2
 2638 002c 06EB020C 		add	ip, r6, r2
 336:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
 2639              		.loc 1 336 32 discriminator 3 view .LVU859
 2640 0030 04A9     		add	r1, sp, #16
 2641 0032 1944     		add	r1, r1, r3
 2642 0034 11F80CEC 		ldrb	lr, [r1, #-12]	@ zero_extendqisi2
 336:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
 2643              		.loc 1 336 18 discriminator 3 view .LVU860
 2644 0038 0CF803E0 		strb	lr, [ip, r3]
 337:Src/LTC6811.c **** 		}
 2645              		.loc 1 337 4 is_stmt 1 discriminator 3 view .LVU861
 337:Src/LTC6811.c **** 		}
 2646              		.loc 1 337 13 is_stmt 0 discriminator 3 view .LVU862
 2647 003c 2A44     		add	r2, r2, r5
 337:Src/LTC6811.c **** 		}
 2648              		.loc 1 337 36 discriminator 3 view .LVU863
 2649 003e 11F8101C 		ldrb	r1, [r1, #-16]	@ zero_extendqisi2
 337:Src/LTC6811.c **** 		}
 2650              		.loc 1 337 20 discriminator 3 view .LVU864
 2651 0042 D154     		strb	r1, [r2, r3]
 334:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2652              		.loc 1 334 31 discriminator 3 view .LVU865
 2653 0044 0133     		adds	r3, r3, #1
 2654              	.LVL231:
 334:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2655              		.loc 1 334 31 discriminator 3 view .LVU866
 2656 0046 DBB2     		uxtb	r3, r3
 2657              	.LVL232:
 2658              	.L109:
 334:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 73


 2659              		.loc 1 334 3 discriminator 1 view .LVU867
 2660 0048 032B     		cmp	r3, #3
 2661 004a E5D9     		bls	.L110
 2662              	.LBE23:
 330:Src/LTC6811.c **** 		
 2663              		.loc 1 330 41 discriminator 2 view .LVU868
 2664 004c 0134     		adds	r4, r4, #1
 2665              	.LVL233:
 330:Src/LTC6811.c **** 		
 2666              		.loc 1 330 41 discriminator 2 view .LVU869
 2667 004e E4B2     		uxtb	r4, r4
 2668              	.LVL234:
 2669              	.L108:
 330:Src/LTC6811.c **** 		
 2670              		.loc 1 330 29 discriminator 1 view .LVU870
 2671 0050 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 330:Src/LTC6811.c **** 		
 2672              		.loc 1 330 2 discriminator 1 view .LVU871
 2673 0054 A342     		cmp	r3, r4
 2674 0056 09D9     		bls	.L113
 332:Src/LTC6811.c **** 
 2675              		.loc 1 332 3 is_stmt 1 view .LVU872
 332:Src/LTC6811.c **** 
 2676              		.loc 1 332 15 is_stmt 0 view .LVU873
 2677 0058 0AAB     		add	r3, sp, #40
 2678 005a 1819     		adds	r0, r3, r4
 2679              	.LVL235:
 332:Src/LTC6811.c **** 
 2680              		.loc 1 332 15 view .LVU874
 2681 005c 6B46     		mov	r3, sp
 2682 005e 01AA     		add	r2, sp, #4
 2683 0060 02A9     		add	r1, sp, #8
 2684 0062 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 2685 0064 FFF7FEFF 		bl	readCellTemp
 2686              	.LVL236:
 334:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2687              		.loc 1 334 3 is_stmt 1 view .LVU875
 2688              	.LBB24:
 334:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2689              		.loc 1 334 8 view .LVU876
 334:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2690              		.loc 1 334 16 is_stmt 0 view .LVU877
 2691 0068 0023     		movs	r3, #0
 334:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2692              		.loc 1 334 3 view .LVU878
 2693 006a EDE7     		b	.L109
 2694              	.LVL237:
 2695              	.L113:
 334:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2696              		.loc 1 334 3 view .LVU879
 2697              	.LBE24:
 2698              	.LBE25:
 342:Src/LTC6811.c **** 
 2699              		.loc 1 342 1 view .LVU880
 2700 006c 05B0     		add	sp, sp, #20
 2701              	.LCFI53:
 2702              		.cfi_def_cfa_offset 36
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 74


 2703              		@ sp needed
 2704 006e BDE8F040 		pop	{r4, r5, r6, r7, lr}
 2705              	.LCFI54:
 2706              		.cfi_restore 14
 2707              		.cfi_restore 7
 2708              		.cfi_restore 6
 2709              		.cfi_restore 5
 2710              		.cfi_restore 4
 2711              		.cfi_def_cfa_offset 16
 2712              	.LVL238:
 342:Src/LTC6811.c **** 
 2713              		.loc 1 342 1 view .LVU881
 2714 0072 04B0     		add	sp, sp, #16
 2715              	.LCFI55:
 2716              		.cfi_def_cfa_offset 0
 2717 0074 7047     		bx	lr
 2718              		.cfi_endproc
 2719              	.LFE72:
 2721              		.global	CRC15_POLY
 2722              		.comm	pec15Table,512,4
 2723              		.section	.data.CRC15_POLY,"aw"
 2724              		.align	1
 2725              		.set	.LANCHOR0,. + 0
 2728              	CRC15_POLY:
 2729 0000 9945     		.short	17817
 2730              		.text
 2731              	.Letext0:
 2732              		.file 2 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\machine\\_default_types.h"
 2733              		.file 3 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 2734              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 2735              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 2736              		.file 6 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 2737              		.file 7 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 2738              		.file 8 "c:\\arm-gcc\\8-2018-q4-major\\lib\\gcc\\arm-none-eabi\\8.2.1\\include\\stddef.h"
 2739              		.file 9 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 2740              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 2741              		.file 11 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\stdlib.h"
 2742              		.file 12 "Inc/BMSconfig.h"
 2743              		.file 13 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\math.h"
 2744              		.file 14 "Inc/LTC6811.h"
 2745              		.file 15 "Inc/SPI.h"
 2746              		.file 16 "<built-in>"
ARM GAS  C:\cygwin64\tmp\cc2PZYA1.s 			page 75


DEFINED SYMBOLS
                            *ABS*:00000000 LTC6811.c
C:\cygwin64\tmp\cc2PZYA1.s:16     .text.initPECTable:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:24     .text.initPECTable:00000000 initPECTable
C:\cygwin64\tmp\cc2PZYA1.s:118    .text.initPECTable:00000038 $d
                            *COM*:00000200 pec15Table
C:\cygwin64\tmp\cc2PZYA1.s:124    .text.calculatePEC:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:131    .text.calculatePEC:00000000 calculatePEC
C:\cygwin64\tmp\cc2PZYA1.s:207    .text.calculatePEC:0000002c $d
C:\cygwin64\tmp\cc2PZYA1.s:212    .text.readRegister:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:219    .text.readRegister:00000000 readRegister
C:\cygwin64\tmp\cc2PZYA1.s:712    .text.readConfig:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:719    .text.readConfig:00000000 readConfig
C:\cygwin64\tmp\cc2PZYA1.s:806    .text.writeConfigAddress:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:813    .text.writeConfigAddress:00000000 writeConfigAddress
C:\cygwin64\tmp\cc2PZYA1.s:1088   .text.writeConfigAll:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:1095   .text.writeConfigAll:00000000 writeConfigAll
C:\cygwin64\tmp\cc2PZYA1.s:1172   .text.dischargeCellGroups:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:1179   .text.dischargeCellGroups:00000000 dischargeCellGroups
C:\cygwin64\tmp\cc2PZYA1.s:1391   .text.sendBroadcastCommand:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:1398   .text.sendBroadcastCommand:00000000 sendBroadcastCommand
C:\cygwin64\tmp\cc2PZYA1.s:1455   .text.sendAddressCommand:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:1462   .text.sendAddressCommand:00000000 sendAddressCommand
C:\cygwin64\tmp\cc2PZYA1.s:1558   .text.readCellVoltage:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:1565   .text.readCellVoltage:00000000 readCellVoltage
C:\cygwin64\tmp\cc2PZYA1.s:1704   .text.readAllCellVoltages:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:1711   .text.readAllCellVoltages:00000000 readAllCellVoltages
C:\cygwin64\tmp\cc2PZYA1.s:1886   .text.checkCellConnection:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:1893   .text.checkCellConnection:00000000 checkCellConnection
C:\cygwin64\tmp\cc2PZYA1.s:2033   .text.checkAllCellConnections:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:2040   .text.checkAllCellConnections:00000000 checkAllCellConnections
C:\cygwin64\tmp\cc2PZYA1.s:2204   .text.readCellTemp:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:2211   .text.readCellTemp:00000000 readCellTemp
C:\cygwin64\tmp\cc2PZYA1.s:2547   .text.readCellTemp:000001d8 $d
C:\cygwin64\tmp\cc2PZYA1.s:2573   .text.readAllCellTemps:00000000 $t
C:\cygwin64\tmp\cc2PZYA1.s:2580   .text.readAllCellTemps:00000000 readAllCellTemps
C:\cygwin64\tmp\cc2PZYA1.s:2728   .data.CRC15_POLY:00000000 CRC15_POLY
C:\cygwin64\tmp\cc2PZYA1.s:2724   .data.CRC15_POLY:00000000 $d

UNDEFINED SYMBOLS
malloc
SPIWriteRead
SPIWrite
free
memcpy
HAL_Delay
__aeabi_ui2d
__aeabi_ddiv
__aeabi_dmul
__aeabi_dsub
__aeabi_dadd
__aeabi_d2uiz
pow
