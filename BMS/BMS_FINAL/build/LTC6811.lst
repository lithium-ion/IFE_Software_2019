ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"LTC6811.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.initPECTable,"ax",%progbits
  16              		.align	1
  17              		.global	initPECTable
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	initPECTable:
  25              	.LFB66:
  26              		.file 1 "Src/LTC6811.c"
   1:Src/LTC6811.c **** /*
   2:Src/LTC6811.c **** 	LTC6811 Command Functions
   3:Src/LTC6811.c **** 	Matt Vlasaty
   4:Src/LTC6811.c **** 	March 29th, 2019
   5:Src/LTC6811.c **** 	
   6:Src/LTC6811.c **** 	General Functions
   7:Src/LTC6811.c **** 		sendBroadcastCommand: void sendBroadcastCommand(CommandCodeTypedef command);
   8:Src/LTC6811.c **** 			- sends specified write-only command to every LTC in the chain (ex: ADCV)
   9:Src/LTC6811.c **** 			- CommandCodeTypedef enum contains every command code used
  10:Src/LTC6811.c **** 		sendAddressCommand: void sendAddressCommand(CommandCodeTypedef command, uint8_t address);
  11:Src/LTC6811.c **** 			- sends specified write-only command to LTC with specified address
  12:Src/LTC6811.c **** 		readRegister: bool readRegister(CommandCodeTypedef command, uint8_t address, uint16_t *data);
  13:Src/LTC6811.c **** 			- reads register specified in command from specified board
  14:Src/LTC6811.c **** 			- ex: ReadCellVoltageRegisterGroup1to3, ReadAuxiliaryGroupA, ReadConfigurationRegisterGroup
  15:Src/LTC6811.c **** 			- returns true if received PEC matches calculated PEC
  16:Src/LTC6811.c **** 		
  17:Src/LTC6811.c **** 	Configuration Functions
  18:Src/LTC6811.c **** 		writeConfigAll: void writeConfigAll(BMSconfigStructTypedef cfg);
  19:Src/LTC6811.c **** 			- writes configuration data from BMSconfig struct into LTC configuration register
  20:Src/LTC6811.c **** 			- BMSconfig struct includes ADCMode, UV, OV, and discharge enable for each cell
  21:Src/LTC6811.c **** 			- BMSconfig struct also contains number of ICs and array of addresses used
  22:Src/LTC6811.c **** 		writeConfigAddress: void writeConfigAddress(BMSconfigStructTypedef cfg, uint8_t address);
  23:Src/LTC6811.c **** 			- this is only used for cellDischarge command
  24:Src/LTC6811.c **** 			- writes configuration data to LTC with specified address
  25:Src/LTC6811.c **** 		readConfig: bool readConfig(uint8_t address, uint8_t cfg[6]);
  26:Src/LTC6811.c **** 			- uses general readRegister function to check current state of LTC configuration register
  27:Src/LTC6811.c **** 			- this is mostly for testing purposes
  28:Src/LTC6811.c **** 			- returns true if received PEC matches calculated PEC (same as readRegister)
  29:Src/LTC6811.c **** 		
  30:Src/LTC6811.c **** 	Cell Voltage Functions
  31:Src/LTC6811.c **** 		readCellVoltage: bool readCellVoltage(uint8_t address, uint16_t cellVoltage[12]);
  32:Src/LTC6811.c **** 			- sends ADCV command that begins conversion for every cell to specified LTC
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 2


  33:Src/LTC6811.c **** 			- reads all cell voltage registers using general readRegister function
  34:Src/LTC6811.c **** 			- used cell inputs (1, 2, 3, 4, 7, 8, 9, 10) must be chosen from cellVoltage[12] later
  35:Src/LTC6811.c **** 			- returns true if received PEC matches calculated PEC (same as readRegister)
  36:Src/LTC6811.c **** 		readAllCellVoltages: bool readAllCellVoltages(BMSconfigStructTypedef cfg, uint16_t cellVoltage[12
  37:Src/LTC6811.c **** 			- not tested
  38:Src/LTC6811.c **** 			- using order of ICs in BMSconfig, stores cell voltage for every cell on every board into 2D arr
  39:Src/LTC6811.c **** 			- returns false if any readCellVoltage returns false
  40:Src/LTC6811.c **** 	
  41:Src/LTC6811.c **** 	Cell Temperature Functions
  42:Src/LTC6811.c **** 		readCellTemp: bool readCellTemp(uint8_t address, uint16_t cellTemp[4], bool dcFault[4], bool temp
  43:Src/LTC6811.c **** 			- initiates ADC conversion for GPIO inputs connected to temperature sensors
  44:Src/LTC6811.c **** 			- reads auxiliary register groups using general readRegister function
  45:Src/LTC6811.c **** 			- converts measured voltage into temperature based on temperature sensor response
  46:Src/LTC6811.c **** 			- checks for disconnected temperature sensor and overtemperature faults for each LTC and stores 
  47:Src/LTC6811.c **** 		readAllCellTemps: bool readAllCellTemps(uint8_t numBoards, uint16_t cellTemp[numBoards][4], bool 
  48:Src/LTC6811.c **** 			- not tested
  49:Src/LTC6811.c **** 			- using order of ICs in BMSconfig, stores cell temperature for every cell on every board into 2D
  50:Src/LTC6811.c **** 			- returns false if any readCellTemp returns false
  51:Src/LTC6811.c **** 	
  52:Src/LTC6811.c **** 	Cell Connection Functions
  53:Src/LTC6811.c **** 		checkCellConnection: void checkCellConnection(uint16_t cellVoltage[12], bool cellConnection[12]);
  54:Src/LTC6811.c **** 			- needs previously obtained cell voltage measurements
  55:Src/LTC6811.c **** 			- initiates ADOW command with PUP = 0 to source 100uA while measuring cell voltage
  56:Src/LTC6811.c **** 			- reads cell voltages with readCellVoltage function
  57:Src/LTC6811.c **** 			- compares previously measured values to open wire check values
  58:Src/LTC6811.c **** 			- if there is a significant drop in voltage (should be configurable), cell is disconnected
  59:Src/LTC6811.c **** 			- stores 1 into cellConnection if cell is connected
  60:Src/LTC6811.c **** 			- stores 0 into cellConnection if cell is disconnected
  61:Src/LTC6811.c **** 		checkAllCellConnections: 
  62:Src/LTC6811.c **** 	
  63:Src/LTC6811.c **** 	PEC Functions
  64:Src/LTC6811.c **** 		initPECTable: void initPECTable(void);
  65:Src/LTC6811.c **** 			- taken from LTC6811 datasheet
  66:Src/LTC6811.c **** 			- generates PEC look-up table
  67:Src/LTC6811.c **** 			- should be called on start-up
  68:Src/LTC6811.c **** 		calculatePEC: uint16_t calculatePEC(uint8_t len, uint8_t *data);
  69:Src/LTC6811.c **** 			- taken from LTC6811 datasheet
  70:Src/LTC6811.c **** 			- used when sending command to calculate necessary PEC bytes to follow command bytes
  71:Src/LTC6811.c **** 			- used when receiving data to compare received PEC with the PEC that should have been received b
  72:Src/LTC6811.c **** 			- returns uint16_t PEC value
  73:Src/LTC6811.c **** 			
  74:Src/LTC6811.c **** 	TODO:
  75:Src/LTC6811.c **** 		- checkCellConnection return value needs to disregard unused cell inputs
  76:Src/LTC6811.c **** 		- resolve issue with writeConfig not changing every bit in the first register group
  77:Src/LTC6811.c **** 		- test functions used to read from every board (readAllCellVoltages should be [12][8])
  78:Src/LTC6811.c **** 		- minor changes (using more user-defined constants, changing return values)
  79:Src/LTC6811.c **** 		
  80:Src/LTC6811.c **** 	NOTES:
  81:Src/LTC6811.c **** 		- writeConfig is called every loop for every LTC because dischargeCells is called every loop for 
  82:Src/LTC6811.c **** 		- always take measurements, only send when not charging? (CAN messages for charging?)
  83:Src/LTC6811.c **** 		- every 'readAll' function starts with address = 0 and increases sequentially
  84:Src/LTC6811.c **** 		
  85:Src/LTC6811.c **** 		- in temp read, faults are determined but not transferred
  86:Src/LTC6811.c **** 		- temperature conversion works, but error is +/- 1 degree
  87:Src/LTC6811.c **** */
  88:Src/LTC6811.c **** 
  89:Src/LTC6811.c **** 
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 3


  90:Src/LTC6811.c **** #include "LTC6811.h"
  91:Src/LTC6811.c **** 
  92:Src/LTC6811.c **** uint16_t pec15Table[256];
  93:Src/LTC6811.c **** uint16_t CRC15_POLY = 0x4599;
  94:Src/LTC6811.c **** 
  95:Src/LTC6811.c **** void initPECTable(void) {
  27              		.loc 1 95 25 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  96:Src/LTC6811.c **** 	
  97:Src/LTC6811.c **** 	uint16_t remainder;
  32              		.loc 1 97 2 view .LVU1
  98:Src/LTC6811.c **** 	
  99:Src/LTC6811.c **** 	for (int i = 0; i < 256; i++) {
  33              		.loc 1 99 2 view .LVU2
  34              	.LBB2:
  35              		.loc 1 99 7 view .LVU3
  36              	.LVL0:
  37              		.loc 1 99 11 is_stmt 0 view .LVU4
  38 0000 0020     		movs	r0, #0
  39              		.loc 1 99 2 view .LVU5
  40 0002 11E0     		b	.L2
  41              	.LVL1:
  42              	.L4:
  43              	.LBB3:
 100:Src/LTC6811.c **** 		remainder = i << 7;
 101:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
 102:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 103:Src/LTC6811.c **** 				remainder = ((remainder << 1));
 104:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
 105:Src/LTC6811.c **** 			}
 106:Src/LTC6811.c **** 			else {
 107:Src/LTC6811.c **** 				remainder = ((remainder << 1));
  44              		.loc 1 107 5 is_stmt 1 view .LVU6
  45              		.loc 1 107 15 is_stmt 0 view .LVU7
  46 0004 5B00     		lsls	r3, r3, #1
  47              	.LVL2:
  48              		.loc 1 107 15 view .LVU8
  49 0006 9BB2     		uxth	r3, r3
  50              	.LVL3:
  51              	.L5:
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
  52              		.loc 1 101 33 discriminator 2 view .LVU9
  53 0008 013A     		subs	r2, r2, #1
  54              	.LVL4:
  55              	.L3:
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
  56              		.loc 1 101 3 discriminator 1 view .LVU10
  57 000a 002A     		cmp	r2, #0
  58 000c 08DD     		ble	.L8
 102:Src/LTC6811.c **** 				remainder = ((remainder << 1));
  59              		.loc 1 102 4 is_stmt 1 view .LVU11
 102:Src/LTC6811.c **** 				remainder = ((remainder << 1));
  60              		.loc 1 102 7 is_stmt 0 view .LVU12
  61 000e 13F4804F 		tst	r3, #16384
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 4


  62 0012 F7D0     		beq	.L4
 103:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
  63              		.loc 1 103 5 is_stmt 1 view .LVU13
 103:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
  64              		.loc 1 103 15 is_stmt 0 view .LVU14
  65 0014 5B00     		lsls	r3, r3, #1
  66              	.LVL5:
 103:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
  67              		.loc 1 103 15 view .LVU15
  68 0016 9BB2     		uxth	r3, r3
  69              	.LVL6:
 104:Src/LTC6811.c **** 			}
  70              		.loc 1 104 5 is_stmt 1 view .LVU16
 104:Src/LTC6811.c **** 			}
  71              		.loc 1 104 15 is_stmt 0 view .LVU17
  72 0018 0749     		ldr	r1, .L10
  73 001a 0988     		ldrh	r1, [r1]
  74 001c 4B40     		eors	r3, r3, r1
  75              	.LVL7:
 104:Src/LTC6811.c **** 			}
  76              		.loc 1 104 15 view .LVU18
  77 001e F3E7     		b	.L5
  78              	.L8:
 104:Src/LTC6811.c **** 			}
  79              		.loc 1 104 15 view .LVU19
  80              	.LBE3:
 108:Src/LTC6811.c **** 			}
 109:Src/LTC6811.c **** 		}
 110:Src/LTC6811.c **** 		pec15Table[i] = remainder & 0xFFFF;
  81              		.loc 1 110 3 is_stmt 1 discriminator 2 view .LVU20
  82              		.loc 1 110 17 is_stmt 0 discriminator 2 view .LVU21
  83 0020 064A     		ldr	r2, .L10+4
  84              	.LVL8:
  85              		.loc 1 110 17 discriminator 2 view .LVU22
  86 0022 22F81030 		strh	r3, [r2, r0, lsl #1]	@ movhi
  99:Src/LTC6811.c **** 		remainder = i << 7;
  87              		.loc 1 99 28 discriminator 2 view .LVU23
  88 0026 0130     		adds	r0, r0, #1
  89              	.LVL9:
  90              	.L2:
  99:Src/LTC6811.c **** 		remainder = i << 7;
  91              		.loc 1 99 2 discriminator 1 view .LVU24
  92 0028 FF28     		cmp	r0, #255
  93 002a 04DC     		bgt	.L9
 100:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
  94              		.loc 1 100 3 is_stmt 1 view .LVU25
 100:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
  95              		.loc 1 100 17 is_stmt 0 view .LVU26
  96 002c 83B2     		uxth	r3, r0
 100:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
  97              		.loc 1 100 13 view .LVU27
  98 002e DB01     		lsls	r3, r3, #7
  99 0030 9BB2     		uxth	r3, r3
 100              	.LVL10:
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 101              		.loc 1 101 3 is_stmt 1 view .LVU28
 102              	.LBB4:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 5


 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 103              		.loc 1 101 8 view .LVU29
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 104              		.loc 1 101 12 is_stmt 0 view .LVU30
 105 0032 0822     		movs	r2, #8
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 106              		.loc 1 101 3 view .LVU31
 107 0034 E9E7     		b	.L3
 108              	.LVL11:
 109              	.L9:
 101:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 110              		.loc 1 101 3 view .LVU32
 111              	.LBE4:
 112              	.LBE2:
 111:Src/LTC6811.c **** 	}
 112:Src/LTC6811.c **** };
 113              		.loc 1 112 1 view .LVU33
 114 0036 7047     		bx	lr
 115              	.L11:
 116              		.align	2
 117              	.L10:
 118 0038 00000000 		.word	.LANCHOR0
 119 003c 00000000 		.word	pec15Table
 120              		.cfi_endproc
 121              	.LFE66:
 123              		.section	.text.calculatePEC,"ax",%progbits
 124              		.align	1
 125              		.global	calculatePEC
 126              		.syntax unified
 127              		.thumb
 128              		.thumb_func
 129              		.fpu softvfp
 131              	calculatePEC:
 132              	.LVL12:
 133              	.LFB80:
 113:Src/LTC6811.c **** 
 114:Src/LTC6811.c **** void writeConfigAddress(BMSconfigStructTypedef cfg, uint8_t address) {
 115:Src/LTC6811.c **** 
 116:Src/LTC6811.c **** 	uint8_t config[6];
 117:Src/LTC6811.c **** 	uint8_t *cmd;
 118:Src/LTC6811.c **** 	uint8_t cmd_len = 12;
 119:Src/LTC6811.c **** 	uint16_t PEC_return;
 120:Src/LTC6811.c **** 	
 121:Src/LTC6811.c **** 	cmd = (uint8_t *)malloc(cmd_len*sizeof(uint8_t));
 122:Src/LTC6811.c **** 	
 123:Src/LTC6811.c **** 	config[0] = (uint8_t) (cfg.GPIO5PulldownOff << 7) | (cfg.GPIO4PulldownOff << 6) | (cfg.GPIO3Pulldo
 124:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 125:Src/LTC6811.c **** 	config[2] = (uint8_t) ((cfg.OvervoltageComparisonVoltage << 4) & 0xF0) | ((cfg.UndervoltageCompari
 126:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 127:Src/LTC6811.c **** 	config[4] = (uint8_t) (cfg.DischargeCell8 << 7) | (cfg.DischargeCell7 << 6) | (cfg.DischargeCell6 
 128:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 129:Src/LTC6811.c **** 	
 130:Src/LTC6811.c **** 	cmd[0] = (uint8_t) (0x80 | ((address << 3) & 0x78) | ((WriteConfigurationRegisterGroup >> 8) & 0x0
 131:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 132:Src/LTC6811.c **** 	
 133:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, cmd);
 134:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 6


 135:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 136:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 137:Src/LTC6811.c **** 
 138:Src/LTC6811.c **** 	cmd[4] = config[0];
 139:Src/LTC6811.c **** 	cmd[5] = config[1];
 140:Src/LTC6811.c **** 	cmd[6] = config[2];
 141:Src/LTC6811.c **** 	cmd[7] = config[3];
 142:Src/LTC6811.c **** 	cmd[8] = config[4];
 143:Src/LTC6811.c **** 	cmd[9] = config[5];
 144:Src/LTC6811.c **** 	
 145:Src/LTC6811.c **** 	PEC_return = calculatePEC(6, cmd + 4);
 146:Src/LTC6811.c **** 
 147:Src/LTC6811.c **** 	cmd[10] = (PEC_return >> 8) & 0xFF;
 148:Src/LTC6811.c **** 	cmd[11] = PEC_return & 0xFF;
 149:Src/LTC6811.c **** 	
 150:Src/LTC6811.c **** 	SPIWrite(cmd, cmd_len);
 151:Src/LTC6811.c **** 	
 152:Src/LTC6811.c **** 	free(cmd);
 153:Src/LTC6811.c **** 
 154:Src/LTC6811.c **** };
 155:Src/LTC6811.c **** 
 156:Src/LTC6811.c **** void writeConfigAll(BMSconfigStructTypedef cfg) {
 157:Src/LTC6811.c **** 	
 158:Src/LTC6811.c **** 	uint8_t config[6];
 159:Src/LTC6811.c **** 	uint8_t *cmd;
 160:Src/LTC6811.c **** 	uint8_t cmd_len = 12;
 161:Src/LTC6811.c **** 	uint16_t PEC_return;
 162:Src/LTC6811.c **** 	
 163:Src/LTC6811.c **** 	cmd = (uint8_t *)malloc(cmd_len*sizeof(uint8_t));
 164:Src/LTC6811.c **** 	/*
 165:Src/LTC6811.c **** 	config[0] = (uint8_t) (cfg.GPIO5PulldownOff << 7) | (cfg.GPIO4PulldownOff << 6) | (cfg.GPIO3Pulldo
 166:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 167:Src/LTC6811.c **** 	config[2] = (uint8_t) ((cfg.OvervoltageComparisonVoltage << 4) & 0xF0) | ((cfg.UndervoltageCompari
 168:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 169:Src/LTC6811.c **** 	config[4] = (uint8_t) (cfg.DischargeCell8 << 7) | (cfg.DischargeCell7 << 6) | (cfg.DischargeCell6 
 170:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 171:Src/LTC6811.c **** 	*/
 172:Src/LTC6811.c **** 	config[0] = 0;
 173:Src/LTC6811.c **** 	config[1] = 0;
 174:Src/LTC6811.c **** 	config[2] = 0;
 175:Src/LTC6811.c **** 	config[3] = 0;
 176:Src/LTC6811.c **** 	config[4] = 0;
 177:Src/LTC6811.c **** 	config[5] = 0;
 178:Src/LTC6811.c **** 
 179:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 180:Src/LTC6811.c **** 	
 181:Src/LTC6811.c **** 		cmd[0] = (uint8_t) (0x80 | ((cfg.addressesofICs[i] << 3) & 0x78) | ((WriteConfigurationRegisterGr
 182:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 183:Src/LTC6811.c **** 		
 184:Src/LTC6811.c **** 		PEC_return = calculatePEC(2, cmd);
 185:Src/LTC6811.c **** 		
 186:Src/LTC6811.c **** 		cmd[2] = (PEC_return >> 8) & 0xFF;
 187:Src/LTC6811.c **** 		cmd[3] = PEC_return & 0xFF;
 188:Src/LTC6811.c **** 	
 189:Src/LTC6811.c **** 		cmd[4] = config[0];
 190:Src/LTC6811.c **** 		cmd[5] = config[1];
 191:Src/LTC6811.c **** 		cmd[6] = config[2];
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 7


 192:Src/LTC6811.c **** 		cmd[7] = config[3];
 193:Src/LTC6811.c **** 		cmd[8] = config[4];
 194:Src/LTC6811.c **** 		cmd[9] = config[5];
 195:Src/LTC6811.c **** 		
 196:Src/LTC6811.c **** 		PEC_return = calculatePEC(6, cmd + 4);
 197:Src/LTC6811.c **** 	
 198:Src/LTC6811.c **** 		cmd[10] = (PEC_return >> 8) & 0xFF;
 199:Src/LTC6811.c **** 		cmd[11] = PEC_return & 0xFF;
 200:Src/LTC6811.c **** 		
 201:Src/LTC6811.c **** 		SPIWrite(cmd, cmd_len);
 202:Src/LTC6811.c **** 	}
 203:Src/LTC6811.c **** 	
 204:Src/LTC6811.c **** 	free(cmd);
 205:Src/LTC6811.c **** 	
 206:Src/LTC6811.c **** };
 207:Src/LTC6811.c **** 
 208:Src/LTC6811.c **** bool readCellVoltage(uint8_t address, uint16_t cellVoltage[12]) {
 209:Src/LTC6811.c **** 	
 210:Src/LTC6811.c **** 	bool PEC_check = false;
 211:Src/LTC6811.c **** 	bool dataValid = true;
 212:Src/LTC6811.c **** 	uint16_t *voltage;
 213:Src/LTC6811.c **** 	
 214:Src/LTC6811.c **** 	voltage = (uint16_t *)malloc(12*sizeof(uint16_t));
 215:Src/LTC6811.c **** 	
 216:Src/LTC6811.c **** 	sendAddressCommand(StartCellVoltageADCConversionAll, address); // start conversion for every cell
 217:Src/LTC6811.c **** 
 218:Src/LTC6811.c **** 	HAL_Delay(50); // conversion time is 12.8ms at 422Hz, so wait 15ms
 219:Src/LTC6811.c **** 	
 220:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup1to3, address, voltage);
 221:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 222:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup4to6, address, voltage);
 223:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 224:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup7to9, address, voltage);
 225:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 226:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup10to12, address, voltage);
 227:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 228:Src/LTC6811.c **** 	
 229:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 12; i++) {
 230:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 231:Src/LTC6811.c **** 	}
 232:Src/LTC6811.c **** 	
 233:Src/LTC6811.c **** 	free(voltage);
 234:Src/LTC6811.c **** 	
 235:Src/LTC6811.c **** 	return(dataValid);
 236:Src/LTC6811.c **** 	
 237:Src/LTC6811.c **** };
 238:Src/LTC6811.c **** 
 239:Src/LTC6811.c **** bool readAllCellVoltages(BMSconfigStructTypedef cfg, uint16_t cellVoltage[12][12]) {
 240:Src/LTC6811.c **** 	
 241:Src/LTC6811.c **** 	/*uint16_t boardVoltage[cfg.numOfCellInputs];
 242:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 243:Src/LTC6811.c **** 	bool dataValid = true;
 244:Src/LTC6811.c **** 	
 245:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 246:Src/LTC6811.c **** 		
 247:Src/LTC6811.c **** 		PEC_check[i] = readCellVoltage((uint8_t) cfg.addressesofICs[i], boardVoltage);
 248:Src/LTC6811.c **** 		
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 8


 249:Src/LTC6811.c **** 		for (uint8_t j = 0; i < cfg.numOfCellInputs; i++) {
 250:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 251:Src/LTC6811.c **** 		}
 252:Src/LTC6811.c **** 	}
 253:Src/LTC6811.c **** 	
 254:Src/LTC6811.c **** 	for (uint8_t k = 0; k < cfg.numOfICs; k++) {
 255:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 256:Src/LTC6811.c **** 			dataValid = false;
 257:Src/LTC6811.c **** 	}*/
 258:Src/LTC6811.c **** 
 259:Src/LTC6811.c **** 	uint16_t boardVoltage[cfg.numOfCellInputs];
 260:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 261:Src/LTC6811.c **** 	bool dataValid = true;
 262:Src/LTC6811.c **** 
 263:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 264:Src/LTC6811.c **** 
 265:Src/LTC6811.c **** 		PEC_check[i] = readCellVoltage(cfg.address[i], boardVoltage);
 266:Src/LTC6811.c **** 
 267:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 12; j++) {
 268:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 269:Src/LTC6811.c **** 		}
 270:Src/LTC6811.c **** 	}
 271:Src/LTC6811.c **** 
 272:Src/LTC6811.c **** 	for (uint8_t k = 0; k < cfg.numOfICs; k++) {
 273:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 274:Src/LTC6811.c **** 			dataValid = false;
 275:Src/LTC6811.c **** 	}
 276:Src/LTC6811.c **** 
 277:Src/LTC6811.c **** 	return dataValid;
 278:Src/LTC6811.c **** }
 279:Src/LTC6811.c **** 
 280:Src/LTC6811.c **** bool readCellTemp(uint8_t address, uint16_t cellTemp[4], bool dcFault[4], bool tempFault[4]) {
 281:Src/LTC6811.c **** 	
 282:Src/LTC6811.c **** 	bool PEC_check = false;
 283:Src/LTC6811.c **** 	bool dataValid = true;
 284:Src/LTC6811.c **** 	uint16_t *temp;
 285:Src/LTC6811.c **** 	double dummy[4];
 286:Src/LTC6811.c **** 	double conversion[4];
 287:Src/LTC6811.c **** 	
 288:Src/LTC6811.c **** 	temp = (uint16_t *)malloc(4*sizeof(uint16_t));
 289:Src/LTC6811.c **** 	
 290:Src/LTC6811.c **** 	sendAddressCommand(StartCellTempVoltageADCConversionAll, address);
 291:Src/LTC6811.c **** 	
 292:Src/LTC6811.c **** 	HAL_Delay(15); // conversion time is 12.8ms at 422Hz, so wait 15ms
 293:Src/LTC6811.c **** 	
 294:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupA, address, temp);
 295:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 296:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupB, address, temp);
 297:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 298:Src/LTC6811.c **** 	
 299:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 4; i++) {
 300:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 301:Src/LTC6811.c **** 			dcFault[i] = true;
 302:Src/LTC6811.c **** 			cellTemp[i] = 0x0000;
 303:Src/LTC6811.c **** 		}
 304:Src/LTC6811.c **** 		else
 305:Src/LTC6811.c **** 			dcFault[i] = false;
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 9


 306:Src/LTC6811.c **** 		
 307:Src/LTC6811.c **** 		if ((temp[i] >= 13000) && (temp[i] < 15100)) {
 308:Src/LTC6811.c **** 			tempFault[i] = true;
 309:Src/LTC6811.c **** 			cellTemp[i] = 0xFFFF;
 310:Src/LTC6811.c **** 		}
 311:Src/LTC6811.c **** 		else
 312:Src/LTC6811.c **** 			tempFault[i] = false;
 313:Src/LTC6811.c **** 		
 314:Src/LTC6811.c **** 		if ((temp[i] >= 15100) && (temp[i] <= 24400)) {
 315:Src/LTC6811.c **** 			dummy[i] = (double) temp[i] / 10000; // convert from ADC value to voltage
 316:Src/LTC6811.c **** 			// convert from voltage to temperature
 317:Src/LTC6811.c **** 			conversion[i] = 37735 - 113923 * dummy[i] + 142663 * pow(dummy[i], 2) - 94465 * pow(dummy[i], 3)
 318:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 319:Src/LTC6811.c **** 			cellTemp[i] = (uint16_t) conversion[i];
 320:Src/LTC6811.c **** 			//cellTemp[i] = temp[i];
 321:Src/LTC6811.c **** 		}
 322:Src/LTC6811.c **** 	}
 323:Src/LTC6811.c **** 	
 324:Src/LTC6811.c **** 	free(temp);
 325:Src/LTC6811.c **** 	
 326:Src/LTC6811.c **** 	return (dataValid);
 327:Src/LTC6811.c **** 	
 328:Src/LTC6811.c **** };
 329:Src/LTC6811.c **** 
 330:Src/LTC6811.c **** bool readAllCellTemps(BMSconfigStructTypedef cfg, uint16_t cellTemp[12][4], bool dcFault[12][4], bo
 331:Src/LTC6811.c **** 	
 332:Src/LTC6811.c **** 	uint16_t boardTemp[cfg.numOfTempPerIC];
 333:Src/LTC6811.c **** 	bool boardDCFault[cfg.numOfTempPerIC];
 334:Src/LTC6811.c **** 	bool boardTempFault[cfg.numOfTempPerIC];
 335:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 336:Src/LTC6811.c **** 	bool dataValid = true;
 337:Src/LTC6811.c **** 	
 338:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 339:Src/LTC6811.c **** 		
 340:Src/LTC6811.c **** 		PEC_check[i] = readCellTemp(cfg.addressesofICs[i], boardTemp, boardDCFault, boardTempFault);
 341:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 4; j++) {
 342:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 343:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 344:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
 345:Src/LTC6811.c **** 		}
 346:Src/LTC6811.c **** 	}
 347:Src/LTC6811.c **** 	
 348:Src/LTC6811.c **** 	for (uint8_t k = 0; k < cfg.numOfICs; k++) {
 349:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 350:Src/LTC6811.c **** 			dataValid = false;
 351:Src/LTC6811.c **** 	}	
 352:Src/LTC6811.c **** 	
 353:Src/LTC6811.c **** 	return dataValid;
 354:Src/LTC6811.c **** }
 355:Src/LTC6811.c **** 
 356:Src/LTC6811.c **** bool readConfig(uint8_t address, uint8_t cfg[8]) {
 357:Src/LTC6811.c **** 	
 358:Src/LTC6811.c **** 	uint16_t *config;
 359:Src/LTC6811.c **** 	bool dataValid = false;
 360:Src/LTC6811.c **** 	
 361:Src/LTC6811.c **** 	config = (uint16_t *)malloc(4*sizeof(uint16_t));
 362:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 10


 363:Src/LTC6811.c **** 	dataValid = readRegister(ReadConfigurationRegisterGroup, address, config);
 364:Src/LTC6811.c **** 	
 365:Src/LTC6811.c **** 	cfg[0] = (uint8_t) ((config[0] >> 8) & 0xFF);
 366:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 367:Src/LTC6811.c **** 	cfg[2] = (uint8_t) ((config[1] >> 8) & 0xFF);
 368:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 369:Src/LTC6811.c **** 	cfg[4] = (uint8_t) ((config[2] >> 8) & 0xFF);
 370:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 371:Src/LTC6811.c **** 	cfg[6] = (uint8_t) ((config[3] >> 8) & 0xFF);
 372:Src/LTC6811.c **** 	cfg[7] = (uint8_t) (config[3] & 0xFF);
 373:Src/LTC6811.c **** 	
 374:Src/LTC6811.c **** 	return dataValid;
 375:Src/LTC6811.c **** }
 376:Src/LTC6811.c **** 
 377:Src/LTC6811.c **** bool checkCellConnection(uint16_t cellVoltage[12], bool cellConnection[12]) {
 378:Src/LTC6811.c **** 		
 379:Src/LTC6811.c **** 	uint16_t ADOWvoltage[12];
 380:Src/LTC6811.c **** 	bool disconnect = false;
 381:Src/LTC6811.c **** 	
 382:Src/LTC6811.c **** 	//add more if necessary
 383:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 384:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 385:Src/LTC6811.c **** 	
 386:Src/LTC6811.c **** 	HAL_Delay(15);
 387:Src/LTC6811.c **** 	
 388:Src/LTC6811.c **** 	readCellVoltage(0, ADOWvoltage);
 389:Src/LTC6811.c **** 	
 390:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 12; i++) {
 391:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 392:Src/LTC6811.c **** 		if ((cellVoltage[i] - ADOWvoltage[i]) > 500) {
 393:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 394:Src/LTC6811.c **** 			disconnect = true;
 395:Src/LTC6811.c **** 		}
 396:Src/LTC6811.c **** 		else {
 397:Src/LTC6811.c **** 			cellConnection[i] = 1;
 398:Src/LTC6811.c **** 		}
 399:Src/LTC6811.c **** 	}
 400:Src/LTC6811.c **** 	return disconnect;
 401:Src/LTC6811.c **** }
 402:Src/LTC6811.c **** 
 403:Src/LTC6811.c **** bool checkAllCellConnections(BMSconfigStructTypedef cfg, uint16_t cellVoltage[12][12], bool cellCon
 404:Src/LTC6811.c **** 	
 405:Src/LTC6811.c **** 	uint16_t voltageBuffer[12];
 406:Src/LTC6811.c **** 	bool connectionBuffer[12];
 407:Src/LTC6811.c **** 	bool individual_check;
 408:Src/LTC6811.c **** 	bool disconnect = false;
 409:Src/LTC6811.c **** 	
 410:Src/LTC6811.c **** 	for (uint8_t i = 0; i < cfg.numOfICs; i++) {
 411:Src/LTC6811.c **** 
 412:Src/LTC6811.c **** 		for (uint8_t k = 0; k < 12; k++)
 413:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 414:Src/LTC6811.c **** 
 415:Src/LTC6811.c **** 		individual_check = checkCellConnection(voltageBuffer, connectionBuffer);
 416:Src/LTC6811.c **** 		disconnect = disconnect | individual_check;
 417:Src/LTC6811.c **** 
 418:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 12; j++) {
 419:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 11


 420:Src/LTC6811.c **** 			if (connectionBuffer[j] == 0)
 421:Src/LTC6811.c **** 				dcCell = (i * 12) + j;
 422:Src/LTC6811.c **** 		}
 423:Src/LTC6811.c **** 	}
 424:Src/LTC6811.c **** }
 425:Src/LTC6811.c **** 
 426:Src/LTC6811.c **** bool dischargeCellGroups(BMSconfigStructTypedef config, bool cellDischarge[12][8]) {
 427:Src/LTC6811.c **** 	
 428:Src/LTC6811.c **** 	BMSconfigStructTypedef *cfg;
 429:Src/LTC6811.c **** 	cfg = &config;
 430:Src/LTC6811.c **** 	
 431:Src/LTC6811.c **** 	/*
 432:Src/LTC6811.c **** 	// i < config.numOfICs
 433:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 1; i++) {
 434:Src/LTC6811.c **** 		
 435:Src/LTC6811.c **** 		cfg->DischargeCell1 = cellDischarge[i][0];
 436:Src/LTC6811.c **** 		cfg->DischargeCell2 = cellDischarge[i][1];
 437:Src/LTC6811.c **** 		cfg->DischargeCell3 = cellDischarge[i][2];
 438:Src/LTC6811.c **** 		cfg->DischargeCell4 = cellDischarge[i][3];
 439:Src/LTC6811.c **** 		cfg->DischargeCell7 = cellDischarge[i][4];
 440:Src/LTC6811.c **** 		cfg->DischargeCell8 = cellDischarge[i][5];
 441:Src/LTC6811.c **** 		cfg->DischargeCell9 = cellDischarge[i][6];
 442:Src/LTC6811.c **** 		cfg->DischargeCell10 = cellDischarge[i][7];
 443:Src/LTC6811.c **** 
 444:Src/LTC6811.c **** 		//writeConfigAddress(config, config.addressesofICs[i]);
 445:Src/LTC6811.c **** 		writeConfigAddress(config, 0);
 446:Src/LTC6811.c **** 		
 447:Src/LTC6811.c **** 		cfg->DischargeCell1 = 0;
 448:Src/LTC6811.c **** 		cfg->DischargeCell2 = 0;
 449:Src/LTC6811.c **** 		cfg->DischargeCell3 = 0;
 450:Src/LTC6811.c **** 		cfg->DischargeCell4 = 0;
 451:Src/LTC6811.c **** 		cfg->DischargeCell7 = 0;
 452:Src/LTC6811.c **** 		cfg->DischargeCell8 = 0;
 453:Src/LTC6811.c **** 		cfg->DischargeCell9 = 0;
 454:Src/LTC6811.c **** 		cfg->DischargeCell10 = 0;
 455:Src/LTC6811.c **** 	}
 456:Src/LTC6811.c **** 	*/
 457:Src/LTC6811.c **** 
 458:Src/LTC6811.c **** 	cfg->DischargeCell1 = 1;
 459:Src/LTC6811.c **** 	cfg->DischargeCell2 = 1;
 460:Src/LTC6811.c **** 	cfg->DischargeCell3 = 1;
 461:Src/LTC6811.c **** 	cfg->DischargeCell4 = 1;
 462:Src/LTC6811.c **** 	cfg->DischargeCell7 = 1;
 463:Src/LTC6811.c **** 	cfg->DischargeCell8 = 1;
 464:Src/LTC6811.c **** 	cfg->DischargeCell9 = 1;
 465:Src/LTC6811.c **** 	cfg->DischargeCell10 = 1;
 466:Src/LTC6811.c **** 	writeConfigAddress(config, 0);
 467:Src/LTC6811.c **** 
 468:Src/LTC6811.c **** 
 469:Src/LTC6811.c **** 	return 0;
 470:Src/LTC6811.c **** 	
 471:Src/LTC6811.c **** }
 472:Src/LTC6811.c **** 
 473:Src/LTC6811.c **** /*bool dischargeCell(BMSconfigStructTypedef config, bool cellDischarge[8]) {
 474:Src/LTC6811.c **** 	
 475:Src/LTC6811.c **** 	BMSconfigStructTypedef *cfg;
 476:Src/LTC6811.c **** 	cfg = &config;
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 12


 477:Src/LTC6811.c **** 	
 478:Src/LTC6811.c **** 	cfg->DischargeCell1 = cellDischarge[0];
 479:Src/LTC6811.c **** 	cfg->DischargeCell2 = cellDischarge[1];
 480:Src/LTC6811.c **** 	cfg->DischargeCell3 = cellDischarge[2];
 481:Src/LTC6811.c **** 	cfg->DischargeCell4 = cellDischarge[3];
 482:Src/LTC6811.c **** 	cfg->DischargeCell7 = cellDischarge[4];
 483:Src/LTC6811.c **** 	cfg->DischargeCell8 = cellDischarge[5];
 484:Src/LTC6811.c **** 	cfg->DischargeCell9 = cellDischarge[6];
 485:Src/LTC6811.c **** 	cfg->DischargeCell10 = cellDischarge[7];
 486:Src/LTC6811.c **** 	
 487:Src/LTC6811.c **** 	writeConfig(config, 0, 1);
 488:Src/LTC6811.c **** 	
 489:Src/LTC6811.c **** 	return 0;
 490:Src/LTC6811.c **** 	
 491:Src/LTC6811.c **** }*/
 492:Src/LTC6811.c **** 
 493:Src/LTC6811.c **** bool readRegister(CommandCodeTypedef command, uint8_t address, uint16_t *data) {
 494:Src/LTC6811.c **** 	
 495:Src/LTC6811.c **** 	//send command and address in first two bytes
 496:Src/LTC6811.c **** 	//send PEC in next two bytes
 497:Src/LTC6811.c **** 	//SPI writeread
 498:Src/LTC6811.c **** 	//calculate PEC based off received data bytes
 499:Src/LTC6811.c **** 	//if received PEC matches calculated PEC, return true (data valid)
 500:Src/LTC6811.c **** 	
 501:Src/LTC6811.c **** 	uint8_t cmd[12];
 502:Src/LTC6811.c **** 	uint8_t rx_data[12];
 503:Src/LTC6811.c **** 	uint16_t PEC_return;
 504:Src/LTC6811.c **** 	uint8_t *PEC_send;
 505:Src/LTC6811.c **** 	bool dataValid = true;
 506:Src/LTC6811.c **** 
 507:Src/LTC6811.c **** 	PEC_send = (uint8_t *)malloc(6*sizeof(uint8_t));
 508:Src/LTC6811.c **** 	
 509:Src/LTC6811.c **** 	PEC_send[0] = (uint8_t) (0x80 | ((address << 3) & 0x78) | ((command >> 8) & 0x07));
 510:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 511:Src/LTC6811.c **** 
 512:Src/LTC6811.c **** 	cmd[0] = PEC_send[0];
 513:Src/LTC6811.c **** 	cmd[1] = PEC_send[1];
 514:Src/LTC6811.c **** 	
 515:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, PEC_send);
 516:Src/LTC6811.c **** 	
 517:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 518:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 519:Src/LTC6811.c **** 	
 520:Src/LTC6811.c **** 	cmd[4] = 0;
 521:Src/LTC6811.c **** 	cmd[5] = 0;
 522:Src/LTC6811.c **** 	cmd[6] = 0;
 523:Src/LTC6811.c **** 	cmd[7] = 0;
 524:Src/LTC6811.c **** 	cmd[8] = 0;
 525:Src/LTC6811.c **** 	cmd[9] = 0;
 526:Src/LTC6811.c **** 	cmd[10] = 0;
 527:Src/LTC6811.c **** 	cmd[11] = 0;
 528:Src/LTC6811.c **** 	
 529:Src/LTC6811.c **** 	SPIWriteRead(cmd, rx_data, sizeof(cmd)); // send 4 command bytes, receive 6 cell voltage bytes (4-
 530:Src/LTC6811.c **** 	
 531:Src/LTC6811.c **** 	// calculate PEC based on cell voltage data received
 532:Src/LTC6811.c **** 	PEC_send[0] = rx_data[4]; // cell 1 voltage low bytes
 533:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 13


 534:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 535:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 536:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 537:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 538:Src/LTC6811.c **** 	
 539:Src/LTC6811.c **** 	PEC_return = calculatePEC(6, PEC_send);
 540:Src/LTC6811.c **** 	
 541:Src/LTC6811.c **** 	// check if received PEC matches calculated PEC
 542:Src/LTC6811.c **** 	if (PEC_return != (((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF))) {
 543:Src/LTC6811.c **** 		dataValid = false;
 544:Src/LTC6811.c **** 	}
 545:Src/LTC6811.c **** 	
 546:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup1to3) {
 547:Src/LTC6811.c **** 		
 548:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 549:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 550:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 551:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 552:Src/LTC6811.c **** 		//data[4] = PEC_return;
 553:Src/LTC6811.c **** 	}
 554:Src/LTC6811.c **** 
 555:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup4to6) {
 556:Src/LTC6811.c **** 		
 557:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 558:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 559:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 560:Src/LTC6811.c **** 	}
 561:Src/LTC6811.c **** 	
 562:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup7to9) {
 563:Src/LTC6811.c **** 		
 564:Src/LTC6811.c **** 		data[6] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 565:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 566:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 567:Src/LTC6811.c **** 	}
 568:Src/LTC6811.c **** 	
 569:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup10to12) {
 570:Src/LTC6811.c **** 		
 571:Src/LTC6811.c **** 		data[9] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 572:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 573:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 574:Src/LTC6811.c **** 	}
 575:Src/LTC6811.c **** 	
 576:Src/LTC6811.c **** 	if (command == ReadAuxiliaryGroupA) {
 577:Src/LTC6811.c **** 		
 578:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 579:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 580:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 581:Src/LTC6811.c **** 	}
 582:Src/LTC6811.c **** 	
 583:Src/LTC6811.c **** 	if (command == ReadAuxiliaryGroupB) {
 584:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 585:Src/LTC6811.c **** 	}
 586:Src/LTC6811.c **** 	
 587:Src/LTC6811.c **** 	if (command == ReadConfigurationRegisterGroup) {
 588:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[4] << 8) & 0xFF00) | (rx_data[5] & 0x00FF);
 589:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 590:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 14


 591:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 592:Src/LTC6811.c **** 	}
 593:Src/LTC6811.c **** 	
 594:Src/LTC6811.c **** 	return(dataValid);
 595:Src/LTC6811.c **** 	
 596:Src/LTC6811.c **** };
 597:Src/LTC6811.c **** 
 598:Src/LTC6811.c **** void sendBroadcastCommand(CommandCodeTypedef command) {
 599:Src/LTC6811.c **** 	
 600:Src/LTC6811.c **** 	uint8_t cmd[4];
 601:Src/LTC6811.c **** 	uint16_t PEC_return;
 602:Src/LTC6811.c **** 	
 603:Src/LTC6811.c **** 	cmd[0] = (uint8_t) ((command >> 8) & 0x0F);
 604:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 605:Src/LTC6811.c **** 	
 606:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, (uint8_t *)&(cmd));
 607:Src/LTC6811.c **** 	
 608:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 609:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 610:Src/LTC6811.c **** 	
 611:Src/LTC6811.c **** 	SPIWrite(cmd, 4);
 612:Src/LTC6811.c **** };
 613:Src/LTC6811.c **** 
 614:Src/LTC6811.c **** void sendAddressCommand(CommandCodeTypedef command, uint8_t address) {
 615:Src/LTC6811.c **** 	
 616:Src/LTC6811.c **** 	uint8_t cmd[4];
 617:Src/LTC6811.c **** 	uint16_t PEC_return;
 618:Src/LTC6811.c **** 	uint8_t *msbytes;
 619:Src/LTC6811.c **** 	
 620:Src/LTC6811.c **** 	msbytes = (uint8_t *)malloc(2*sizeof(uint8_t));
 621:Src/LTC6811.c **** 	
 622:Src/LTC6811.c **** 	msbytes[0] = (uint8_t) (0x80 | ((address << 3) & 0x78) | ((command >> 8) & 0x07));
 623:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 624:Src/LTC6811.c **** 
 625:Src/LTC6811.c **** 	cmd[0] = msbytes[0];
 626:Src/LTC6811.c **** 	cmd[1] = msbytes[1];
 627:Src/LTC6811.c **** 	
 628:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, msbytes);
 629:Src/LTC6811.c **** 	
 630:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 631:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 632:Src/LTC6811.c **** 	
 633:Src/LTC6811.c **** 	SPIWrite(cmd, 4);
 634:Src/LTC6811.c **** 	
 635:Src/LTC6811.c **** 	free(msbytes);
 636:Src/LTC6811.c **** };
 637:Src/LTC6811.c **** 
 638:Src/LTC6811.c **** uint16_t calculatePEC(uint8_t len, uint8_t *data) {
 134              		.loc 1 638 51 is_stmt 1 view -0
 135              		.cfi_startproc
 136              		@ args = 0, pretend = 0, frame = 0
 137              		@ frame_needed = 0, uses_anonymous_args = 0
 138              		@ link register save eliminated.
 139              		.loc 1 638 51 is_stmt 0 view .LVU35
 140 0000 30B4     		push	{r4, r5}
 141              	.LCFI0:
 142              		.cfi_def_cfa_offset 8
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 15


 143              		.cfi_offset 4, -8
 144              		.cfi_offset 5, -4
 639:Src/LTC6811.c **** 	
 640:Src/LTC6811.c **** 	uint16_t remainder, address;
 145              		.loc 1 640 2 is_stmt 1 view .LVU36
 641:Src/LTC6811.c **** 	remainder = 16; //PEC seed
 146              		.loc 1 641 2 view .LVU37
 147              	.LVL13:
 642:Src/LTC6811.c **** 	
 643:Src/LTC6811.c **** 	for (int i = 0; i < len; i++) {
 148              		.loc 1 643 2 view .LVU38
 149              	.LBB5:
 150              		.loc 1 643 7 view .LVU39
 151              		.loc 1 643 11 is_stmt 0 view .LVU40
 152 0002 0024     		movs	r4, #0
 153              	.LBE5:
 641:Src/LTC6811.c **** 	remainder = 16; //PEC seed
 154              		.loc 1 641 12 view .LVU41
 155 0004 1022     		movs	r2, #16
 156              	.LVL14:
 157              	.L13:
 158              	.LBB6:
 159              		.loc 1 643 2 discriminator 1 view .LVU42
 160 0006 A042     		cmp	r0, r4
 161 0008 0BDD     		ble	.L16
 644:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 162              		.loc 1 644 3 is_stmt 1 discriminator 3 view .LVU43
 163              		.loc 1 644 37 is_stmt 0 discriminator 3 view .LVU44
 164 000a 0B5D     		ldrb	r3, [r1, r4]	@ zero_extendqisi2
 165              		.loc 1 644 31 discriminator 3 view .LVU45
 166 000c 83EAD213 		eor	r3, r3, r2, lsr #7
 167              		.loc 1 644 11 discriminator 3 view .LVU46
 168 0010 DBB2     		uxtb	r3, r3
 169              	.LVL15:
 645:Src/LTC6811.c **** 		remainder = (remainder << 8) ^ pec15Table[address];
 170              		.loc 1 645 3 is_stmt 1 discriminator 3 view .LVU47
 171              		.loc 1 645 44 is_stmt 0 discriminator 3 view .LVU48
 172 0012 064D     		ldr	r5, .L17
 173 0014 35F91330 		ldrsh	r3, [r5, r3, lsl #1]
 174              	.LVL16:
 175              		.loc 1 645 32 discriminator 3 view .LVU49
 176 0018 83EA0222 		eor	r2, r3, r2, lsl #8
 177              	.LVL17:
 178              		.loc 1 645 13 discriminator 3 view .LVU50
 179 001c 92B2     		uxth	r2, r2
 180              	.LVL18:
 643:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 181              		.loc 1 643 28 discriminator 3 view .LVU51
 182 001e 0134     		adds	r4, r4, #1
 183              	.LVL19:
 643:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 184              		.loc 1 643 28 discriminator 3 view .LVU52
 185 0020 F1E7     		b	.L13
 186              	.L16:
 643:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 187              		.loc 1 643 28 discriminator 3 view .LVU53
 188              	.LBE6:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 16


 646:Src/LTC6811.c **** 	}
 647:Src/LTC6811.c **** 	
 648:Src/LTC6811.c **** 	return (remainder * 2); //The CRC15 has a 0 in the LSB so the final value must be multiplied by 2
 189              		.loc 1 648 2 is_stmt 1 view .LVU54
 190              		.loc 1 648 20 is_stmt 0 view .LVU55
 191 0022 5000     		lsls	r0, r2, #1
 192              	.LVL20:
 193              		.loc 1 648 20 view .LVU56
 194 0024 80B2     		uxth	r0, r0
 649:Src/LTC6811.c **** };
 195              		.loc 1 649 1 view .LVU57
 196 0026 30BC     		pop	{r4, r5}
 197              	.LCFI1:
 198              		.cfi_restore 5
 199              		.cfi_restore 4
 200              		.cfi_def_cfa_offset 0
 201              	.LVL21:
 202              		.loc 1 649 1 view .LVU58
 203 0028 7047     		bx	lr
 204              	.L18:
 205 002a 00BF     		.align	2
 206              	.L17:
 207 002c 00000000 		.word	pec15Table
 208              		.cfi_endproc
 209              	.LFE80:
 211              		.section	.text.writeConfigAddress,"ax",%progbits
 212              		.align	1
 213              		.global	writeConfigAddress
 214              		.syntax unified
 215              		.thumb
 216              		.thumb_func
 217              		.fpu softvfp
 219              	writeConfigAddress:
 220              	.LVL22:
 221              	.LFB67:
 114:Src/LTC6811.c **** 
 222              		.loc 1 114 70 is_stmt 1 view -0
 223              		.cfi_startproc
 224              		@ args = 80, pretend = 16, frame = 0
 225              		@ frame_needed = 0, uses_anonymous_args = 0
 114:Src/LTC6811.c **** 
 226              		.loc 1 114 70 is_stmt 0 view .LVU60
 227 0000 84B0     		sub	sp, sp, #16
 228              	.LCFI2:
 229              		.cfi_def_cfa_offset 16
 230 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 231              	.LCFI3:
 232              		.cfi_def_cfa_offset 48
 233              		.cfi_offset 4, -48
 234              		.cfi_offset 5, -44
 235              		.cfi_offset 6, -40
 236              		.cfi_offset 7, -36
 237              		.cfi_offset 8, -32
 238              		.cfi_offset 9, -28
 239              		.cfi_offset 10, -24
 240              		.cfi_offset 14, -20
 241 0006 08AC     		add	r4, sp, #32
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 17


 242 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 116:Src/LTC6811.c **** 	uint8_t *cmd;
 243              		.loc 1 116 2 is_stmt 1 view .LVU61
 117:Src/LTC6811.c **** 	uint8_t cmd_len = 12;
 244              		.loc 1 117 2 view .LVU62
 118:Src/LTC6811.c **** 	uint16_t PEC_return;
 245              		.loc 1 118 2 view .LVU63
 246              	.LVL23:
 119:Src/LTC6811.c **** 	
 247              		.loc 1 119 2 view .LVU64
 121:Src/LTC6811.c **** 	
 248              		.loc 1 121 2 view .LVU65
 121:Src/LTC6811.c **** 	
 249              		.loc 1 121 19 is_stmt 0 view .LVU66
 250 000c 0C20     		movs	r0, #12
 251 000e FFF7FEFF 		bl	malloc
 252              	.LVL24:
 253 0012 0646     		mov	r6, r0
 254              	.LVL25:
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 255              		.loc 1 123 2 is_stmt 1 view .LVU67
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 256              		.loc 1 123 28 is_stmt 0 view .LVU68
 257 0014 9DF84E50 		ldrb	r5, [sp, #78]	@ zero_extendqisi2
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 258              		.loc 1 123 14 view .LVU69
 259 0018 ED01     		lsls	r5, r5, #7
 260 001a 6DB2     		sxtb	r5, r5
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 261              		.loc 1 123 58 view .LVU70
 262 001c 9DF84F30 		ldrb	r3, [sp, #79]	@ zero_extendqisi2
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 263              		.loc 1 123 52 view .LVU71
 264 0020 45EA8315 		orr	r5, r5, r3, lsl #6
 265 0024 6DB2     		sxtb	r5, r5
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 266              		.loc 1 123 88 view .LVU72
 267 0026 9DF85030 		ldrb	r3, [sp, #80]	@ zero_extendqisi2
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 268              		.loc 1 123 82 view .LVU73
 269 002a 45EA4315 		orr	r5, r5, r3, lsl #5
 270 002e 6DB2     		sxtb	r5, r5
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 271              		.loc 1 123 118 view .LVU74
 272 0030 9DF85130 		ldrb	r3, [sp, #81]	@ zero_extendqisi2
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 273              		.loc 1 123 112 view .LVU75
 274 0034 45EA0315 		orr	r5, r5, r3, lsl #4
 275 0038 6DB2     		sxtb	r5, r5
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 276              		.loc 1 123 148 view .LVU76
 277 003a 9DF85230 		ldrb	r3, [sp, #82]	@ zero_extendqisi2
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 278              		.loc 1 123 142 view .LVU77
 279 003e 45EAC305 		orr	r5, r5, r3, lsl #3
 280 0042 6DB2     		sxtb	r5, r5
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 18


 281              		.loc 1 123 178 view .LVU78
 282 0044 9DF85330 		ldrb	r3, [sp, #83]	@ zero_extendqisi2
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 283              		.loc 1 123 172 view .LVU79
 284 0048 45EA8305 		orr	r5, r5, r3, lsl #2
 285 004c 6DB2     		sxtb	r5, r5
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 286              		.loc 1 123 203 view .LVU80
 287 004e 9DF95430 		ldrsb	r3, [sp, #84]
 123:Src/LTC6811.c **** 	config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
 288              		.loc 1 123 197 view .LVU81
 289 0052 1D43     		orrs	r5, r5, r3
 290 0054 EDB2     		uxtb	r5, r5
 124:Src/LTC6811.c **** 	config[2] = (uint8_t) ((cfg.OvervoltageComparisonVoltage << 4) & 0xF0) | ((cfg.UndervoltageCompari
 291              		.loc 1 124 2 is_stmt 1 view .LVU82
 124:Src/LTC6811.c **** 	config[2] = (uint8_t) ((cfg.OvervoltageComparisonVoltage << 4) & 0xF0) | ((cfg.UndervoltageCompari
 292              		.loc 1 124 28 is_stmt 0 view .LVU83
 293 0056 BDF85630 		ldrh	r3, [sp, #86]
 124:Src/LTC6811.c **** 	config[2] = (uint8_t) ((cfg.OvervoltageComparisonVoltage << 4) & 0xF0) | ((cfg.UndervoltageCompari
 294              		.loc 1 124 14 view .LVU84
 295 005a 5FFA83F9 		uxtb	r9, r3
 125:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 296              		.loc 1 125 2 is_stmt 1 view .LVU85
 125:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 297              		.loc 1 125 29 is_stmt 0 view .LVU86
 298 005e BDF85880 		ldrh	r8, [sp, #88]
 125:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 299              		.loc 1 125 59 view .LVU87
 300 0062 4FEA0817 		lsl	r7, r8, #4
 125:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 301              		.loc 1 125 14 view .LVU88
 302 0066 7FB2     		sxtb	r7, r7
 125:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 303              		.loc 1 125 117 view .LVU89
 304 0068 C3F30323 		ubfx	r3, r3, #8, #4
 125:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 305              		.loc 1 125 73 view .LVU90
 306 006c 1F43     		orrs	r7, r7, r3
 307 006e FFB2     		uxtb	r7, r7
 126:Src/LTC6811.c **** 	config[4] = (uint8_t) (cfg.DischargeCell8 << 7) | (cfg.DischargeCell7 << 6) | (cfg.DischargeCell6 
 308              		.loc 1 126 2 is_stmt 1 view .LVU91
 126:Src/LTC6811.c **** 	config[4] = (uint8_t) (cfg.DischargeCell8 << 7) | (cfg.DischargeCell7 << 6) | (cfg.DischargeCell6 
 309              		.loc 1 126 14 is_stmt 0 view .LVU92
 310 0070 C8F30718 		ubfx	r8, r8, #4, #8
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 311              		.loc 1 127 2 is_stmt 1 view .LVU93
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 312              		.loc 1 127 28 is_stmt 0 view .LVU94
 313 0074 9DF86140 		ldrb	r4, [sp, #97]	@ zero_extendqisi2
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 314              		.loc 1 127 14 view .LVU95
 315 0078 E401     		lsls	r4, r4, #7
 316 007a 64B2     		sxtb	r4, r4
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 317              		.loc 1 127 56 view .LVU96
 318 007c 9DF86030 		ldrb	r3, [sp, #96]	@ zero_extendqisi2
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 19


 319              		.loc 1 127 50 view .LVU97
 320 0080 44EA8314 		orr	r4, r4, r3, lsl #6
 321 0084 64B2     		sxtb	r4, r4
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 322              		.loc 1 127 84 view .LVU98
 323 0086 9DF85F30 		ldrb	r3, [sp, #95]	@ zero_extendqisi2
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 324              		.loc 1 127 78 view .LVU99
 325 008a 44EA4314 		orr	r4, r4, r3, lsl #5
 326 008e 64B2     		sxtb	r4, r4
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 327              		.loc 1 127 112 view .LVU100
 328 0090 9DF85E30 		ldrb	r3, [sp, #94]	@ zero_extendqisi2
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 329              		.loc 1 127 106 view .LVU101
 330 0094 44EA0314 		orr	r4, r4, r3, lsl #4
 331 0098 64B2     		sxtb	r4, r4
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 332              		.loc 1 127 140 view .LVU102
 333 009a 9DF85D30 		ldrb	r3, [sp, #93]	@ zero_extendqisi2
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 334              		.loc 1 127 134 view .LVU103
 335 009e 44EAC304 		orr	r4, r4, r3, lsl #3
 336 00a2 64B2     		sxtb	r4, r4
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 337              		.loc 1 127 168 view .LVU104
 338 00a4 9DF85C30 		ldrb	r3, [sp, #92]	@ zero_extendqisi2
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 339              		.loc 1 127 162 view .LVU105
 340 00a8 44EA8304 		orr	r4, r4, r3, lsl #2
 341 00ac 64B2     		sxtb	r4, r4
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 342              		.loc 1 127 196 view .LVU106
 343 00ae 9DF85B30 		ldrb	r3, [sp, #91]	@ zero_extendqisi2
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 344              		.loc 1 127 190 view .LVU107
 345 00b2 44EA4304 		orr	r4, r4, r3, lsl #1
 346 00b6 64B2     		sxtb	r4, r4
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 347              		.loc 1 127 224 view .LVU108
 348 00b8 9DF95A30 		ldrsb	r3, [sp, #90]
 127:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 349              		.loc 1 127 218 view .LVU109
 350 00bc 1C43     		orrs	r4, r4, r3
 351 00be E4B2     		uxtb	r4, r4
 128:Src/LTC6811.c **** 	
 352              		.loc 1 128 2 is_stmt 1 view .LVU110
 128:Src/LTC6811.c **** 	
 353              		.loc 1 128 29 is_stmt 0 view .LVU111
 354 00c0 9DF866A0 		ldrb	r10, [sp, #102]	@ zero_extendqisi2
 128:Src/LTC6811.c **** 	
 355              		.loc 1 128 52 view .LVU112
 356 00c4 4FEA0A1A 		lsl	r10, r10, #4
 128:Src/LTC6811.c **** 	
 357              		.loc 1 128 14 view .LVU113
 358 00c8 4FFA8AFA 		sxtb	r10, r10
 128:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 20


 359              		.loc 1 128 72 view .LVU114
 360 00cc 9DF86530 		ldrb	r3, [sp, #101]	@ zero_extendqisi2
 128:Src/LTC6811.c **** 	
 361              		.loc 1 128 66 view .LVU115
 362 00d0 4AEAC30A 		orr	r10, r10, r3, lsl #3
 363 00d4 4FFA8AFA 		sxtb	r10, r10
 128:Src/LTC6811.c **** 	
 364              		.loc 1 128 101 view .LVU116
 365 00d8 9DF86430 		ldrb	r3, [sp, #100]	@ zero_extendqisi2
 128:Src/LTC6811.c **** 	
 366              		.loc 1 128 95 view .LVU117
 367 00dc 4AEA830A 		orr	r10, r10, r3, lsl #2
 368 00e0 4FFA8AFA 		sxtb	r10, r10
 128:Src/LTC6811.c **** 	
 369              		.loc 1 128 130 view .LVU118
 370 00e4 9DF86330 		ldrb	r3, [sp, #99]	@ zero_extendqisi2
 128:Src/LTC6811.c **** 	
 371              		.loc 1 128 124 view .LVU119
 372 00e8 4AEA430A 		orr	r10, r10, r3, lsl #1
 373 00ec 4FFA8AFA 		sxtb	r10, r10
 128:Src/LTC6811.c **** 	
 374              		.loc 1 128 159 view .LVU120
 375 00f0 9DF96230 		ldrsb	r3, [sp, #98]
 128:Src/LTC6811.c **** 	
 376              		.loc 1 128 153 view .LVU121
 377 00f4 4AEA030A 		orr	r10, r10, r3
 378 00f8 5FFA8AFA 		uxtb	r10, r10
 130:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 379              		.loc 1 130 2 is_stmt 1 view .LVU122
 130:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 380              		.loc 1 130 39 is_stmt 0 view .LVU123
 381 00fc 9DF86C30 		ldrb	r3, [sp, #108]	@ zero_extendqisi2
 382 0100 DB00     		lsls	r3, r3, #3
 130:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 383              		.loc 1 130 45 view .LVU124
 384 0102 03F07803 		and	r3, r3, #120
 130:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 385              		.loc 1 130 11 view .LVU125
 386 0106 43F08003 		orr	r3, r3, #128
 130:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 387              		.loc 1 130 9 view .LVU126
 388 010a 0370     		strb	r3, [r0]
 131:Src/LTC6811.c **** 	
 389              		.loc 1 131 2 is_stmt 1 view .LVU127
 131:Src/LTC6811.c **** 	
 390              		.loc 1 131 9 is_stmt 0 view .LVU128
 391 010c 0123     		movs	r3, #1
 392 010e 4370     		strb	r3, [r0, #1]
 133:Src/LTC6811.c **** 	
 393              		.loc 1 133 2 is_stmt 1 view .LVU129
 133:Src/LTC6811.c **** 	
 394              		.loc 1 133 15 is_stmt 0 view .LVU130
 395 0110 0146     		mov	r1, r0
 396 0112 0220     		movs	r0, #2
 397              	.LVL26:
 133:Src/LTC6811.c **** 	
 398              		.loc 1 133 15 view .LVU131
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 21


 399 0114 FFF7FEFF 		bl	calculatePEC
 400              	.LVL27:
 135:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 401              		.loc 1 135 2 is_stmt 1 view .LVU132
 135:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 402              		.loc 1 135 9 is_stmt 0 view .LVU133
 403 0118 030A     		lsrs	r3, r0, #8
 404 011a B370     		strb	r3, [r6, #2]
 136:Src/LTC6811.c **** 
 405              		.loc 1 136 2 is_stmt 1 view .LVU134
 136:Src/LTC6811.c **** 
 406              		.loc 1 136 9 is_stmt 0 view .LVU135
 407 011c F070     		strb	r0, [r6, #3]
 138:Src/LTC6811.c **** 	cmd[5] = config[1];
 408              		.loc 1 138 2 is_stmt 1 view .LVU136
 138:Src/LTC6811.c **** 	cmd[5] = config[1];
 409              		.loc 1 138 9 is_stmt 0 view .LVU137
 410 011e 3571     		strb	r5, [r6, #4]
 139:Src/LTC6811.c **** 	cmd[6] = config[2];
 411              		.loc 1 139 2 is_stmt 1 view .LVU138
 139:Src/LTC6811.c **** 	cmd[6] = config[2];
 412              		.loc 1 139 9 is_stmt 0 view .LVU139
 413 0120 86F80590 		strb	r9, [r6, #5]
 140:Src/LTC6811.c **** 	cmd[7] = config[3];
 414              		.loc 1 140 2 is_stmt 1 view .LVU140
 140:Src/LTC6811.c **** 	cmd[7] = config[3];
 415              		.loc 1 140 9 is_stmt 0 view .LVU141
 416 0124 B771     		strb	r7, [r6, #6]
 141:Src/LTC6811.c **** 	cmd[8] = config[4];
 417              		.loc 1 141 2 is_stmt 1 view .LVU142
 141:Src/LTC6811.c **** 	cmd[8] = config[4];
 418              		.loc 1 141 9 is_stmt 0 view .LVU143
 419 0126 86F80780 		strb	r8, [r6, #7]
 142:Src/LTC6811.c **** 	cmd[9] = config[5];
 420              		.loc 1 142 2 is_stmt 1 view .LVU144
 142:Src/LTC6811.c **** 	cmd[9] = config[5];
 421              		.loc 1 142 9 is_stmt 0 view .LVU145
 422 012a 3472     		strb	r4, [r6, #8]
 143:Src/LTC6811.c **** 	
 423              		.loc 1 143 2 is_stmt 1 view .LVU146
 143:Src/LTC6811.c **** 	
 424              		.loc 1 143 9 is_stmt 0 view .LVU147
 425 012c 86F809A0 		strb	r10, [r6, #9]
 145:Src/LTC6811.c **** 
 426              		.loc 1 145 2 is_stmt 1 view .LVU148
 145:Src/LTC6811.c **** 
 427              		.loc 1 145 15 is_stmt 0 view .LVU149
 428 0130 311D     		adds	r1, r6, #4
 429 0132 0620     		movs	r0, #6
 430              	.LVL28:
 145:Src/LTC6811.c **** 
 431              		.loc 1 145 15 view .LVU150
 432 0134 FFF7FEFF 		bl	calculatePEC
 433              	.LVL29:
 147:Src/LTC6811.c **** 	cmd[11] = PEC_return & 0xFF;
 434              		.loc 1 147 2 is_stmt 1 view .LVU151
 147:Src/LTC6811.c **** 	cmd[11] = PEC_return & 0xFF;
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 22


 435              		.loc 1 147 10 is_stmt 0 view .LVU152
 436 0138 030A     		lsrs	r3, r0, #8
 437 013a B372     		strb	r3, [r6, #10]
 148:Src/LTC6811.c **** 	
 438              		.loc 1 148 2 is_stmt 1 view .LVU153
 148:Src/LTC6811.c **** 	
 439              		.loc 1 148 10 is_stmt 0 view .LVU154
 440 013c F072     		strb	r0, [r6, #11]
 150:Src/LTC6811.c **** 	
 441              		.loc 1 150 2 is_stmt 1 view .LVU155
 442 013e 0C21     		movs	r1, #12
 443 0140 3046     		mov	r0, r6
 444              	.LVL30:
 150:Src/LTC6811.c **** 	
 445              		.loc 1 150 2 is_stmt 0 view .LVU156
 446 0142 FFF7FEFF 		bl	SPIWrite
 447              	.LVL31:
 152:Src/LTC6811.c **** 
 448              		.loc 1 152 2 is_stmt 1 view .LVU157
 449 0146 3046     		mov	r0, r6
 450 0148 FFF7FEFF 		bl	free
 451              	.LVL32:
 154:Src/LTC6811.c **** 
 452              		.loc 1 154 1 is_stmt 0 view .LVU158
 453 014c BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 454              	.LCFI4:
 455              		.cfi_restore 14
 456              		.cfi_restore 10
 457              		.cfi_restore 9
 458              		.cfi_restore 8
 459              		.cfi_restore 7
 460              		.cfi_restore 6
 461              		.cfi_restore 5
 462              		.cfi_restore 4
 463              		.cfi_def_cfa_offset 16
 464              	.LVL33:
 154:Src/LTC6811.c **** 
 465              		.loc 1 154 1 view .LVU159
 466 0150 04B0     		add	sp, sp, #16
 467              	.LCFI5:
 468              		.cfi_def_cfa_offset 0
 469 0152 7047     		bx	lr
 470              		.cfi_endproc
 471              	.LFE67:
 473              		.section	.text.dischargeCellGroups,"ax",%progbits
 474              		.align	1
 475              		.global	dischargeCellGroups
 476              		.syntax unified
 477              		.thumb
 478              		.thumb_func
 479              		.fpu softvfp
 481              	dischargeCellGroups:
 482              	.LVL34:
 483              	.LFB76:
 426:Src/LTC6811.c **** 	
 484              		.loc 1 426 84 is_stmt 1 view -0
 485              		.cfi_startproc
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 23


 486              		@ args = 80, pretend = 16, frame = 0
 487              		@ frame_needed = 0, uses_anonymous_args = 0
 426:Src/LTC6811.c **** 	
 488              		.loc 1 426 84 is_stmt 0 view .LVU161
 489 0000 84B0     		sub	sp, sp, #16
 490              	.LCFI6:
 491              		.cfi_def_cfa_offset 16
 492 0002 70B5     		push	{r4, r5, r6, lr}
 493              	.LCFI7:
 494              		.cfi_def_cfa_offset 32
 495              		.cfi_offset 4, -32
 496              		.cfi_offset 5, -28
 497              		.cfi_offset 6, -24
 498              		.cfi_offset 14, -20
 499 0004 90B0     		sub	sp, sp, #64
 500              	.LCFI8:
 501              		.cfi_def_cfa_offset 96
 502 0006 14AC     		add	r4, sp, #80
 503 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 428:Src/LTC6811.c **** 	cfg = &config;
 504              		.loc 1 428 2 is_stmt 1 view .LVU162
 429:Src/LTC6811.c **** 	
 505              		.loc 1 429 2 view .LVU163
 506              	.LVL35:
 458:Src/LTC6811.c **** 	cfg->DischargeCell2 = 1;
 507              		.loc 1 458 2 view .LVU164
 458:Src/LTC6811.c **** 	cfg->DischargeCell2 = 1;
 508              		.loc 1 458 22 is_stmt 0 view .LVU165
 509 000c 0123     		movs	r3, #1
 510 000e 8DF88A30 		strb	r3, [sp, #138]
 459:Src/LTC6811.c **** 	cfg->DischargeCell3 = 1;
 511              		.loc 1 459 2 is_stmt 1 view .LVU166
 459:Src/LTC6811.c **** 	cfg->DischargeCell3 = 1;
 512              		.loc 1 459 22 is_stmt 0 view .LVU167
 513 0012 8DF88B30 		strb	r3, [sp, #139]
 460:Src/LTC6811.c **** 	cfg->DischargeCell4 = 1;
 514              		.loc 1 460 2 is_stmt 1 view .LVU168
 460:Src/LTC6811.c **** 	cfg->DischargeCell4 = 1;
 515              		.loc 1 460 22 is_stmt 0 view .LVU169
 516 0016 8DF88C30 		strb	r3, [sp, #140]
 461:Src/LTC6811.c **** 	cfg->DischargeCell7 = 1;
 517              		.loc 1 461 2 is_stmt 1 view .LVU170
 461:Src/LTC6811.c **** 	cfg->DischargeCell7 = 1;
 518              		.loc 1 461 22 is_stmt 0 view .LVU171
 519 001a 8DF88D30 		strb	r3, [sp, #141]
 462:Src/LTC6811.c **** 	cfg->DischargeCell8 = 1;
 520              		.loc 1 462 2 is_stmt 1 view .LVU172
 462:Src/LTC6811.c **** 	cfg->DischargeCell8 = 1;
 521              		.loc 1 462 22 is_stmt 0 view .LVU173
 522 001e 8DF89030 		strb	r3, [sp, #144]
 463:Src/LTC6811.c **** 	cfg->DischargeCell9 = 1;
 523              		.loc 1 463 2 is_stmt 1 view .LVU174
 463:Src/LTC6811.c **** 	cfg->DischargeCell9 = 1;
 524              		.loc 1 463 22 is_stmt 0 view .LVU175
 525 0022 8DF89130 		strb	r3, [sp, #145]
 464:Src/LTC6811.c **** 	cfg->DischargeCell10 = 1;
 526              		.loc 1 464 2 is_stmt 1 view .LVU176
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 24


 464:Src/LTC6811.c **** 	cfg->DischargeCell10 = 1;
 527              		.loc 1 464 22 is_stmt 0 view .LVU177
 528 0026 8DF89230 		strb	r3, [sp, #146]
 465:Src/LTC6811.c **** 	writeConfigAddress(config, 0);
 529              		.loc 1 465 2 is_stmt 1 view .LVU178
 465:Src/LTC6811.c **** 	writeConfigAddress(config, 0);
 530              		.loc 1 465 23 is_stmt 0 view .LVU179
 531 002a 8DF89330 		strb	r3, [sp, #147]
 466:Src/LTC6811.c **** 
 532              		.loc 1 466 2 is_stmt 1 view .LVU180
 533 002e 0026     		movs	r6, #0
 534 0030 0F96     		str	r6, [sp, #60]
 535 0032 6C46     		mov	r4, sp
 536              	.LVL36:
 466:Src/LTC6811.c **** 
 537              		.loc 1 466 2 is_stmt 0 view .LVU181
 538 0034 18AD     		add	r5, sp, #96
 539 0036 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 540 0038 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 541 003a 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 542 003c 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 543 003e 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 544 0040 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 545 0042 95E80700 		ldm	r5, {r0, r1, r2}
 546 0046 03C4     		stmia	r4!, {r0, r1}
 547 0048 2280     		strh	r2, [r4]	@ movhi
 548 004a 14AB     		add	r3, sp, #80
 549              	.LVL37:
 466:Src/LTC6811.c **** 
 550              		.loc 1 466 2 view .LVU182
 551 004c 0FCB     		ldm	r3, {r0, r1, r2, r3}
 552              	.LVL38:
 466:Src/LTC6811.c **** 
 553              		.loc 1 466 2 view .LVU183
 554 004e FFF7FEFF 		bl	writeConfigAddress
 555              	.LVL39:
 469:Src/LTC6811.c **** 	
 556              		.loc 1 469 2 is_stmt 1 view .LVU184
 471:Src/LTC6811.c **** 
 557              		.loc 1 471 1 is_stmt 0 view .LVU185
 558 0052 3046     		mov	r0, r6
 559 0054 10B0     		add	sp, sp, #64
 560              	.LCFI9:
 561              		.cfi_def_cfa_offset 32
 562              		@ sp needed
 563 0056 BDE87040 		pop	{r4, r5, r6, lr}
 564              	.LCFI10:
 565              		.cfi_restore 14
 566              		.cfi_restore 6
 567              		.cfi_restore 5
 568              		.cfi_restore 4
 569              		.cfi_def_cfa_offset 16
 570              	.LVL40:
 471:Src/LTC6811.c **** 
 571              		.loc 1 471 1 view .LVU186
 572 005a 04B0     		add	sp, sp, #16
 573              	.LCFI11:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 25


 574              		.cfi_def_cfa_offset 0
 575              	.LVL41:
 471:Src/LTC6811.c **** 
 576              		.loc 1 471 1 view .LVU187
 577 005c 7047     		bx	lr
 578              		.cfi_endproc
 579              	.LFE76:
 581              		.section	.text.writeConfigAll,"ax",%progbits
 582              		.align	1
 583              		.global	writeConfigAll
 584              		.syntax unified
 585              		.thumb
 586              		.thumb_func
 587              		.fpu softvfp
 589              	writeConfigAll:
 590              	.LFB68:
 156:Src/LTC6811.c **** 	
 591              		.loc 1 156 49 is_stmt 1 view -0
 592              		.cfi_startproc
 593              		@ args = 76, pretend = 16, frame = 0
 594              		@ frame_needed = 0, uses_anonymous_args = 0
 595 0000 84B0     		sub	sp, sp, #16
 596              	.LCFI12:
 597              		.cfi_def_cfa_offset 16
 598 0002 38B5     		push	{r3, r4, r5, lr}
 599              	.LCFI13:
 600              		.cfi_def_cfa_offset 32
 601              		.cfi_offset 3, -32
 602              		.cfi_offset 4, -28
 603              		.cfi_offset 5, -24
 604              		.cfi_offset 14, -20
 605 0004 04AC     		add	r4, sp, #16
 606 0006 84E80F00 		stm	r4, {r0, r1, r2, r3}
 158:Src/LTC6811.c **** 	uint8_t *cmd;
 607              		.loc 1 158 2 view .LVU189
 159:Src/LTC6811.c **** 	uint8_t cmd_len = 12;
 608              		.loc 1 159 2 view .LVU190
 160:Src/LTC6811.c **** 	uint16_t PEC_return;
 609              		.loc 1 160 2 view .LVU191
 610              	.LVL42:
 161:Src/LTC6811.c **** 	
 611              		.loc 1 161 2 view .LVU192
 163:Src/LTC6811.c **** 	/*
 612              		.loc 1 163 2 view .LVU193
 163:Src/LTC6811.c **** 	/*
 613              		.loc 1 163 19 is_stmt 0 view .LVU194
 614 000a 0C20     		movs	r0, #12
 615 000c FFF7FEFF 		bl	malloc
 616              	.LVL43:
 617 0010 0446     		mov	r4, r0
 618              	.LVL44:
 172:Src/LTC6811.c **** 	config[1] = 0;
 619              		.loc 1 172 2 is_stmt 1 view .LVU195
 173:Src/LTC6811.c **** 	config[2] = 0;
 620              		.loc 1 173 2 view .LVU196
 174:Src/LTC6811.c **** 	config[3] = 0;
 621              		.loc 1 174 2 view .LVU197
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 26


 175:Src/LTC6811.c **** 	config[4] = 0;
 622              		.loc 1 175 2 view .LVU198
 176:Src/LTC6811.c **** 	config[5] = 0;
 623              		.loc 1 176 2 view .LVU199
 177:Src/LTC6811.c **** 
 624              		.loc 1 177 2 view .LVU200
 179:Src/LTC6811.c **** 	
 625              		.loc 1 179 2 view .LVU201
 626              	.LBB7:
 179:Src/LTC6811.c **** 	
 627              		.loc 1 179 7 view .LVU202
 179:Src/LTC6811.c **** 	
 628              		.loc 1 179 15 is_stmt 0 view .LVU203
 629 0012 0025     		movs	r5, #0
 630              	.LVL45:
 631              	.L24:
 179:Src/LTC6811.c **** 	
 632              		.loc 1 179 29 discriminator 1 view .LVU204
 633 0014 9DF81030 		ldrb	r3, [sp, #16]	@ zero_extendqisi2
 179:Src/LTC6811.c **** 	
 634              		.loc 1 179 2 discriminator 1 view .LVU205
 635 0018 AB42     		cmp	r3, r5
 636 001a 26D9     		bls	.L27
 181:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 637              		.loc 1 181 3 is_stmt 1 discriminator 3 view .LVU206
 181:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 638              		.loc 1 181 50 is_stmt 0 discriminator 3 view .LVU207
 639 001c 04AB     		add	r3, sp, #16
 640 001e 2B44     		add	r3, r3, r5
 641 0020 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 181:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 642              		.loc 1 181 54 discriminator 3 view .LVU208
 643 0022 DB00     		lsls	r3, r3, #3
 181:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 644              		.loc 1 181 60 discriminator 3 view .LVU209
 645 0024 03F07803 		and	r3, r3, #120
 181:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 646              		.loc 1 181 12 discriminator 3 view .LVU210
 647 0028 43F08003 		orr	r3, r3, #128
 181:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 648              		.loc 1 181 10 discriminator 3 view .LVU211
 649 002c 2370     		strb	r3, [r4]
 182:Src/LTC6811.c **** 		
 650              		.loc 1 182 3 is_stmt 1 discriminator 3 view .LVU212
 182:Src/LTC6811.c **** 		
 651              		.loc 1 182 10 is_stmt 0 discriminator 3 view .LVU213
 652 002e 0123     		movs	r3, #1
 653 0030 6370     		strb	r3, [r4, #1]
 184:Src/LTC6811.c **** 		
 654              		.loc 1 184 3 is_stmt 1 discriminator 3 view .LVU214
 184:Src/LTC6811.c **** 		
 655              		.loc 1 184 16 is_stmt 0 discriminator 3 view .LVU215
 656 0032 2146     		mov	r1, r4
 657 0034 0220     		movs	r0, #2
 658 0036 FFF7FEFF 		bl	calculatePEC
 659              	.LVL46:
 186:Src/LTC6811.c **** 		cmd[3] = PEC_return & 0xFF;
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 27


 660              		.loc 1 186 3 is_stmt 1 discriminator 3 view .LVU216
 186:Src/LTC6811.c **** 		cmd[3] = PEC_return & 0xFF;
 661              		.loc 1 186 10 is_stmt 0 discriminator 3 view .LVU217
 662 003a 030A     		lsrs	r3, r0, #8
 663 003c A370     		strb	r3, [r4, #2]
 187:Src/LTC6811.c **** 	
 664              		.loc 1 187 3 is_stmt 1 discriminator 3 view .LVU218
 187:Src/LTC6811.c **** 	
 665              		.loc 1 187 10 is_stmt 0 discriminator 3 view .LVU219
 666 003e E070     		strb	r0, [r4, #3]
 189:Src/LTC6811.c **** 		cmd[5] = config[1];
 667              		.loc 1 189 3 is_stmt 1 discriminator 3 view .LVU220
 189:Src/LTC6811.c **** 		cmd[5] = config[1];
 668              		.loc 1 189 10 is_stmt 0 discriminator 3 view .LVU221
 669 0040 0023     		movs	r3, #0
 670 0042 2371     		strb	r3, [r4, #4]
 190:Src/LTC6811.c **** 		cmd[6] = config[2];
 671              		.loc 1 190 3 is_stmt 1 discriminator 3 view .LVU222
 190:Src/LTC6811.c **** 		cmd[6] = config[2];
 672              		.loc 1 190 10 is_stmt 0 discriminator 3 view .LVU223
 673 0044 6371     		strb	r3, [r4, #5]
 191:Src/LTC6811.c **** 		cmd[7] = config[3];
 674              		.loc 1 191 3 is_stmt 1 discriminator 3 view .LVU224
 191:Src/LTC6811.c **** 		cmd[7] = config[3];
 675              		.loc 1 191 10 is_stmt 0 discriminator 3 view .LVU225
 676 0046 A371     		strb	r3, [r4, #6]
 192:Src/LTC6811.c **** 		cmd[8] = config[4];
 677              		.loc 1 192 3 is_stmt 1 discriminator 3 view .LVU226
 192:Src/LTC6811.c **** 		cmd[8] = config[4];
 678              		.loc 1 192 10 is_stmt 0 discriminator 3 view .LVU227
 679 0048 E371     		strb	r3, [r4, #7]
 193:Src/LTC6811.c **** 		cmd[9] = config[5];
 680              		.loc 1 193 3 is_stmt 1 discriminator 3 view .LVU228
 193:Src/LTC6811.c **** 		cmd[9] = config[5];
 681              		.loc 1 193 10 is_stmt 0 discriminator 3 view .LVU229
 682 004a 2372     		strb	r3, [r4, #8]
 194:Src/LTC6811.c **** 		
 683              		.loc 1 194 3 is_stmt 1 discriminator 3 view .LVU230
 194:Src/LTC6811.c **** 		
 684              		.loc 1 194 10 is_stmt 0 discriminator 3 view .LVU231
 685 004c 6372     		strb	r3, [r4, #9]
 196:Src/LTC6811.c **** 	
 686              		.loc 1 196 3 is_stmt 1 discriminator 3 view .LVU232
 196:Src/LTC6811.c **** 	
 687              		.loc 1 196 16 is_stmt 0 discriminator 3 view .LVU233
 688 004e 211D     		adds	r1, r4, #4
 689 0050 0620     		movs	r0, #6
 690              	.LVL47:
 196:Src/LTC6811.c **** 	
 691              		.loc 1 196 16 discriminator 3 view .LVU234
 692 0052 FFF7FEFF 		bl	calculatePEC
 693              	.LVL48:
 198:Src/LTC6811.c **** 		cmd[11] = PEC_return & 0xFF;
 694              		.loc 1 198 3 is_stmt 1 discriminator 3 view .LVU235
 198:Src/LTC6811.c **** 		cmd[11] = PEC_return & 0xFF;
 695              		.loc 1 198 11 is_stmt 0 discriminator 3 view .LVU236
 696 0056 030A     		lsrs	r3, r0, #8
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 28


 697 0058 A372     		strb	r3, [r4, #10]
 199:Src/LTC6811.c **** 		
 698              		.loc 1 199 3 is_stmt 1 discriminator 3 view .LVU237
 199:Src/LTC6811.c **** 		
 699              		.loc 1 199 11 is_stmt 0 discriminator 3 view .LVU238
 700 005a E072     		strb	r0, [r4, #11]
 201:Src/LTC6811.c **** 	}
 701              		.loc 1 201 3 is_stmt 1 discriminator 3 view .LVU239
 702 005c 0C21     		movs	r1, #12
 703 005e 2046     		mov	r0, r4
 704              	.LVL49:
 201:Src/LTC6811.c **** 	}
 705              		.loc 1 201 3 is_stmt 0 discriminator 3 view .LVU240
 706 0060 FFF7FEFF 		bl	SPIWrite
 707              	.LVL50:
 179:Src/LTC6811.c **** 	
 708              		.loc 1 179 41 discriminator 3 view .LVU241
 709 0064 0135     		adds	r5, r5, #1
 710              	.LVL51:
 179:Src/LTC6811.c **** 	
 711              		.loc 1 179 41 discriminator 3 view .LVU242
 712 0066 EDB2     		uxtb	r5, r5
 713              	.LVL52:
 179:Src/LTC6811.c **** 	
 714              		.loc 1 179 41 discriminator 3 view .LVU243
 715 0068 D4E7     		b	.L24
 716              	.L27:
 179:Src/LTC6811.c **** 	
 717              		.loc 1 179 41 discriminator 3 view .LVU244
 718              	.LBE7:
 204:Src/LTC6811.c **** 	
 719              		.loc 1 204 2 is_stmt 1 view .LVU245
 720 006a 2046     		mov	r0, r4
 721 006c FFF7FEFF 		bl	free
 722              	.LVL53:
 206:Src/LTC6811.c **** 
 723              		.loc 1 206 1 is_stmt 0 view .LVU246
 724 0070 BDE83840 		pop	{r3, r4, r5, lr}
 725              	.LCFI14:
 726              		.cfi_restore 14
 727              		.cfi_restore 5
 728              		.cfi_restore 4
 729              		.cfi_restore 3
 730              		.cfi_def_cfa_offset 16
 731              	.LVL54:
 206:Src/LTC6811.c **** 
 732              		.loc 1 206 1 view .LVU247
 733 0074 04B0     		add	sp, sp, #16
 734              	.LCFI15:
 735              		.cfi_def_cfa_offset 0
 736 0076 7047     		bx	lr
 737              		.cfi_endproc
 738              	.LFE68:
 740              		.section	.text.readRegister,"ax",%progbits
 741              		.align	1
 742              		.global	readRegister
 743              		.syntax unified
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 29


 744              		.thumb
 745              		.thumb_func
 746              		.fpu softvfp
 748              	readRegister:
 749              	.LVL55:
 750              	.LFB77:
 493:Src/LTC6811.c **** 	
 751              		.loc 1 493 80 is_stmt 1 view -0
 752              		.cfi_startproc
 753              		@ args = 0, pretend = 0, frame = 24
 754              		@ frame_needed = 0, uses_anonymous_args = 0
 493:Src/LTC6811.c **** 	
 755              		.loc 1 493 80 is_stmt 0 view .LVU249
 756 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 757              	.LCFI16:
 758              		.cfi_def_cfa_offset 20
 759              		.cfi_offset 4, -20
 760              		.cfi_offset 5, -16
 761              		.cfi_offset 6, -12
 762              		.cfi_offset 7, -8
 763              		.cfi_offset 14, -4
 764 0002 87B0     		sub	sp, sp, #28
 765              	.LCFI17:
 766              		.cfi_def_cfa_offset 48
 767 0004 0646     		mov	r6, r0
 768 0006 0C46     		mov	r4, r1
 769 0008 1746     		mov	r7, r2
 501:Src/LTC6811.c **** 	uint8_t rx_data[12];
 770              		.loc 1 501 2 is_stmt 1 view .LVU250
 502:Src/LTC6811.c **** 	uint16_t PEC_return;
 771              		.loc 1 502 2 view .LVU251
 503:Src/LTC6811.c **** 	uint8_t *PEC_send;
 772              		.loc 1 503 2 view .LVU252
 504:Src/LTC6811.c **** 	bool dataValid = true;
 773              		.loc 1 504 2 view .LVU253
 505:Src/LTC6811.c **** 
 774              		.loc 1 505 2 view .LVU254
 775              	.LVL56:
 507:Src/LTC6811.c **** 	
 776              		.loc 1 507 2 view .LVU255
 507:Src/LTC6811.c **** 	
 777              		.loc 1 507 24 is_stmt 0 view .LVU256
 778 000a 0620     		movs	r0, #6
 779              	.LVL57:
 507:Src/LTC6811.c **** 	
 780              		.loc 1 507 24 view .LVU257
 781 000c FFF7FEFF 		bl	malloc
 782              	.LVL58:
 507:Src/LTC6811.c **** 	
 783              		.loc 1 507 24 view .LVU258
 784 0010 0546     		mov	r5, r0
 785              	.LVL59:
 509:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 786              		.loc 1 509 2 is_stmt 1 view .LVU259
 509:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 787              		.loc 1 509 44 is_stmt 0 view .LVU260
 788 0012 E300     		lsls	r3, r4, #3
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 30


 509:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 789              		.loc 1 509 50 view .LVU261
 790 0014 03F07803 		and	r3, r3, #120
 509:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 791              		.loc 1 509 32 view .LVU262
 792 0018 63F07F03 		orn	r3, r3, #127
 509:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 793              		.loc 1 509 76 view .LVU263
 794 001c C6F30224 		ubfx	r4, r6, #8, #3
 509:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 795              		.loc 1 509 58 view .LVU264
 796 0020 2343     		orrs	r3, r3, r4
 509:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 797              		.loc 1 509 16 view .LVU265
 798 0022 DBB2     		uxtb	r3, r3
 509:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 799              		.loc 1 509 14 view .LVU266
 800 0024 0370     		strb	r3, [r0]
 510:Src/LTC6811.c **** 
 801              		.loc 1 510 2 is_stmt 1 view .LVU267
 510:Src/LTC6811.c **** 
 802              		.loc 1 510 16 is_stmt 0 view .LVU268
 803 0026 F2B2     		uxtb	r2, r6
 510:Src/LTC6811.c **** 
 804              		.loc 1 510 14 view .LVU269
 805 0028 4270     		strb	r2, [r0, #1]
 512:Src/LTC6811.c **** 	cmd[1] = PEC_send[1];
 806              		.loc 1 512 2 is_stmt 1 view .LVU270
 512:Src/LTC6811.c **** 	cmd[1] = PEC_send[1];
 807              		.loc 1 512 9 is_stmt 0 view .LVU271
 808 002a 8DF80C30 		strb	r3, [sp, #12]
 513:Src/LTC6811.c **** 	
 809              		.loc 1 513 2 is_stmt 1 view .LVU272
 513:Src/LTC6811.c **** 	
 810              		.loc 1 513 9 is_stmt 0 view .LVU273
 811 002e 8DF80D20 		strb	r2, [sp, #13]
 515:Src/LTC6811.c **** 	
 812              		.loc 1 515 2 is_stmt 1 view .LVU274
 515:Src/LTC6811.c **** 	
 813              		.loc 1 515 15 is_stmt 0 view .LVU275
 814 0032 0146     		mov	r1, r0
 815 0034 0220     		movs	r0, #2
 816              	.LVL60:
 515:Src/LTC6811.c **** 	
 817              		.loc 1 515 15 view .LVU276
 818 0036 FFF7FEFF 		bl	calculatePEC
 819              	.LVL61:
 517:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 820              		.loc 1 517 2 is_stmt 1 view .LVU277
 517:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 821              		.loc 1 517 9 is_stmt 0 view .LVU278
 822 003a 030A     		lsrs	r3, r0, #8
 823 003c 8DF80E30 		strb	r3, [sp, #14]
 518:Src/LTC6811.c **** 	
 824              		.loc 1 518 2 is_stmt 1 view .LVU279
 518:Src/LTC6811.c **** 	
 825              		.loc 1 518 9 is_stmt 0 view .LVU280
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 31


 826 0040 8DF80F00 		strb	r0, [sp, #15]
 520:Src/LTC6811.c **** 	cmd[5] = 0;
 827              		.loc 1 520 2 is_stmt 1 view .LVU281
 520:Src/LTC6811.c **** 	cmd[5] = 0;
 828              		.loc 1 520 9 is_stmt 0 view .LVU282
 829 0044 0023     		movs	r3, #0
 830 0046 8DF81030 		strb	r3, [sp, #16]
 521:Src/LTC6811.c **** 	cmd[6] = 0;
 831              		.loc 1 521 2 is_stmt 1 view .LVU283
 521:Src/LTC6811.c **** 	cmd[6] = 0;
 832              		.loc 1 521 9 is_stmt 0 view .LVU284
 833 004a 8DF81130 		strb	r3, [sp, #17]
 522:Src/LTC6811.c **** 	cmd[7] = 0;
 834              		.loc 1 522 2 is_stmt 1 view .LVU285
 522:Src/LTC6811.c **** 	cmd[7] = 0;
 835              		.loc 1 522 9 is_stmt 0 view .LVU286
 836 004e 8DF81230 		strb	r3, [sp, #18]
 523:Src/LTC6811.c **** 	cmd[8] = 0;
 837              		.loc 1 523 2 is_stmt 1 view .LVU287
 523:Src/LTC6811.c **** 	cmd[8] = 0;
 838              		.loc 1 523 9 is_stmt 0 view .LVU288
 839 0052 8DF81330 		strb	r3, [sp, #19]
 524:Src/LTC6811.c **** 	cmd[9] = 0;
 840              		.loc 1 524 2 is_stmt 1 view .LVU289
 524:Src/LTC6811.c **** 	cmd[9] = 0;
 841              		.loc 1 524 9 is_stmt 0 view .LVU290
 842 0056 8DF81430 		strb	r3, [sp, #20]
 525:Src/LTC6811.c **** 	cmd[10] = 0;
 843              		.loc 1 525 2 is_stmt 1 view .LVU291
 525:Src/LTC6811.c **** 	cmd[10] = 0;
 844              		.loc 1 525 9 is_stmt 0 view .LVU292
 845 005a 8DF81530 		strb	r3, [sp, #21]
 526:Src/LTC6811.c **** 	cmd[11] = 0;
 846              		.loc 1 526 2 is_stmt 1 view .LVU293
 526:Src/LTC6811.c **** 	cmd[11] = 0;
 847              		.loc 1 526 10 is_stmt 0 view .LVU294
 848 005e 8DF81630 		strb	r3, [sp, #22]
 527:Src/LTC6811.c **** 	
 849              		.loc 1 527 2 is_stmt 1 view .LVU295
 527:Src/LTC6811.c **** 	
 850              		.loc 1 527 10 is_stmt 0 view .LVU296
 851 0062 8DF81730 		strb	r3, [sp, #23]
 529:Src/LTC6811.c **** 	
 852              		.loc 1 529 2 is_stmt 1 view .LVU297
 853 0066 0C22     		movs	r2, #12
 854 0068 6946     		mov	r1, sp
 855 006a 0DEB0200 		add	r0, sp, r2
 856              	.LVL62:
 529:Src/LTC6811.c **** 	
 857              		.loc 1 529 2 is_stmt 0 view .LVU298
 858 006e FFF7FEFF 		bl	SPIWriteRead
 859              	.LVL63:
 532:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 860              		.loc 1 532 2 is_stmt 1 view .LVU299
 532:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 861              		.loc 1 532 23 is_stmt 0 view .LVU300
 862 0072 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 32


 532:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 863              		.loc 1 532 14 view .LVU301
 864 0076 2B70     		strb	r3, [r5]
 533:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 865              		.loc 1 533 2 is_stmt 1 view .LVU302
 533:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 866              		.loc 1 533 23 is_stmt 0 view .LVU303
 867 0078 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 533:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 868              		.loc 1 533 14 view .LVU304
 869 007c 6B70     		strb	r3, [r5, #1]
 534:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 870              		.loc 1 534 2 is_stmt 1 view .LVU305
 534:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 871              		.loc 1 534 23 is_stmt 0 view .LVU306
 872 007e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 534:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 873              		.loc 1 534 14 view .LVU307
 874 0082 AB70     		strb	r3, [r5, #2]
 535:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 875              		.loc 1 535 2 is_stmt 1 view .LVU308
 535:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 876              		.loc 1 535 23 is_stmt 0 view .LVU309
 877 0084 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 535:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 878              		.loc 1 535 14 view .LVU310
 879 0088 EB70     		strb	r3, [r5, #3]
 536:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 880              		.loc 1 536 2 is_stmt 1 view .LVU311
 536:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 881              		.loc 1 536 23 is_stmt 0 view .LVU312
 882 008a 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 536:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 883              		.loc 1 536 14 view .LVU313
 884 008e 2B71     		strb	r3, [r5, #4]
 537:Src/LTC6811.c **** 	
 885              		.loc 1 537 2 is_stmt 1 view .LVU314
 537:Src/LTC6811.c **** 	
 886              		.loc 1 537 23 is_stmt 0 view .LVU315
 887 0090 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 537:Src/LTC6811.c **** 	
 888              		.loc 1 537 14 view .LVU316
 889 0094 6B71     		strb	r3, [r5, #5]
 539:Src/LTC6811.c **** 	
 890              		.loc 1 539 2 is_stmt 1 view .LVU317
 539:Src/LTC6811.c **** 	
 891              		.loc 1 539 15 is_stmt 0 view .LVU318
 892 0096 2946     		mov	r1, r5
 893 0098 0620     		movs	r0, #6
 894 009a FFF7FEFF 		bl	calculatePEC
 895              	.LVL64:
 542:Src/LTC6811.c **** 		dataValid = false;
 896              		.loc 1 542 2 is_stmt 1 view .LVU319
 542:Src/LTC6811.c **** 		dataValid = false;
 897              		.loc 1 542 30 is_stmt 0 view .LVU320
 898 009e 9DF80A20 		ldrb	r2, [sp, #10]	@ zero_extendqisi2
 542:Src/LTC6811.c **** 		dataValid = false;
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 33


 899              		.loc 1 542 61 view .LVU321
 900 00a2 9DF80B30 		ldrb	r3, [sp, #11]	@ zero_extendqisi2
 542:Src/LTC6811.c **** 		dataValid = false;
 901              		.loc 1 542 51 view .LVU322
 902 00a6 43EA0223 		orr	r3, r3, r2, lsl #8
 542:Src/LTC6811.c **** 		dataValid = false;
 903              		.loc 1 542 5 view .LVU323
 904 00aa 9842     		cmp	r0, r3
 905 00ac 12D0     		beq	.L39
 543:Src/LTC6811.c **** 	}
 906              		.loc 1 543 13 view .LVU324
 907 00ae 0020     		movs	r0, #0
 908              	.LVL65:
 909              	.L29:
 546:Src/LTC6811.c **** 		
 910              		.loc 1 546 2 is_stmt 1 view .LVU325
 546:Src/LTC6811.c **** 		
 911              		.loc 1 546 5 is_stmt 0 view .LVU326
 912 00b0 042E     		cmp	r6, #4
 913 00b2 11D0     		beq	.L40
 914              	.L30:
 555:Src/LTC6811.c **** 		
 915              		.loc 1 555 2 is_stmt 1 view .LVU327
 555:Src/LTC6811.c **** 		
 916              		.loc 1 555 5 is_stmt 0 view .LVU328
 917 00b4 062E     		cmp	r6, #6
 918 00b6 28D0     		beq	.L41
 919              	.L31:
 562:Src/LTC6811.c **** 		
 920              		.loc 1 562 2 is_stmt 1 view .LVU329
 562:Src/LTC6811.c **** 		
 921              		.loc 1 562 5 is_stmt 0 view .LVU330
 922 00b8 082E     		cmp	r6, #8
 923 00ba 3FD0     		beq	.L42
 924              	.L32:
 569:Src/LTC6811.c **** 		
 925              		.loc 1 569 2 is_stmt 1 view .LVU331
 569:Src/LTC6811.c **** 		
 926              		.loc 1 569 5 is_stmt 0 view .LVU332
 927 00bc 0A2E     		cmp	r6, #10
 928 00be 56D0     		beq	.L43
 929              	.L33:
 576:Src/LTC6811.c **** 		
 930              		.loc 1 576 2 is_stmt 1 view .LVU333
 576:Src/LTC6811.c **** 		
 931              		.loc 1 576 5 is_stmt 0 view .LVU334
 932 00c0 0C2E     		cmp	r6, #12
 933 00c2 6DD0     		beq	.L44
 934              	.L34:
 583:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 935              		.loc 1 583 2 is_stmt 1 view .LVU335
 583:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 936              		.loc 1 583 5 is_stmt 0 view .LVU336
 937 00c4 0E2E     		cmp	r6, #14
 938 00c6 00F08480 		beq	.L45
 939              	.L35:
 587:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[4] << 8) & 0xFF00) | (rx_data[5] & 0x00FF);
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 34


 940              		.loc 1 587 2 is_stmt 1 view .LVU337
 587:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[4] << 8) & 0xFF00) | (rx_data[5] & 0x00FF);
 941              		.loc 1 587 5 is_stmt 0 view .LVU338
 942 00ca 022E     		cmp	r6, #2
 943 00cc 00F08A80 		beq	.L46
 944              	.L36:
 594:Src/LTC6811.c **** 	
 945              		.loc 1 594 2 is_stmt 1 view .LVU339
 596:Src/LTC6811.c **** 
 946              		.loc 1 596 1 is_stmt 0 view .LVU340
 947 00d0 07B0     		add	sp, sp, #28
 948              	.LCFI18:
 949              		.cfi_remember_state
 950              		.cfi_def_cfa_offset 20
 951              		@ sp needed
 952 00d2 F0BD     		pop	{r4, r5, r6, r7, pc}
 953              	.LVL66:
 954              	.L39:
 955              	.LCFI19:
 956              		.cfi_restore_state
 505:Src/LTC6811.c **** 
 957              		.loc 1 505 7 view .LVU341
 958 00d4 0120     		movs	r0, #1
 959              	.LVL67:
 505:Src/LTC6811.c **** 
 960              		.loc 1 505 7 view .LVU342
 961 00d6 EBE7     		b	.L29
 962              	.LVL68:
 963              	.L40:
 548:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 964              		.loc 1 548 3 is_stmt 1 view .LVU343
 548:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 965              		.loc 1 548 33 is_stmt 0 view .LVU344
 966 00d8 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 548:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 967              		.loc 1 548 37 view .LVU345
 968 00dc 1B02     		lsls	r3, r3, #8
 548:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 969              		.loc 1 548 13 view .LVU346
 970 00de 1BB2     		sxth	r3, r3
 548:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 971              		.loc 1 548 63 view .LVU347
 972 00e0 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 548:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 973              		.loc 1 548 53 view .LVU348
 974 00e4 1343     		orrs	r3, r3, r2
 548:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 975              		.loc 1 548 11 view .LVU349
 976 00e6 3B80     		strh	r3, [r7]	@ movhi
 549:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 977              		.loc 1 549 3 is_stmt 1 view .LVU350
 549:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 978              		.loc 1 549 33 is_stmt 0 view .LVU351
 979 00e8 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 549:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 980              		.loc 1 549 37 view .LVU352
 981 00ec 1B02     		lsls	r3, r3, #8
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 35


 549:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 982              		.loc 1 549 13 view .LVU353
 983 00ee 1BB2     		sxth	r3, r3
 549:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 984              		.loc 1 549 63 view .LVU354
 985 00f0 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 549:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 986              		.loc 1 549 53 view .LVU355
 987 00f4 1343     		orrs	r3, r3, r2
 549:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 988              		.loc 1 549 11 view .LVU356
 989 00f6 7B80     		strh	r3, [r7, #2]	@ movhi
 550:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 990              		.loc 1 550 3 is_stmt 1 view .LVU357
 550:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 991              		.loc 1 550 33 is_stmt 0 view .LVU358
 992 00f8 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 550:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 993              		.loc 1 550 37 view .LVU359
 994 00fc 1B02     		lsls	r3, r3, #8
 550:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 995              		.loc 1 550 13 view .LVU360
 996 00fe 1BB2     		sxth	r3, r3
 550:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 997              		.loc 1 550 63 view .LVU361
 998 0100 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 550:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 999              		.loc 1 550 53 view .LVU362
 1000 0104 1343     		orrs	r3, r3, r2
 550:Src/LTC6811.c **** 		//data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 1001              		.loc 1 550 11 view .LVU363
 1002 0106 BB80     		strh	r3, [r7, #4]	@ movhi
 1003 0108 D4E7     		b	.L30
 1004              	.L41:
 557:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1005              		.loc 1 557 3 is_stmt 1 view .LVU364
 557:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1006              		.loc 1 557 33 is_stmt 0 view .LVU365
 1007 010a 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 557:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1008              		.loc 1 557 37 view .LVU366
 1009 010e 1B02     		lsls	r3, r3, #8
 557:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1010              		.loc 1 557 13 view .LVU367
 1011 0110 1BB2     		sxth	r3, r3
 557:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1012              		.loc 1 557 63 view .LVU368
 1013 0112 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 557:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1014              		.loc 1 557 53 view .LVU369
 1015 0116 1343     		orrs	r3, r3, r2
 557:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1016              		.loc 1 557 11 view .LVU370
 1017 0118 FB80     		strh	r3, [r7, #6]	@ movhi
 558:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1018              		.loc 1 558 3 is_stmt 1 view .LVU371
 558:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 36


 1019              		.loc 1 558 33 is_stmt 0 view .LVU372
 1020 011a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 558:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1021              		.loc 1 558 37 view .LVU373
 1022 011e 1B02     		lsls	r3, r3, #8
 558:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1023              		.loc 1 558 13 view .LVU374
 1024 0120 1BB2     		sxth	r3, r3
 558:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1025              		.loc 1 558 63 view .LVU375
 1026 0122 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 558:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1027              		.loc 1 558 53 view .LVU376
 1028 0126 1343     		orrs	r3, r3, r2
 558:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1029              		.loc 1 558 11 view .LVU377
 1030 0128 3B81     		strh	r3, [r7, #8]	@ movhi
 559:Src/LTC6811.c **** 	}
 1031              		.loc 1 559 3 is_stmt 1 view .LVU378
 559:Src/LTC6811.c **** 	}
 1032              		.loc 1 559 33 is_stmt 0 view .LVU379
 1033 012a 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 559:Src/LTC6811.c **** 	}
 1034              		.loc 1 559 37 view .LVU380
 1035 012e 1B02     		lsls	r3, r3, #8
 559:Src/LTC6811.c **** 	}
 1036              		.loc 1 559 13 view .LVU381
 1037 0130 1BB2     		sxth	r3, r3
 559:Src/LTC6811.c **** 	}
 1038              		.loc 1 559 63 view .LVU382
 1039 0132 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 559:Src/LTC6811.c **** 	}
 1040              		.loc 1 559 53 view .LVU383
 1041 0136 1343     		orrs	r3, r3, r2
 559:Src/LTC6811.c **** 	}
 1042              		.loc 1 559 11 view .LVU384
 1043 0138 7B81     		strh	r3, [r7, #10]	@ movhi
 1044 013a BDE7     		b	.L31
 1045              	.L42:
 564:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1046              		.loc 1 564 3 is_stmt 1 view .LVU385
 564:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1047              		.loc 1 564 33 is_stmt 0 view .LVU386
 1048 013c 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 564:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1049              		.loc 1 564 37 view .LVU387
 1050 0140 1B02     		lsls	r3, r3, #8
 564:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1051              		.loc 1 564 13 view .LVU388
 1052 0142 1BB2     		sxth	r3, r3
 564:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1053              		.loc 1 564 63 view .LVU389
 1054 0144 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 564:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1055              		.loc 1 564 53 view .LVU390
 1056 0148 1343     		orrs	r3, r3, r2
 564:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 37


 1057              		.loc 1 564 11 view .LVU391
 1058 014a BB81     		strh	r3, [r7, #12]	@ movhi
 565:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1059              		.loc 1 565 3 is_stmt 1 view .LVU392
 565:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1060              		.loc 1 565 33 is_stmt 0 view .LVU393
 1061 014c 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 565:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1062              		.loc 1 565 37 view .LVU394
 1063 0150 1B02     		lsls	r3, r3, #8
 565:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1064              		.loc 1 565 13 view .LVU395
 1065 0152 1BB2     		sxth	r3, r3
 565:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1066              		.loc 1 565 63 view .LVU396
 1067 0154 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 565:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1068              		.loc 1 565 53 view .LVU397
 1069 0158 1343     		orrs	r3, r3, r2
 565:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1070              		.loc 1 565 11 view .LVU398
 1071 015a FB81     		strh	r3, [r7, #14]	@ movhi
 566:Src/LTC6811.c **** 	}
 1072              		.loc 1 566 3 is_stmt 1 view .LVU399
 566:Src/LTC6811.c **** 	}
 1073              		.loc 1 566 33 is_stmt 0 view .LVU400
 1074 015c 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 566:Src/LTC6811.c **** 	}
 1075              		.loc 1 566 37 view .LVU401
 1076 0160 1B02     		lsls	r3, r3, #8
 566:Src/LTC6811.c **** 	}
 1077              		.loc 1 566 13 view .LVU402
 1078 0162 1BB2     		sxth	r3, r3
 566:Src/LTC6811.c **** 	}
 1079              		.loc 1 566 63 view .LVU403
 1080 0164 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 566:Src/LTC6811.c **** 	}
 1081              		.loc 1 566 53 view .LVU404
 1082 0168 1343     		orrs	r3, r3, r2
 566:Src/LTC6811.c **** 	}
 1083              		.loc 1 566 11 view .LVU405
 1084 016a 3B82     		strh	r3, [r7, #16]	@ movhi
 1085 016c A6E7     		b	.L32
 1086              	.L43:
 571:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1087              		.loc 1 571 3 is_stmt 1 view .LVU406
 571:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1088              		.loc 1 571 33 is_stmt 0 view .LVU407
 1089 016e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 571:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1090              		.loc 1 571 37 view .LVU408
 1091 0172 1B02     		lsls	r3, r3, #8
 571:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1092              		.loc 1 571 13 view .LVU409
 1093 0174 1BB2     		sxth	r3, r3
 571:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1094              		.loc 1 571 63 view .LVU410
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 38


 1095 0176 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 571:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1096              		.loc 1 571 53 view .LVU411
 1097 017a 1343     		orrs	r3, r3, r2
 571:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1098              		.loc 1 571 11 view .LVU412
 1099 017c 7B82     		strh	r3, [r7, #18]	@ movhi
 572:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1100              		.loc 1 572 3 is_stmt 1 view .LVU413
 572:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1101              		.loc 1 572 34 is_stmt 0 view .LVU414
 1102 017e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 572:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1103              		.loc 1 572 38 view .LVU415
 1104 0182 1B02     		lsls	r3, r3, #8
 572:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1105              		.loc 1 572 14 view .LVU416
 1106 0184 1BB2     		sxth	r3, r3
 572:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1107              		.loc 1 572 64 view .LVU417
 1108 0186 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 572:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1109              		.loc 1 572 54 view .LVU418
 1110 018a 1343     		orrs	r3, r3, r2
 572:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1111              		.loc 1 572 12 view .LVU419
 1112 018c BB82     		strh	r3, [r7, #20]	@ movhi
 573:Src/LTC6811.c **** 	}
 1113              		.loc 1 573 3 is_stmt 1 view .LVU420
 573:Src/LTC6811.c **** 	}
 1114              		.loc 1 573 34 is_stmt 0 view .LVU421
 1115 018e 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 573:Src/LTC6811.c **** 	}
 1116              		.loc 1 573 38 view .LVU422
 1117 0192 1B02     		lsls	r3, r3, #8
 573:Src/LTC6811.c **** 	}
 1118              		.loc 1 573 14 view .LVU423
 1119 0194 1BB2     		sxth	r3, r3
 573:Src/LTC6811.c **** 	}
 1120              		.loc 1 573 64 view .LVU424
 1121 0196 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 573:Src/LTC6811.c **** 	}
 1122              		.loc 1 573 54 view .LVU425
 1123 019a 1343     		orrs	r3, r3, r2
 573:Src/LTC6811.c **** 	}
 1124              		.loc 1 573 12 view .LVU426
 1125 019c FB82     		strh	r3, [r7, #22]	@ movhi
 1126 019e 8FE7     		b	.L33
 1127              	.L44:
 578:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1128              		.loc 1 578 3 is_stmt 1 view .LVU427
 578:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1129              		.loc 1 578 33 is_stmt 0 view .LVU428
 1130 01a0 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 578:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1131              		.loc 1 578 37 view .LVU429
 1132 01a4 1B02     		lsls	r3, r3, #8
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 39


 578:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1133              		.loc 1 578 13 view .LVU430
 1134 01a6 1BB2     		sxth	r3, r3
 578:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1135              		.loc 1 578 63 view .LVU431
 1136 01a8 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 578:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1137              		.loc 1 578 53 view .LVU432
 1138 01ac 1343     		orrs	r3, r3, r2
 578:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 1139              		.loc 1 578 11 view .LVU433
 1140 01ae 3B80     		strh	r3, [r7]	@ movhi
 579:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1141              		.loc 1 579 3 is_stmt 1 view .LVU434
 579:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1142              		.loc 1 579 33 is_stmt 0 view .LVU435
 1143 01b0 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 579:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1144              		.loc 1 579 37 view .LVU436
 1145 01b4 1B02     		lsls	r3, r3, #8
 579:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1146              		.loc 1 579 13 view .LVU437
 1147 01b6 1BB2     		sxth	r3, r3
 579:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1148              		.loc 1 579 63 view .LVU438
 1149 01b8 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 579:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1150              		.loc 1 579 53 view .LVU439
 1151 01bc 1343     		orrs	r3, r3, r2
 579:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 1152              		.loc 1 579 11 view .LVU440
 1153 01be 7B80     		strh	r3, [r7, #2]	@ movhi
 580:Src/LTC6811.c **** 	}
 1154              		.loc 1 580 3 is_stmt 1 view .LVU441
 580:Src/LTC6811.c **** 	}
 1155              		.loc 1 580 33 is_stmt 0 view .LVU442
 1156 01c0 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 580:Src/LTC6811.c **** 	}
 1157              		.loc 1 580 37 view .LVU443
 1158 01c4 1B02     		lsls	r3, r3, #8
 580:Src/LTC6811.c **** 	}
 1159              		.loc 1 580 13 view .LVU444
 1160 01c6 1BB2     		sxth	r3, r3
 580:Src/LTC6811.c **** 	}
 1161              		.loc 1 580 63 view .LVU445
 1162 01c8 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 580:Src/LTC6811.c **** 	}
 1163              		.loc 1 580 53 view .LVU446
 1164 01cc 1343     		orrs	r3, r3, r2
 580:Src/LTC6811.c **** 	}
 1165              		.loc 1 580 11 view .LVU447
 1166 01ce BB80     		strh	r3, [r7, #4]	@ movhi
 1167 01d0 78E7     		b	.L34
 1168              	.L45:
 584:Src/LTC6811.c **** 	}
 1169              		.loc 1 584 3 is_stmt 1 view .LVU448
 584:Src/LTC6811.c **** 	}
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 40


 1170              		.loc 1 584 33 is_stmt 0 view .LVU449
 1171 01d2 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 584:Src/LTC6811.c **** 	}
 1172              		.loc 1 584 37 view .LVU450
 1173 01d6 1B02     		lsls	r3, r3, #8
 584:Src/LTC6811.c **** 	}
 1174              		.loc 1 584 13 view .LVU451
 1175 01d8 1BB2     		sxth	r3, r3
 584:Src/LTC6811.c **** 	}
 1176              		.loc 1 584 63 view .LVU452
 1177 01da 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 584:Src/LTC6811.c **** 	}
 1178              		.loc 1 584 53 view .LVU453
 1179 01de 1343     		orrs	r3, r3, r2
 584:Src/LTC6811.c **** 	}
 1180              		.loc 1 584 11 view .LVU454
 1181 01e0 FB80     		strh	r3, [r7, #6]	@ movhi
 1182 01e2 72E7     		b	.L35
 1183              	.L46:
 588:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 1184              		.loc 1 588 3 is_stmt 1 view .LVU455
 588:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 1185              		.loc 1 588 33 is_stmt 0 view .LVU456
 1186 01e4 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 588:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 1187              		.loc 1 588 37 view .LVU457
 1188 01e8 1B02     		lsls	r3, r3, #8
 588:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 1189              		.loc 1 588 13 view .LVU458
 1190 01ea 1BB2     		sxth	r3, r3
 588:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 1191              		.loc 1 588 63 view .LVU459
 1192 01ec 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 588:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 1193              		.loc 1 588 53 view .LVU460
 1194 01f0 1343     		orrs	r3, r3, r2
 588:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 1195              		.loc 1 588 11 view .LVU461
 1196 01f2 3B80     		strh	r3, [r7]	@ movhi
 589:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 1197              		.loc 1 589 3 is_stmt 1 view .LVU462
 589:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 1198              		.loc 1 589 33 is_stmt 0 view .LVU463
 1199 01f4 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 589:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 1200              		.loc 1 589 37 view .LVU464
 1201 01f8 1B02     		lsls	r3, r3, #8
 589:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 1202              		.loc 1 589 13 view .LVU465
 1203 01fa 1BB2     		sxth	r3, r3
 589:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 1204              		.loc 1 589 63 view .LVU466
 1205 01fc 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 589:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 1206              		.loc 1 589 53 view .LVU467
 1207 0200 1343     		orrs	r3, r3, r2
 589:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 41


 1208              		.loc 1 589 11 view .LVU468
 1209 0202 7B80     		strh	r3, [r7, #2]	@ movhi
 590:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 1210              		.loc 1 590 3 is_stmt 1 view .LVU469
 590:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 1211              		.loc 1 590 33 is_stmt 0 view .LVU470
 1212 0204 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 590:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 1213              		.loc 1 590 37 view .LVU471
 1214 0208 1B02     		lsls	r3, r3, #8
 590:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 1215              		.loc 1 590 13 view .LVU472
 1216 020a 1BB2     		sxth	r3, r3
 590:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 1217              		.loc 1 590 63 view .LVU473
 1218 020c 9DF80920 		ldrb	r2, [sp, #9]	@ zero_extendqisi2
 590:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 1219              		.loc 1 590 53 view .LVU474
 1220 0210 1343     		orrs	r3, r3, r2
 590:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF);
 1221              		.loc 1 590 11 view .LVU475
 1222 0212 BB80     		strh	r3, [r7, #4]	@ movhi
 591:Src/LTC6811.c **** 	}
 1223              		.loc 1 591 3 is_stmt 1 view .LVU476
 591:Src/LTC6811.c **** 	}
 1224              		.loc 1 591 33 is_stmt 0 view .LVU477
 1225 0214 9DF80A30 		ldrb	r3, [sp, #10]	@ zero_extendqisi2
 591:Src/LTC6811.c **** 	}
 1226              		.loc 1 591 38 view .LVU478
 1227 0218 1B02     		lsls	r3, r3, #8
 591:Src/LTC6811.c **** 	}
 1228              		.loc 1 591 13 view .LVU479
 1229 021a 1BB2     		sxth	r3, r3
 591:Src/LTC6811.c **** 	}
 1230              		.loc 1 591 64 view .LVU480
 1231 021c 9DF80B20 		ldrb	r2, [sp, #11]	@ zero_extendqisi2
 591:Src/LTC6811.c **** 	}
 1232              		.loc 1 591 54 view .LVU481
 1233 0220 1343     		orrs	r3, r3, r2
 591:Src/LTC6811.c **** 	}
 1234              		.loc 1 591 11 view .LVU482
 1235 0222 FB80     		strh	r3, [r7, #6]	@ movhi
 1236 0224 54E7     		b	.L36
 1237              		.cfi_endproc
 1238              	.LFE77:
 1240              		.section	.text.readConfig,"ax",%progbits
 1241              		.align	1
 1242              		.global	readConfig
 1243              		.syntax unified
 1244              		.thumb
 1245              		.thumb_func
 1246              		.fpu softvfp
 1248              	readConfig:
 1249              	.LVL69:
 1250              	.LFB73:
 356:Src/LTC6811.c **** 	
 1251              		.loc 1 356 50 is_stmt 1 view -0
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 42


 1252              		.cfi_startproc
 1253              		@ args = 0, pretend = 0, frame = 0
 1254              		@ frame_needed = 0, uses_anonymous_args = 0
 356:Src/LTC6811.c **** 	
 1255              		.loc 1 356 50 is_stmt 0 view .LVU484
 1256 0000 70B5     		push	{r4, r5, r6, lr}
 1257              	.LCFI20:
 1258              		.cfi_def_cfa_offset 16
 1259              		.cfi_offset 4, -16
 1260              		.cfi_offset 5, -12
 1261              		.cfi_offset 6, -8
 1262              		.cfi_offset 14, -4
 1263 0002 0646     		mov	r6, r0
 1264 0004 0C46     		mov	r4, r1
 358:Src/LTC6811.c **** 	bool dataValid = false;
 1265              		.loc 1 358 2 is_stmt 1 view .LVU485
 359:Src/LTC6811.c **** 	
 1266              		.loc 1 359 2 view .LVU486
 1267              	.LVL70:
 361:Src/LTC6811.c **** 	
 1268              		.loc 1 361 2 view .LVU487
 361:Src/LTC6811.c **** 	
 1269              		.loc 1 361 23 is_stmt 0 view .LVU488
 1270 0006 0820     		movs	r0, #8
 1271              	.LVL71:
 361:Src/LTC6811.c **** 	
 1272              		.loc 1 361 23 view .LVU489
 1273 0008 FFF7FEFF 		bl	malloc
 1274              	.LVL72:
 361:Src/LTC6811.c **** 	
 1275              		.loc 1 361 23 view .LVU490
 1276 000c 0546     		mov	r5, r0
 1277              	.LVL73:
 363:Src/LTC6811.c **** 	
 1278              		.loc 1 363 2 is_stmt 1 view .LVU491
 363:Src/LTC6811.c **** 	
 1279              		.loc 1 363 14 is_stmt 0 view .LVU492
 1280 000e 0246     		mov	r2, r0
 1281 0010 3146     		mov	r1, r6
 1282 0012 0220     		movs	r0, #2
 1283              	.LVL74:
 363:Src/LTC6811.c **** 	
 1284              		.loc 1 363 14 view .LVU493
 1285 0014 FFF7FEFF 		bl	readRegister
 1286              	.LVL75:
 365:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 1287              		.loc 1 365 2 is_stmt 1 view .LVU494
 365:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 1288              		.loc 1 365 29 is_stmt 0 view .LVU495
 1289 0018 2B88     		ldrh	r3, [r5]
 365:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 1290              		.loc 1 365 11 view .LVU496
 1291 001a 1A0A     		lsrs	r2, r3, #8
 365:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 1292              		.loc 1 365 9 view .LVU497
 1293 001c 2270     		strb	r2, [r4]
 366:Src/LTC6811.c **** 	cfg[2] = (uint8_t) ((config[1] >> 8) & 0xFF);
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 43


 1294              		.loc 1 366 2 is_stmt 1 view .LVU498
 366:Src/LTC6811.c **** 	cfg[2] = (uint8_t) ((config[1] >> 8) & 0xFF);
 1295              		.loc 1 366 9 is_stmt 0 view .LVU499
 1296 001e 6370     		strb	r3, [r4, #1]
 367:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 1297              		.loc 1 367 2 is_stmt 1 view .LVU500
 367:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 1298              		.loc 1 367 29 is_stmt 0 view .LVU501
 1299 0020 6B88     		ldrh	r3, [r5, #2]
 367:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 1300              		.loc 1 367 11 view .LVU502
 1301 0022 1A0A     		lsrs	r2, r3, #8
 367:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 1302              		.loc 1 367 9 view .LVU503
 1303 0024 A270     		strb	r2, [r4, #2]
 368:Src/LTC6811.c **** 	cfg[4] = (uint8_t) ((config[2] >> 8) & 0xFF);
 1304              		.loc 1 368 2 is_stmt 1 view .LVU504
 368:Src/LTC6811.c **** 	cfg[4] = (uint8_t) ((config[2] >> 8) & 0xFF);
 1305              		.loc 1 368 9 is_stmt 0 view .LVU505
 1306 0026 E370     		strb	r3, [r4, #3]
 369:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 1307              		.loc 1 369 2 is_stmt 1 view .LVU506
 369:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 1308              		.loc 1 369 29 is_stmt 0 view .LVU507
 1309 0028 AB88     		ldrh	r3, [r5, #4]
 369:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 1310              		.loc 1 369 11 view .LVU508
 1311 002a 1A0A     		lsrs	r2, r3, #8
 369:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 1312              		.loc 1 369 9 view .LVU509
 1313 002c 2271     		strb	r2, [r4, #4]
 370:Src/LTC6811.c **** 	cfg[6] = (uint8_t) ((config[3] >> 8) & 0xFF);
 1314              		.loc 1 370 2 is_stmt 1 view .LVU510
 370:Src/LTC6811.c **** 	cfg[6] = (uint8_t) ((config[3] >> 8) & 0xFF);
 1315              		.loc 1 370 9 is_stmt 0 view .LVU511
 1316 002e 6371     		strb	r3, [r4, #5]
 371:Src/LTC6811.c **** 	cfg[7] = (uint8_t) (config[3] & 0xFF);
 1317              		.loc 1 371 2 is_stmt 1 view .LVU512
 371:Src/LTC6811.c **** 	cfg[7] = (uint8_t) (config[3] & 0xFF);
 1318              		.loc 1 371 29 is_stmt 0 view .LVU513
 1319 0030 EB88     		ldrh	r3, [r5, #6]
 371:Src/LTC6811.c **** 	cfg[7] = (uint8_t) (config[3] & 0xFF);
 1320              		.loc 1 371 11 view .LVU514
 1321 0032 1A0A     		lsrs	r2, r3, #8
 371:Src/LTC6811.c **** 	cfg[7] = (uint8_t) (config[3] & 0xFF);
 1322              		.loc 1 371 9 view .LVU515
 1323 0034 A271     		strb	r2, [r4, #6]
 372:Src/LTC6811.c **** 	
 1324              		.loc 1 372 2 is_stmt 1 view .LVU516
 372:Src/LTC6811.c **** 	
 1325              		.loc 1 372 9 is_stmt 0 view .LVU517
 1326 0036 E371     		strb	r3, [r4, #7]
 374:Src/LTC6811.c **** }
 1327              		.loc 1 374 2 is_stmt 1 view .LVU518
 375:Src/LTC6811.c **** 
 1328              		.loc 1 375 1 is_stmt 0 view .LVU519
 1329 0038 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 44


 375:Src/LTC6811.c **** 
 1330              		.loc 1 375 1 view .LVU520
 1331              		.cfi_endproc
 1332              	.LFE73:
 1334              		.section	.text.sendBroadcastCommand,"ax",%progbits
 1335              		.align	1
 1336              		.global	sendBroadcastCommand
 1337              		.syntax unified
 1338              		.thumb
 1339              		.thumb_func
 1340              		.fpu softvfp
 1342              	sendBroadcastCommand:
 1343              	.LVL76:
 1344              	.LFB78:
 598:Src/LTC6811.c **** 	
 1345              		.loc 1 598 55 is_stmt 1 view -0
 1346              		.cfi_startproc
 1347              		@ args = 0, pretend = 0, frame = 8
 1348              		@ frame_needed = 0, uses_anonymous_args = 0
 598:Src/LTC6811.c **** 	
 1349              		.loc 1 598 55 is_stmt 0 view .LVU522
 1350 0000 00B5     		push	{lr}
 1351              	.LCFI21:
 1352              		.cfi_def_cfa_offset 4
 1353              		.cfi_offset 14, -4
 1354 0002 83B0     		sub	sp, sp, #12
 1355              	.LCFI22:
 1356              		.cfi_def_cfa_offset 16
 600:Src/LTC6811.c **** 	uint16_t PEC_return;
 1357              		.loc 1 600 2 is_stmt 1 view .LVU523
 601:Src/LTC6811.c **** 	
 1358              		.loc 1 601 2 view .LVU524
 603:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 1359              		.loc 1 603 2 view .LVU525
 603:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 1360              		.loc 1 603 11 is_stmt 0 view .LVU526
 1361 0004 C0F30323 		ubfx	r3, r0, #8, #4
 603:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 1362              		.loc 1 603 9 view .LVU527
 1363 0008 8DF80430 		strb	r3, [sp, #4]
 604:Src/LTC6811.c **** 	
 1364              		.loc 1 604 2 is_stmt 1 view .LVU528
 604:Src/LTC6811.c **** 	
 1365              		.loc 1 604 9 is_stmt 0 view .LVU529
 1366 000c 8DF80500 		strb	r0, [sp, #5]
 606:Src/LTC6811.c **** 	
 1367              		.loc 1 606 2 is_stmt 1 view .LVU530
 606:Src/LTC6811.c **** 	
 1368              		.loc 1 606 15 is_stmt 0 view .LVU531
 1369 0010 01A9     		add	r1, sp, #4
 1370 0012 0220     		movs	r0, #2
 1371              	.LVL77:
 606:Src/LTC6811.c **** 	
 1372              		.loc 1 606 15 view .LVU532
 1373 0014 FFF7FEFF 		bl	calculatePEC
 1374              	.LVL78:
 608:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 45


 1375              		.loc 1 608 2 is_stmt 1 view .LVU533
 608:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1376              		.loc 1 608 9 is_stmt 0 view .LVU534
 1377 0018 030A     		lsrs	r3, r0, #8
 1378 001a 8DF80630 		strb	r3, [sp, #6]
 609:Src/LTC6811.c **** 	
 1379              		.loc 1 609 2 is_stmt 1 view .LVU535
 609:Src/LTC6811.c **** 	
 1380              		.loc 1 609 9 is_stmt 0 view .LVU536
 1381 001e 8DF80700 		strb	r0, [sp, #7]
 611:Src/LTC6811.c **** };
 1382              		.loc 1 611 2 is_stmt 1 view .LVU537
 1383 0022 0421     		movs	r1, #4
 1384 0024 0DEB0100 		add	r0, sp, r1
 1385              	.LVL79:
 611:Src/LTC6811.c **** };
 1386              		.loc 1 611 2 is_stmt 0 view .LVU538
 1387 0028 FFF7FEFF 		bl	SPIWrite
 1388              	.LVL80:
 612:Src/LTC6811.c **** 
 1389              		.loc 1 612 1 view .LVU539
 1390 002c 03B0     		add	sp, sp, #12
 1391              	.LCFI23:
 1392              		.cfi_def_cfa_offset 4
 1393              		@ sp needed
 1394 002e 5DF804FB 		ldr	pc, [sp], #4
 1395              		.cfi_endproc
 1396              	.LFE78:
 1398              		.section	.text.sendAddressCommand,"ax",%progbits
 1399              		.align	1
 1400              		.global	sendAddressCommand
 1401              		.syntax unified
 1402              		.thumb
 1403              		.thumb_func
 1404              		.fpu softvfp
 1406              	sendAddressCommand:
 1407              	.LVL81:
 1408              	.LFB79:
 614:Src/LTC6811.c **** 	
 1409              		.loc 1 614 70 is_stmt 1 view -0
 1410              		.cfi_startproc
 1411              		@ args = 0, pretend = 0, frame = 8
 1412              		@ frame_needed = 0, uses_anonymous_args = 0
 614:Src/LTC6811.c **** 	
 1413              		.loc 1 614 70 is_stmt 0 view .LVU541
 1414 0000 70B5     		push	{r4, r5, r6, lr}
 1415              	.LCFI24:
 1416              		.cfi_def_cfa_offset 16
 1417              		.cfi_offset 4, -16
 1418              		.cfi_offset 5, -12
 1419              		.cfi_offset 6, -8
 1420              		.cfi_offset 14, -4
 1421 0002 82B0     		sub	sp, sp, #8
 1422              	.LCFI25:
 1423              		.cfi_def_cfa_offset 24
 1424 0004 0546     		mov	r5, r0
 1425 0006 0C46     		mov	r4, r1
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 46


 616:Src/LTC6811.c **** 	uint16_t PEC_return;
 1426              		.loc 1 616 2 is_stmt 1 view .LVU542
 617:Src/LTC6811.c **** 	uint8_t *msbytes;
 1427              		.loc 1 617 2 view .LVU543
 618:Src/LTC6811.c **** 	
 1428              		.loc 1 618 2 view .LVU544
 620:Src/LTC6811.c **** 	
 1429              		.loc 1 620 2 view .LVU545
 620:Src/LTC6811.c **** 	
 1430              		.loc 1 620 23 is_stmt 0 view .LVU546
 1431 0008 0220     		movs	r0, #2
 1432              	.LVL82:
 620:Src/LTC6811.c **** 	
 1433              		.loc 1 620 23 view .LVU547
 1434 000a FFF7FEFF 		bl	malloc
 1435              	.LVL83:
 620:Src/LTC6811.c **** 	
 1436              		.loc 1 620 23 view .LVU548
 1437 000e 0646     		mov	r6, r0
 1438              	.LVL84:
 622:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1439              		.loc 1 622 2 is_stmt 1 view .LVU549
 622:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1440              		.loc 1 622 43 is_stmt 0 view .LVU550
 1441 0010 E300     		lsls	r3, r4, #3
 622:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1442              		.loc 1 622 49 view .LVU551
 1443 0012 03F07803 		and	r3, r3, #120
 622:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1444              		.loc 1 622 31 view .LVU552
 1445 0016 63F07F03 		orn	r3, r3, #127
 622:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1446              		.loc 1 622 75 view .LVU553
 1447 001a C5F30224 		ubfx	r4, r5, #8, #3
 622:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1448              		.loc 1 622 57 view .LVU554
 1449 001e 2343     		orrs	r3, r3, r4
 622:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1450              		.loc 1 622 15 view .LVU555
 1451 0020 DBB2     		uxtb	r3, r3
 622:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1452              		.loc 1 622 13 view .LVU556
 1453 0022 0370     		strb	r3, [r0]
 623:Src/LTC6811.c **** 
 1454              		.loc 1 623 2 is_stmt 1 view .LVU557
 623:Src/LTC6811.c **** 
 1455              		.loc 1 623 15 is_stmt 0 view .LVU558
 1456 0024 EDB2     		uxtb	r5, r5
 623:Src/LTC6811.c **** 
 1457              		.loc 1 623 13 view .LVU559
 1458 0026 4570     		strb	r5, [r0, #1]
 625:Src/LTC6811.c **** 	cmd[1] = msbytes[1];
 1459              		.loc 1 625 2 is_stmt 1 view .LVU560
 625:Src/LTC6811.c **** 	cmd[1] = msbytes[1];
 1460              		.loc 1 625 9 is_stmt 0 view .LVU561
 1461 0028 8DF80430 		strb	r3, [sp, #4]
 626:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 47


 1462              		.loc 1 626 2 is_stmt 1 view .LVU562
 626:Src/LTC6811.c **** 	
 1463              		.loc 1 626 9 is_stmt 0 view .LVU563
 1464 002c 8DF80550 		strb	r5, [sp, #5]
 628:Src/LTC6811.c **** 	
 1465              		.loc 1 628 2 is_stmt 1 view .LVU564
 628:Src/LTC6811.c **** 	
 1466              		.loc 1 628 15 is_stmt 0 view .LVU565
 1467 0030 0146     		mov	r1, r0
 1468 0032 0220     		movs	r0, #2
 1469              	.LVL85:
 628:Src/LTC6811.c **** 	
 1470              		.loc 1 628 15 view .LVU566
 1471 0034 FFF7FEFF 		bl	calculatePEC
 1472              	.LVL86:
 630:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1473              		.loc 1 630 2 is_stmt 1 view .LVU567
 630:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1474              		.loc 1 630 9 is_stmt 0 view .LVU568
 1475 0038 030A     		lsrs	r3, r0, #8
 1476 003a 8DF80630 		strb	r3, [sp, #6]
 631:Src/LTC6811.c **** 	
 1477              		.loc 1 631 2 is_stmt 1 view .LVU569
 631:Src/LTC6811.c **** 	
 1478              		.loc 1 631 9 is_stmt 0 view .LVU570
 1479 003e 8DF80700 		strb	r0, [sp, #7]
 633:Src/LTC6811.c **** 	
 1480              		.loc 1 633 2 is_stmt 1 view .LVU571
 1481 0042 0421     		movs	r1, #4
 1482 0044 0DEB0100 		add	r0, sp, r1
 1483              	.LVL87:
 633:Src/LTC6811.c **** 	
 1484              		.loc 1 633 2 is_stmt 0 view .LVU572
 1485 0048 FFF7FEFF 		bl	SPIWrite
 1486              	.LVL88:
 635:Src/LTC6811.c **** };
 1487              		.loc 1 635 2 is_stmt 1 view .LVU573
 1488 004c 3046     		mov	r0, r6
 1489 004e FFF7FEFF 		bl	free
 1490              	.LVL89:
 636:Src/LTC6811.c **** 
 1491              		.loc 1 636 1 is_stmt 0 view .LVU574
 1492 0052 02B0     		add	sp, sp, #8
 1493              	.LCFI26:
 1494              		.cfi_def_cfa_offset 16
 1495              		@ sp needed
 1496 0054 70BD     		pop	{r4, r5, r6, pc}
 636:Src/LTC6811.c **** 
 1497              		.loc 1 636 1 view .LVU575
 1498              		.cfi_endproc
 1499              	.LFE79:
 1501              		.section	.text.readCellVoltage,"ax",%progbits
 1502              		.align	1
 1503              		.global	readCellVoltage
 1504              		.syntax unified
 1505              		.thumb
 1506              		.thumb_func
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 48


 1507              		.fpu softvfp
 1509              	readCellVoltage:
 1510              	.LVL90:
 1511              	.LFB69:
 208:Src/LTC6811.c **** 	
 1512              		.loc 1 208 65 is_stmt 1 view -0
 1513              		.cfi_startproc
 1514              		@ args = 0, pretend = 0, frame = 0
 1515              		@ frame_needed = 0, uses_anonymous_args = 0
 208:Src/LTC6811.c **** 	
 1516              		.loc 1 208 65 is_stmt 0 view .LVU577
 1517 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1518              	.LCFI27:
 1519              		.cfi_def_cfa_offset 24
 1520              		.cfi_offset 3, -24
 1521              		.cfi_offset 4, -20
 1522              		.cfi_offset 5, -16
 1523              		.cfi_offset 6, -12
 1524              		.cfi_offset 7, -8
 1525              		.cfi_offset 14, -4
 1526 0002 0746     		mov	r7, r0
 1527 0004 0D46     		mov	r5, r1
 210:Src/LTC6811.c **** 	bool dataValid = true;
 1528              		.loc 1 210 2 is_stmt 1 view .LVU578
 1529              	.LVL91:
 211:Src/LTC6811.c **** 	uint16_t *voltage;
 1530              		.loc 1 211 2 view .LVU579
 212:Src/LTC6811.c **** 	
 1531              		.loc 1 212 2 view .LVU580
 214:Src/LTC6811.c **** 	
 1532              		.loc 1 214 2 view .LVU581
 214:Src/LTC6811.c **** 	
 1533              		.loc 1 214 24 is_stmt 0 view .LVU582
 1534 0006 1820     		movs	r0, #24
 1535              	.LVL92:
 214:Src/LTC6811.c **** 	
 1536              		.loc 1 214 24 view .LVU583
 1537 0008 FFF7FEFF 		bl	malloc
 1538              	.LVL93:
 214:Src/LTC6811.c **** 	
 1539              		.loc 1 214 24 view .LVU584
 1540 000c 0446     		mov	r4, r0
 1541              	.LVL94:
 216:Src/LTC6811.c **** 
 1542              		.loc 1 216 2 is_stmt 1 view .LVU585
 1543 000e 3946     		mov	r1, r7
 1544 0010 4FF41870 		mov	r0, #608
 1545              	.LVL95:
 216:Src/LTC6811.c **** 
 1546              		.loc 1 216 2 is_stmt 0 view .LVU586
 1547 0014 FFF7FEFF 		bl	sendAddressCommand
 1548              	.LVL96:
 218:Src/LTC6811.c **** 	
 1549              		.loc 1 218 2 is_stmt 1 view .LVU587
 1550 0018 3220     		movs	r0, #50
 1551 001a FFF7FEFF 		bl	HAL_Delay
 1552              	.LVL97:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 49


 220:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1553              		.loc 1 220 2 view .LVU588
 220:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1554              		.loc 1 220 14 is_stmt 0 view .LVU589
 1555 001e 2246     		mov	r2, r4
 1556 0020 3946     		mov	r1, r7
 1557 0022 0420     		movs	r0, #4
 1558 0024 FFF7FEFF 		bl	readRegister
 1559              	.LVL98:
 1560 0028 0646     		mov	r6, r0
 1561              	.LVL99:
 221:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup4to6, address, voltage);
 1562              		.loc 1 221 2 is_stmt 1 view .LVU590
 222:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1563              		.loc 1 222 2 view .LVU591
 222:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1564              		.loc 1 222 14 is_stmt 0 view .LVU592
 1565 002a 2246     		mov	r2, r4
 1566 002c 3946     		mov	r1, r7
 1567 002e 0620     		movs	r0, #6
 1568 0030 FFF7FEFF 		bl	readRegister
 1569              	.LVL100:
 223:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup7to9, address, voltage);
 1570              		.loc 1 223 2 is_stmt 1 view .LVU593
 1571 0034 0640     		ands	r6, r6, r0
 1572              	.LVL101:
 223:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup7to9, address, voltage);
 1573              		.loc 1 223 2 is_stmt 0 view .LVU594
 1574 0036 F6B2     		uxtb	r6, r6
 1575              	.LVL102:
 224:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1576              		.loc 1 224 2 is_stmt 1 view .LVU595
 224:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1577              		.loc 1 224 14 is_stmt 0 view .LVU596
 1578 0038 2246     		mov	r2, r4
 1579 003a 3946     		mov	r1, r7
 1580 003c 0820     		movs	r0, #8
 1581              	.LVL103:
 224:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1582              		.loc 1 224 14 view .LVU597
 1583 003e FFF7FEFF 		bl	readRegister
 1584              	.LVL104:
 225:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup10to12, address, voltage);
 1585              		.loc 1 225 2 is_stmt 1 view .LVU598
 1586 0042 0640     		ands	r6, r6, r0
 1587              	.LVL105:
 226:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1588              		.loc 1 226 2 view .LVU599
 226:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1589              		.loc 1 226 14 is_stmt 0 view .LVU600
 1590 0044 2246     		mov	r2, r4
 1591 0046 3946     		mov	r1, r7
 1592 0048 0A20     		movs	r0, #10
 1593              	.LVL106:
 226:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1594              		.loc 1 226 14 view .LVU601
 1595 004a FFF7FEFF 		bl	readRegister
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 50


 1596              	.LVL107:
 227:Src/LTC6811.c **** 	
 1597              		.loc 1 227 2 is_stmt 1 view .LVU602
 1598 004e 0640     		ands	r6, r6, r0
 1599              	.LVL108:
 229:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1600              		.loc 1 229 2 view .LVU603
 1601              	.LBB8:
 229:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1602              		.loc 1 229 7 view .LVU604
 229:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1603              		.loc 1 229 15 is_stmt 0 view .LVU605
 1604 0050 0023     		movs	r3, #0
 1605              	.LVL109:
 1606              	.L54:
 229:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1607              		.loc 1 229 2 discriminator 1 view .LVU606
 1608 0052 0B2B     		cmp	r3, #11
 1609 0054 06D8     		bhi	.L57
 230:Src/LTC6811.c **** 	}
 1610              		.loc 1 230 3 is_stmt 1 discriminator 3 view .LVU607
 230:Src/LTC6811.c **** 	}
 1611              		.loc 1 230 27 is_stmt 0 discriminator 3 view .LVU608
 1612 0056 34F81320 		ldrh	r2, [r4, r3, lsl #1]
 230:Src/LTC6811.c **** 	}
 1613              		.loc 1 230 18 discriminator 3 view .LVU609
 1614 005a 25F81320 		strh	r2, [r5, r3, lsl #1]	@ movhi
 229:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1615              		.loc 1 229 31 discriminator 3 view .LVU610
 1616 005e 0133     		adds	r3, r3, #1
 1617              	.LVL110:
 229:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1618              		.loc 1 229 31 discriminator 3 view .LVU611
 1619 0060 DBB2     		uxtb	r3, r3
 1620              	.LVL111:
 229:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1621              		.loc 1 229 31 discriminator 3 view .LVU612
 1622 0062 F6E7     		b	.L54
 1623              	.L57:
 229:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1624              		.loc 1 229 31 discriminator 3 view .LVU613
 1625              	.LBE8:
 233:Src/LTC6811.c **** 	
 1626              		.loc 1 233 2 is_stmt 1 view .LVU614
 1627 0064 2046     		mov	r0, r4
 1628              	.LVL112:
 233:Src/LTC6811.c **** 	
 1629              		.loc 1 233 2 is_stmt 0 view .LVU615
 1630 0066 FFF7FEFF 		bl	free
 1631              	.LVL113:
 235:Src/LTC6811.c **** 	
 1632              		.loc 1 235 2 is_stmt 1 view .LVU616
 237:Src/LTC6811.c **** 
 1633              		.loc 1 237 1 is_stmt 0 view .LVU617
 1634 006a 3046     		mov	r0, r6
 1635 006c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 237:Src/LTC6811.c **** 
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 51


 1636              		.loc 1 237 1 view .LVU618
 1637              		.cfi_endproc
 1638              	.LFE69:
 1640              		.section	.text.readAllCellVoltages,"ax",%progbits
 1641              		.align	1
 1642              		.global	readAllCellVoltages
 1643              		.syntax unified
 1644              		.thumb
 1645              		.thumb_func
 1646              		.fpu softvfp
 1648              	readAllCellVoltages:
 1649              	.LVL114:
 1650              	.LFB70:
 239:Src/LTC6811.c **** 	
 1651              		.loc 1 239 84 is_stmt 1 view -0
 1652              		.cfi_startproc
 1653              		@ args = 80, pretend = 16, frame = 0
 1654              		@ frame_needed = 1, uses_anonymous_args = 0
 239:Src/LTC6811.c **** 	
 1655              		.loc 1 239 84 is_stmt 0 view .LVU620
 1656 0000 84B0     		sub	sp, sp, #16
 1657              	.LCFI28:
 1658              		.cfi_def_cfa_offset 16
 1659 0002 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1660              	.LCFI29:
 1661              		.cfi_def_cfa_offset 48
 1662              		.cfi_offset 3, -48
 1663              		.cfi_offset 4, -44
 1664              		.cfi_offset 5, -40
 1665              		.cfi_offset 6, -36
 1666              		.cfi_offset 7, -32
 1667              		.cfi_offset 8, -28
 1668              		.cfi_offset 9, -24
 1669              		.cfi_offset 14, -20
 1670 0006 00AF     		add	r7, sp, #0
 1671              	.LCFI30:
 1672              		.cfi_def_cfa_register 7
 1673 0008 07F12004 		add	r4, r7, #32
 1674 000c 84E80F00 		stm	r4, {r0, r1, r2, r3}
 1675 0010 FE6E     		ldr	r6, [r7, #108]
 259:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 1676              		.loc 1 259 2 is_stmt 1 view .LVU621
 259:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 1677              		.loc 1 259 27 is_stmt 0 view .LVU622
 1678 0012 97F84130 		ldrb	r3, [r7, #65]	@ zero_extendqisi2
 1679              	.LVL115:
 259:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 1680              		.loc 1 259 11 view .LVU623
 1681 0016 5B00     		lsls	r3, r3, #1
 1682              	.LVL116:
 259:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 1683              		.loc 1 259 11 view .LVU624
 1684 0018 0733     		adds	r3, r3, #7
 1685 001a 03F47E73 		and	r3, r3, #1016
 1686 001e ADEB030D 		sub	sp, sp, r3
 1687 0022 6D46     		mov	r5, sp
 1688              	.LVL117:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 52


 260:Src/LTC6811.c **** 	bool dataValid = true;
 1689              		.loc 1 260 2 is_stmt 1 view .LVU625
 260:Src/LTC6811.c **** 	bool dataValid = true;
 1690              		.loc 1 260 20 is_stmt 0 view .LVU626
 1691 0024 97F82080 		ldrb	r8, [r7, #32]	@ zero_extendqisi2
 1692              	.LVL118:
 260:Src/LTC6811.c **** 	bool dataValid = true;
 1693              		.loc 1 260 7 view .LVU627
 1694 0028 08F10703 		add	r3, r8, #7
 1695 002c 03F4FC73 		and	r3, r3, #504
 1696 0030 ADEB030D 		sub	sp, sp, r3
 1697 0034 E946     		mov	r9, sp
 1698              	.LVL119:
 261:Src/LTC6811.c **** 
 1699              		.loc 1 261 2 is_stmt 1 view .LVU628
 263:Src/LTC6811.c **** 
 1700              		.loc 1 263 2 view .LVU629
 1701              	.LBB9:
 263:Src/LTC6811.c **** 
 1702              		.loc 1 263 7 view .LVU630
 263:Src/LTC6811.c **** 
 1703              		.loc 1 263 15 is_stmt 0 view .LVU631
 1704 0036 0024     		movs	r4, #0
 263:Src/LTC6811.c **** 
 1705              		.loc 1 263 2 view .LVU632
 1706 0038 01E0     		b	.L59
 1707              	.LVL120:
 1708              	.L69:
 263:Src/LTC6811.c **** 
 1709              		.loc 1 263 41 discriminator 2 view .LVU633
 1710 003a 0134     		adds	r4, r4, #1
 1711              	.LVL121:
 263:Src/LTC6811.c **** 
 1712              		.loc 1 263 41 discriminator 2 view .LVU634
 1713 003c E4B2     		uxtb	r4, r4
 1714              	.LVL122:
 1715              	.L59:
 263:Src/LTC6811.c **** 
 1716              		.loc 1 263 2 discriminator 1 view .LVU635
 1717 003e 4445     		cmp	r4, r8
 1718 0040 16D2     		bcs	.L68
 265:Src/LTC6811.c **** 
 1719              		.loc 1 265 3 is_stmt 1 view .LVU636
 265:Src/LTC6811.c **** 
 1720              		.loc 1 265 18 is_stmt 0 view .LVU637
 1721 0042 07F12003 		add	r3, r7, #32
 1722 0046 2344     		add	r3, r3, r4
 1723 0048 2946     		mov	r1, r5
 1724 004a 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1725 004c FFF7FEFF 		bl	readCellVoltage
 1726              	.LVL123:
 265:Src/LTC6811.c **** 
 1727              		.loc 1 265 16 view .LVU638
 1728 0050 09F80400 		strb	r0, [r9, r4]
 267:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1729              		.loc 1 267 3 is_stmt 1 view .LVU639
 1730              	.LBB10:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 53


 267:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1731              		.loc 1 267 8 view .LVU640
 1732              	.LVL124:
 267:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1733              		.loc 1 267 16 is_stmt 0 view .LVU641
 1734 0054 0023     		movs	r3, #0
 1735              	.LVL125:
 1736              	.L60:
 267:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1737              		.loc 1 267 3 discriminator 1 view .LVU642
 1738 0056 0B2B     		cmp	r3, #11
 1739 0058 EFD8     		bhi	.L69
 268:Src/LTC6811.c **** 		}
 1740              		.loc 1 268 4 is_stmt 1 discriminator 3 view .LVU643
 268:Src/LTC6811.c **** 		}
 1741              		.loc 1 268 15 is_stmt 0 discriminator 3 view .LVU644
 1742 005a 04EB4401 		add	r1, r4, r4, lsl #1
 1743 005e CA00     		lsls	r2, r1, #3
 1744 0060 3244     		add	r2, r2, r6
 268:Src/LTC6811.c **** 		}
 1745              		.loc 1 268 36 discriminator 3 view .LVU645
 1746 0062 35F81310 		ldrh	r1, [r5, r3, lsl #1]
 268:Src/LTC6811.c **** 		}
 1747              		.loc 1 268 22 discriminator 3 view .LVU646
 1748 0066 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 267:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1749              		.loc 1 267 32 discriminator 3 view .LVU647
 1750 006a 0133     		adds	r3, r3, #1
 1751              	.LVL126:
 267:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1752              		.loc 1 267 32 discriminator 3 view .LVU648
 1753 006c DBB2     		uxtb	r3, r3
 1754              	.LVL127:
 267:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1755              		.loc 1 267 32 discriminator 3 view .LVU649
 1756 006e F2E7     		b	.L60
 1757              	.LVL128:
 1758              	.L68:
 267:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1759              		.loc 1 267 32 discriminator 3 view .LVU650
 1760              	.LBE10:
 1761              	.LBE9:
 1762              	.LBB11:
 272:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 1763              		.loc 1 272 15 view .LVU651
 1764 0070 0023     		movs	r3, #0
 1765              	.LBE11:
 261:Src/LTC6811.c **** 
 1766              		.loc 1 261 7 view .LVU652
 1767 0072 0120     		movs	r0, #1
 1768 0074 01E0     		b	.L63
 1769              	.LVL129:
 1770              	.L64:
 1771              	.LBB12:
 272:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 1772              		.loc 1 272 41 discriminator 2 view .LVU653
 1773 0076 0133     		adds	r3, r3, #1
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 54


 1774              	.LVL130:
 272:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 1775              		.loc 1 272 41 discriminator 2 view .LVU654
 1776 0078 DBB2     		uxtb	r3, r3
 1777              	.LVL131:
 1778              	.L63:
 272:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 1779              		.loc 1 272 2 discriminator 1 view .LVU655
 1780 007a 4345     		cmp	r3, r8
 1781 007c 05D2     		bcs	.L70
 273:Src/LTC6811.c **** 			dataValid = false;
 1782              		.loc 1 273 3 is_stmt 1 view .LVU656
 273:Src/LTC6811.c **** 			dataValid = false;
 1783              		.loc 1 273 16 is_stmt 0 view .LVU657
 1784 007e 19F80320 		ldrb	r2, [r9, r3]	@ zero_extendqisi2
 273:Src/LTC6811.c **** 			dataValid = false;
 1785              		.loc 1 273 6 view .LVU658
 1786 0082 002A     		cmp	r2, #0
 1787 0084 F7D1     		bne	.L64
 274:Src/LTC6811.c **** 	}
 1788              		.loc 1 274 14 view .LVU659
 1789 0086 1046     		mov	r0, r2
 1790              	.LVL132:
 274:Src/LTC6811.c **** 	}
 1791              		.loc 1 274 14 view .LVU660
 1792 0088 F5E7     		b	.L64
 1793              	.LVL133:
 1794              	.L70:
 274:Src/LTC6811.c **** 	}
 1795              		.loc 1 274 14 view .LVU661
 1796              	.LBE12:
 278:Src/LTC6811.c **** 
 1797              		.loc 1 278 1 view .LVU662
 1798 008a BD46     		mov	sp, r7
 1799              	.LCFI31:
 1800              		.cfi_def_cfa_register 13
 1801              		@ sp needed
 1802 008c BDE8F843 		pop	{r3, r4, r5, r6, r7, r8, r9, lr}
 1803              	.LCFI32:
 1804              		.cfi_restore 14
 1805              		.cfi_restore 9
 1806              		.cfi_restore 8
 1807              		.cfi_restore 7
 1808              		.cfi_restore 6
 1809              		.cfi_restore 5
 1810              		.cfi_restore 4
 1811              		.cfi_restore 3
 1812              		.cfi_def_cfa_offset 16
 1813              	.LVL134:
 278:Src/LTC6811.c **** 
 1814              		.loc 1 278 1 view .LVU663
 1815 0090 04B0     		add	sp, sp, #16
 1816              	.LCFI33:
 1817              		.cfi_def_cfa_offset 0
 1818 0092 7047     		bx	lr
 1819              		.cfi_endproc
 1820              	.LFE70:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 55


 1822              		.section	.text.checkCellConnection,"ax",%progbits
 1823              		.align	1
 1824              		.global	checkCellConnection
 1825              		.syntax unified
 1826              		.thumb
 1827              		.thumb_func
 1828              		.fpu softvfp
 1830              	checkCellConnection:
 1831              	.LVL135:
 1832              	.LFB74:
 377:Src/LTC6811.c **** 		
 1833              		.loc 1 377 77 is_stmt 1 view -0
 1834              		.cfi_startproc
 1835              		@ args = 0, pretend = 0, frame = 24
 1836              		@ frame_needed = 0, uses_anonymous_args = 0
 377:Src/LTC6811.c **** 		
 1837              		.loc 1 377 77 is_stmt 0 view .LVU665
 1838 0000 30B5     		push	{r4, r5, lr}
 1839              	.LCFI34:
 1840              		.cfi_def_cfa_offset 12
 1841              		.cfi_offset 4, -12
 1842              		.cfi_offset 5, -8
 1843              		.cfi_offset 14, -4
 1844 0002 87B0     		sub	sp, sp, #28
 1845              	.LCFI35:
 1846              		.cfi_def_cfa_offset 40
 1847 0004 0446     		mov	r4, r0
 1848 0006 0D46     		mov	r5, r1
 379:Src/LTC6811.c **** 	bool disconnect = false;
 1849              		.loc 1 379 2 is_stmt 1 view .LVU666
 380:Src/LTC6811.c **** 	
 1850              		.loc 1 380 2 view .LVU667
 1851              	.LVL136:
 383:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1852              		.loc 1 383 2 view .LVU668
 1853 0008 40F22920 		movw	r0, #553
 1854              	.LVL137:
 383:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1855              		.loc 1 383 2 is_stmt 0 view .LVU669
 1856 000c FFF7FEFF 		bl	sendBroadcastCommand
 1857              	.LVL138:
 384:Src/LTC6811.c **** 	
 1858              		.loc 1 384 2 is_stmt 1 view .LVU670
 1859 0010 40F22920 		movw	r0, #553
 1860 0014 FFF7FEFF 		bl	sendBroadcastCommand
 1861              	.LVL139:
 386:Src/LTC6811.c **** 	
 1862              		.loc 1 386 2 view .LVU671
 1863 0018 0F20     		movs	r0, #15
 1864 001a FFF7FEFF 		bl	HAL_Delay
 1865              	.LVL140:
 388:Src/LTC6811.c **** 	
 1866              		.loc 1 388 2 view .LVU672
 1867 001e 6946     		mov	r1, sp
 1868 0020 0020     		movs	r0, #0
 1869 0022 FFF7FEFF 		bl	readCellVoltage
 1870              	.LVL141:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 56


 390:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1871              		.loc 1 390 2 view .LVU673
 1872              	.LBB13:
 390:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1873              		.loc 1 390 7 view .LVU674
 390:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1874              		.loc 1 390 15 is_stmt 0 view .LVU675
 1875 0026 0023     		movs	r3, #0
 1876              	.LBE13:
 380:Src/LTC6811.c **** 	
 1877              		.loc 1 380 7 view .LVU676
 1878 0028 1846     		mov	r0, r3
 1879              	.LBB14:
 390:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1880              		.loc 1 390 2 view .LVU677
 1881 002a 03E0     		b	.L72
 1882              	.LVL142:
 1883              	.L73:
 397:Src/LTC6811.c **** 		}
 1884              		.loc 1 397 4 is_stmt 1 view .LVU678
 397:Src/LTC6811.c **** 		}
 1885              		.loc 1 397 22 is_stmt 0 view .LVU679
 1886 002c 0122     		movs	r2, #1
 1887 002e EA54     		strb	r2, [r5, r3]
 1888              	.LVL143:
 1889              	.L74:
 390:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1890              		.loc 1 390 31 discriminator 2 view .LVU680
 1891 0030 0133     		adds	r3, r3, #1
 1892              	.LVL144:
 390:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1893              		.loc 1 390 31 discriminator 2 view .LVU681
 1894 0032 DBB2     		uxtb	r3, r3
 1895              	.LVL145:
 1896              	.L72:
 390:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1897              		.loc 1 390 2 discriminator 1 view .LVU682
 1898 0034 0B2B     		cmp	r3, #11
 1899 0036 0ED8     		bhi	.L77
 392:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 1900              		.loc 1 392 3 is_stmt 1 view .LVU683
 392:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 1901              		.loc 1 392 19 is_stmt 0 view .LVU684
 1902 0038 34F81320 		ldrh	r2, [r4, r3, lsl #1]
 392:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 1903              		.loc 1 392 36 view .LVU685
 1904 003c 06A9     		add	r1, sp, #24
 1905 003e 01EB4301 		add	r1, r1, r3, lsl #1
 1906 0042 31F8181C 		ldrh	r1, [r1, #-24]
 392:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 1907              		.loc 1 392 23 view .LVU686
 1908 0046 521A     		subs	r2, r2, r1
 392:Src/LTC6811.c **** 			cellConnection[i] = 0; // cell is disconnected
 1909              		.loc 1 392 6 view .LVU687
 1910 0048 B2F5FA7F 		cmp	r2, #500
 1911 004c EEDD     		ble	.L73
 393:Src/LTC6811.c **** 			disconnect = true;
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 57


 1912              		.loc 1 393 4 is_stmt 1 view .LVU688
 393:Src/LTC6811.c **** 			disconnect = true;
 1913              		.loc 1 393 22 is_stmt 0 view .LVU689
 1914 004e 0022     		movs	r2, #0
 1915 0050 EA54     		strb	r2, [r5, r3]
 394:Src/LTC6811.c **** 		}
 1916              		.loc 1 394 4 is_stmt 1 view .LVU690
 1917              	.LVL146:
 394:Src/LTC6811.c **** 		}
 1918              		.loc 1 394 15 is_stmt 0 view .LVU691
 1919 0052 0120     		movs	r0, #1
 1920 0054 ECE7     		b	.L74
 1921              	.LVL147:
 1922              	.L77:
 394:Src/LTC6811.c **** 		}
 1923              		.loc 1 394 15 view .LVU692
 1924              	.LBE14:
 401:Src/LTC6811.c **** 
 1925              		.loc 1 401 1 view .LVU693
 1926 0056 07B0     		add	sp, sp, #28
 1927              	.LCFI36:
 1928              		.cfi_def_cfa_offset 12
 1929              		@ sp needed
 1930 0058 30BD     		pop	{r4, r5, pc}
 401:Src/LTC6811.c **** 
 1931              		.loc 1 401 1 view .LVU694
 1932              		.cfi_endproc
 1933              	.LFE74:
 1935              		.section	.text.checkAllCellConnections,"ax",%progbits
 1936              		.align	1
 1937              		.global	checkAllCellConnections
 1938              		.syntax unified
 1939              		.thumb
 1940              		.thumb_func
 1941              		.fpu softvfp
 1943              	checkAllCellConnections:
 1944              	.LVL148:
 1945              	.LFB75:
 403:Src/LTC6811.c **** 	
 1946              		.loc 1 403 133 is_stmt 1 view -0
 1947              		.cfi_startproc
 1948              		@ args = 88, pretend = 16, frame = 40
 1949              		@ frame_needed = 0, uses_anonymous_args = 0
 403:Src/LTC6811.c **** 	
 1950              		.loc 1 403 133 is_stmt 0 view .LVU696
 1951 0000 84B0     		sub	sp, sp, #16
 1952              	.LCFI37:
 1953              		.cfi_def_cfa_offset 16
 1954 0002 70B5     		push	{r4, r5, r6, lr}
 1955              	.LCFI38:
 1956              		.cfi_def_cfa_offset 32
 1957              		.cfi_offset 4, -32
 1958              		.cfi_offset 5, -28
 1959              		.cfi_offset 6, -24
 1960              		.cfi_offset 14, -20
 1961 0004 8AB0     		sub	sp, sp, #40
 1962              	.LCFI39:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 58


 1963              		.cfi_def_cfa_offset 72
 1964 0006 0EAC     		add	r4, sp, #56
 1965 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 1966 000c 219E     		ldr	r6, [sp, #132]
 1967 000e 229D     		ldr	r5, [sp, #136]
 405:Src/LTC6811.c **** 	bool connectionBuffer[12];
 1968              		.loc 1 405 2 is_stmt 1 view .LVU697
 406:Src/LTC6811.c **** 	bool individual_check;
 1969              		.loc 1 406 2 view .LVU698
 407:Src/LTC6811.c **** 	bool disconnect = false;
 1970              		.loc 1 407 2 view .LVU699
 408:Src/LTC6811.c **** 	
 1971              		.loc 1 408 2 view .LVU700
 1972              	.LVL149:
 410:Src/LTC6811.c **** 
 1973              		.loc 1 410 2 view .LVU701
 1974              	.LBB15:
 410:Src/LTC6811.c **** 
 1975              		.loc 1 410 7 view .LVU702
 410:Src/LTC6811.c **** 
 1976              		.loc 1 410 15 is_stmt 0 view .LVU703
 1977 0010 0024     		movs	r4, #0
 410:Src/LTC6811.c **** 
 1978              		.loc 1 410 2 view .LVU704
 1979 0012 14E0     		b	.L79
 1980              	.LVL150:
 1981              	.L88:
 415:Src/LTC6811.c **** 		disconnect = disconnect | individual_check;
 1982              		.loc 1 415 3 is_stmt 1 view .LVU705
 415:Src/LTC6811.c **** 		disconnect = disconnect | individual_check;
 1983              		.loc 1 415 22 is_stmt 0 view .LVU706
 1984 0014 01A9     		add	r1, sp, #4
 1985 0016 04A8     		add	r0, sp, #16
 1986 0018 FFF7FEFF 		bl	checkCellConnection
 1987              	.LVL151:
 416:Src/LTC6811.c **** 
 1988              		.loc 1 416 3 is_stmt 1 view .LVU707
 418:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 1989              		.loc 1 418 3 view .LVU708
 1990              	.LBB16:
 418:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 1991              		.loc 1 418 8 view .LVU709
 418:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 1992              		.loc 1 418 16 is_stmt 0 view .LVU710
 1993 001c 0023     		movs	r3, #0
 1994              	.LVL152:
 1995              	.L81:
 418:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 1996              		.loc 1 418 3 discriminator 1 view .LVU711
 1997 001e 0B2B     		cmp	r3, #11
 1998 0020 0BD8     		bhi	.L86
 419:Src/LTC6811.c **** 			if (connectionBuffer[j] == 0)
 1999              		.loc 1 419 4 is_stmt 1 view .LVU712
 419:Src/LTC6811.c **** 			if (connectionBuffer[j] == 0)
 2000              		.loc 1 419 18 is_stmt 0 view .LVU713
 2001 0022 04EB4401 		add	r1, r4, r4, lsl #1
 2002 0026 8A00     		lsls	r2, r1, #2
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 59


 2003 0028 2A44     		add	r2, r2, r5
 419:Src/LTC6811.c **** 			if (connectionBuffer[j] == 0)
 2004              		.loc 1 419 43 view .LVU714
 2005 002a 0AA9     		add	r1, sp, #40
 2006 002c 1944     		add	r1, r1, r3
 2007 002e 11F8241C 		ldrb	r1, [r1, #-36]	@ zero_extendqisi2
 419:Src/LTC6811.c **** 			if (connectionBuffer[j] == 0)
 2008              		.loc 1 419 25 view .LVU715
 2009 0032 D154     		strb	r1, [r2, r3]
 420:Src/LTC6811.c **** 				dcCell = (i * 12) + j;
 2010              		.loc 1 420 4 is_stmt 1 view .LVU716
 418:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2011              		.loc 1 418 32 is_stmt 0 view .LVU717
 2012 0034 0133     		adds	r3, r3, #1
 2013              	.LVL153:
 418:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2014              		.loc 1 418 32 view .LVU718
 2015 0036 DBB2     		uxtb	r3, r3
 2016              	.LVL154:
 418:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2017              		.loc 1 418 32 view .LVU719
 2018 0038 F1E7     		b	.L81
 2019              	.L86:
 418:Src/LTC6811.c **** 			cellConnection[i][j] = connectionBuffer[j];
 2020              		.loc 1 418 32 view .LVU720
 2021              	.LBE16:
 410:Src/LTC6811.c **** 
 2022              		.loc 1 410 41 discriminator 2 view .LVU721
 2023 003a 0134     		adds	r4, r4, #1
 2024              	.LVL155:
 410:Src/LTC6811.c **** 
 2025              		.loc 1 410 41 discriminator 2 view .LVU722
 2026 003c E4B2     		uxtb	r4, r4
 2027              	.LVL156:
 2028              	.L79:
 410:Src/LTC6811.c **** 
 2029              		.loc 1 410 29 discriminator 1 view .LVU723
 2030 003e 9DF83830 		ldrb	r3, [sp, #56]	@ zero_extendqisi2
 410:Src/LTC6811.c **** 
 2031              		.loc 1 410 2 discriminator 1 view .LVU724
 2032 0042 A342     		cmp	r3, r4
 2033 0044 10D9     		bls	.L87
 2034              	.LBB17:
 412:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2035              		.loc 1 412 16 view .LVU725
 2036 0046 0023     		movs	r3, #0
 2037              	.L83:
 2038              	.LVL157:
 412:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2039              		.loc 1 412 3 discriminator 1 view .LVU726
 2040 0048 0B2B     		cmp	r3, #11
 2041 004a E3D8     		bhi	.L88
 413:Src/LTC6811.c **** 
 2042              		.loc 1 413 4 is_stmt 1 discriminator 3 view .LVU727
 413:Src/LTC6811.c **** 
 2043              		.loc 1 413 34 is_stmt 0 discriminator 3 view .LVU728
 2044 004c 04EB4401 		add	r1, r4, r4, lsl #1
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 60


 2045 0050 CA00     		lsls	r2, r1, #3
 2046 0052 3244     		add	r2, r2, r6
 413:Src/LTC6811.c **** 
 2047              		.loc 1 413 37 discriminator 3 view .LVU729
 2048 0054 32F81310 		ldrh	r1, [r2, r3, lsl #1]
 413:Src/LTC6811.c **** 
 2049              		.loc 1 413 21 discriminator 3 view .LVU730
 2050 0058 0AAA     		add	r2, sp, #40
 2051 005a 02EB4302 		add	r2, r2, r3, lsl #1
 2052 005e 22F8181C 		strh	r1, [r2, #-24]	@ movhi
 412:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2053              		.loc 1 412 32 discriminator 3 view .LVU731
 2054 0062 0133     		adds	r3, r3, #1
 2055              	.LVL158:
 412:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2056              		.loc 1 412 32 discriminator 3 view .LVU732
 2057 0064 DBB2     		uxtb	r3, r3
 2058              	.LVL159:
 412:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2059              		.loc 1 412 32 discriminator 3 view .LVU733
 2060 0066 EFE7     		b	.L83
 2061              	.LVL160:
 2062              	.L87:
 412:Src/LTC6811.c **** 			voltageBuffer[k] = cellVoltage[i][k];
 2063              		.loc 1 412 32 discriminator 3 view .LVU734
 2064              	.LBE17:
 2065              	.LBE15:
 424:Src/LTC6811.c **** 
 2066              		.loc 1 424 1 view .LVU735
 2067 0068 0AB0     		add	sp, sp, #40
 2068              	.LCFI40:
 2069              		.cfi_def_cfa_offset 32
 2070              		@ sp needed
 2071 006a BDE87040 		pop	{r4, r5, r6, lr}
 2072              	.LCFI41:
 2073              		.cfi_restore 14
 2074              		.cfi_restore 6
 2075              		.cfi_restore 5
 2076              		.cfi_restore 4
 2077              		.cfi_def_cfa_offset 16
 2078              	.LVL161:
 424:Src/LTC6811.c **** 
 2079              		.loc 1 424 1 view .LVU736
 2080 006e 04B0     		add	sp, sp, #16
 2081              	.LCFI42:
 2082              		.cfi_def_cfa_offset 0
 2083 0070 7047     		bx	lr
 2084              		.cfi_endproc
 2085              	.LFE75:
 2087              		.global	__aeabi_ui2d
 2088              		.global	__aeabi_ddiv
 2089              		.global	__aeabi_dmul
 2090              		.global	__aeabi_dsub
 2091              		.global	__aeabi_dadd
 2092              		.global	__aeabi_d2uiz
 2093              		.section	.text.readCellTemp,"ax",%progbits
 2094              		.align	1
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 61


 2095              		.global	readCellTemp
 2096              		.syntax unified
 2097              		.thumb
 2098              		.thumb_func
 2099              		.fpu softvfp
 2101              	readCellTemp:
 2102              	.LVL162:
 2103              	.LFB71:
 280:Src/LTC6811.c **** 	
 2104              		.loc 1 280 94 is_stmt 1 view -0
 2105              		.cfi_startproc
 2106              		@ args = 0, pretend = 0, frame = 16
 2107              		@ frame_needed = 0, uses_anonymous_args = 0
 280:Src/LTC6811.c **** 	
 2108              		.loc 1 280 94 is_stmt 0 view .LVU738
 2109 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2110              	.LCFI43:
 2111              		.cfi_def_cfa_offset 36
 2112              		.cfi_offset 4, -36
 2113              		.cfi_offset 5, -32
 2114              		.cfi_offset 6, -28
 2115              		.cfi_offset 7, -24
 2116              		.cfi_offset 8, -20
 2117              		.cfi_offset 9, -16
 2118              		.cfi_offset 10, -12
 2119              		.cfi_offset 11, -8
 2120              		.cfi_offset 14, -4
 2121 0004 85B0     		sub	sp, sp, #20
 2122              	.LCFI44:
 2123              		.cfi_def_cfa_offset 56
 2124 0006 0546     		mov	r5, r0
 2125 0008 8B46     		mov	fp, r1
 2126 000a 1646     		mov	r6, r2
 2127 000c 1F46     		mov	r7, r3
 282:Src/LTC6811.c **** 	bool dataValid = true;
 2128              		.loc 1 282 2 is_stmt 1 view .LVU739
 2129              	.LVL163:
 283:Src/LTC6811.c **** 	uint16_t *temp;
 2130              		.loc 1 283 2 view .LVU740
 284:Src/LTC6811.c **** 	double dummy[4];
 2131              		.loc 1 284 2 view .LVU741
 285:Src/LTC6811.c **** 	double conversion[4];
 2132              		.loc 1 285 2 view .LVU742
 286:Src/LTC6811.c **** 	
 2133              		.loc 1 286 2 view .LVU743
 288:Src/LTC6811.c **** 	
 2134              		.loc 1 288 2 view .LVU744
 288:Src/LTC6811.c **** 	
 2135              		.loc 1 288 21 is_stmt 0 view .LVU745
 2136 000e 0820     		movs	r0, #8
 2137              	.LVL164:
 288:Src/LTC6811.c **** 	
 2138              		.loc 1 288 21 view .LVU746
 2139 0010 FFF7FEFF 		bl	malloc
 2140              	.LVL165:
 288:Src/LTC6811.c **** 	
 2141              		.loc 1 288 21 view .LVU747
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 62


 2142 0014 8246     		mov	r10, r0
 2143              	.LVL166:
 290:Src/LTC6811.c **** 	
 2144              		.loc 1 290 2 is_stmt 1 view .LVU748
 2145 0016 2946     		mov	r1, r5
 2146 0018 4FF48C60 		mov	r0, #1120
 2147              	.LVL167:
 290:Src/LTC6811.c **** 	
 2148              		.loc 1 290 2 is_stmt 0 view .LVU749
 2149 001c FFF7FEFF 		bl	sendAddressCommand
 2150              	.LVL168:
 292:Src/LTC6811.c **** 	
 2151              		.loc 1 292 2 is_stmt 1 view .LVU750
 2152 0020 0F20     		movs	r0, #15
 2153 0022 FFF7FEFF 		bl	HAL_Delay
 2154              	.LVL169:
 294:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2155              		.loc 1 294 2 view .LVU751
 294:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2156              		.loc 1 294 14 is_stmt 0 view .LVU752
 2157 0026 5246     		mov	r2, r10
 2158 0028 2946     		mov	r1, r5
 2159 002a 0C20     		movs	r0, #12
 2160 002c FFF7FEFF 		bl	readRegister
 2161              	.LVL170:
 2162 0030 0446     		mov	r4, r0
 2163              	.LVL171:
 295:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupB, address, temp);
 2164              		.loc 1 295 2 is_stmt 1 view .LVU753
 296:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2165              		.loc 1 296 2 view .LVU754
 296:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 2166              		.loc 1 296 14 is_stmt 0 view .LVU755
 2167 0032 5246     		mov	r2, r10
 2168 0034 2946     		mov	r1, r5
 2169 0036 0E20     		movs	r0, #14
 2170 0038 FFF7FEFF 		bl	readRegister
 2171              	.LVL172:
 297:Src/LTC6811.c **** 	
 2172              		.loc 1 297 2 is_stmt 1 view .LVU756
 2173 003c 2040     		ands	r0, r0, r4
 2174              	.LVL173:
 297:Src/LTC6811.c **** 	
 2175              		.loc 1 297 2 is_stmt 0 view .LVU757
 2176 003e C3B2     		uxtb	r3, r0
 2177 0040 0393     		str	r3, [sp, #12]
 2178              	.LVL174:
 299:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2179              		.loc 1 299 2 is_stmt 1 view .LVU758
 2180              	.LBB18:
 299:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2181              		.loc 1 299 7 view .LVU759
 299:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2182              		.loc 1 299 15 is_stmt 0 view .LVU760
 2183 0042 0025     		movs	r5, #0
 299:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2184              		.loc 1 299 2 view .LVU761
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 63


 2185 0044 10E0     		b	.L90
 2186              	.LVL175:
 2187              	.L91:
 305:Src/LTC6811.c **** 		
 2188              		.loc 1 305 4 is_stmt 1 view .LVU762
 305:Src/LTC6811.c **** 		
 2189              		.loc 1 305 15 is_stmt 0 view .LVU763
 2190 0046 0023     		movs	r3, #0
 2191 0048 7355     		strb	r3, [r6, r5]
 2192 004a 21E0     		b	.L92
 2193              	.L93:
 312:Src/LTC6811.c **** 		
 2194              		.loc 1 312 4 is_stmt 1 view .LVU764
 312:Src/LTC6811.c **** 		
 2195              		.loc 1 312 17 is_stmt 0 view .LVU765
 2196 004c 0023     		movs	r3, #0
 2197 004e BB54     		strb	r3, [r7, r2]
 2198              	.L94:
 314:Src/LTC6811.c **** 			dummy[i] = (double) temp[i] / 10000; // convert from ADC value to voltage
 2199              		.loc 1 314 3 is_stmt 1 view .LVU766
 314:Src/LTC6811.c **** 			dummy[i] = (double) temp[i] / 10000; // convert from ADC value to voltage
 2200              		.loc 1 314 12 is_stmt 0 view .LVU767
 2201 0050 3AF80400 		ldrh	r0, [r10, r4]
 314:Src/LTC6811.c **** 			dummy[i] = (double) temp[i] / 10000; // convert from ADC value to voltage
 2202              		.loc 1 314 26 view .LVU768
 2203 0054 A0F56B53 		sub	r3, r0, #15040
 2204 0058 3C3B     		subs	r3, r3, #60
 2205 005a 9BB2     		uxth	r3, r3
 314:Src/LTC6811.c **** 			dummy[i] = (double) temp[i] / 10000; // convert from ADC value to voltage
 2206              		.loc 1 314 6 view .LVU769
 2207 005c 42F25442 		movw	r2, #9300
 2208 0060 9342     		cmp	r3, r2
 2209 0062 26D9     		bls	.L98
 2210              	.L95:
 299:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2211              		.loc 1 299 30 discriminator 2 view .LVU770
 2212 0064 0135     		adds	r5, r5, #1
 2213              	.LVL176:
 299:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2214              		.loc 1 299 30 discriminator 2 view .LVU771
 2215 0066 EDB2     		uxtb	r5, r5
 2216              	.LVL177:
 2217              	.L90:
 299:Src/LTC6811.c **** 		if ((temp[i] > 24400) || (temp[i] < 13000)) {
 2218              		.loc 1 299 2 discriminator 1 view .LVU772
 2219 0068 032D     		cmp	r5, #3
 2220 006a 00F2A480 		bhi	.L99
 300:Src/LTC6811.c **** 			dcFault[i] = true;
 2221              		.loc 1 300 3 is_stmt 1 view .LVU773
 300:Src/LTC6811.c **** 			dcFault[i] = true;
 2222              		.loc 1 300 12 is_stmt 0 view .LVU774
 2223 006e 2A46     		mov	r2, r5
 2224 0070 6C00     		lsls	r4, r5, #1
 2225 0072 3AF81530 		ldrh	r3, [r10, r5, lsl #1]
 300:Src/LTC6811.c **** 			dcFault[i] = true;
 2226              		.loc 1 300 25 view .LVU775
 2227 0076 A3F54B53 		sub	r3, r3, #12992
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 64


 2228 007a 083B     		subs	r3, r3, #8
 2229 007c 9BB2     		uxth	r3, r3
 300:Src/LTC6811.c **** 			dcFault[i] = true;
 2230              		.loc 1 300 6 view .LVU776
 2231 007e 42F68841 		movw	r1, #11400
 2232 0082 8B42     		cmp	r3, r1
 2233 0084 DFD9     		bls	.L91
 301:Src/LTC6811.c **** 			cellTemp[i] = 0x0000;
 2234              		.loc 1 301 4 is_stmt 1 view .LVU777
 301:Src/LTC6811.c **** 			cellTemp[i] = 0x0000;
 2235              		.loc 1 301 15 is_stmt 0 view .LVU778
 2236 0086 0123     		movs	r3, #1
 2237 0088 7355     		strb	r3, [r6, r5]
 302:Src/LTC6811.c **** 		}
 2238              		.loc 1 302 4 is_stmt 1 view .LVU779
 302:Src/LTC6811.c **** 		}
 2239              		.loc 1 302 16 is_stmt 0 view .LVU780
 2240 008a 0023     		movs	r3, #0
 2241 008c 2BF81530 		strh	r3, [fp, r5, lsl #1]	@ movhi
 2242              	.L92:
 307:Src/LTC6811.c **** 			tempFault[i] = true;
 2243              		.loc 1 307 3 is_stmt 1 view .LVU781
 307:Src/LTC6811.c **** 			tempFault[i] = true;
 2244              		.loc 1 307 12 is_stmt 0 view .LVU782
 2245 0090 3AF80430 		ldrh	r3, [r10, r4]
 307:Src/LTC6811.c **** 			tempFault[i] = true;
 2246              		.loc 1 307 26 view .LVU783
 2247 0094 A3F54B53 		sub	r3, r3, #12992
 2248 0098 083B     		subs	r3, r3, #8
 2249 009a 9BB2     		uxth	r3, r3
 307:Src/LTC6811.c **** 			tempFault[i] = true;
 2250              		.loc 1 307 6 view .LVU784
 2251 009c 40F63301 		movw	r1, #2099
 2252 00a0 8B42     		cmp	r3, r1
 2253 00a2 D3D8     		bhi	.L93
 308:Src/LTC6811.c **** 			cellTemp[i] = 0xFFFF;
 2254              		.loc 1 308 4 is_stmt 1 view .LVU785
 308:Src/LTC6811.c **** 			cellTemp[i] = 0xFFFF;
 2255              		.loc 1 308 17 is_stmt 0 view .LVU786
 2256 00a4 0123     		movs	r3, #1
 2257 00a6 BB54     		strb	r3, [r7, r2]
 309:Src/LTC6811.c **** 		}
 2258              		.loc 1 309 4 is_stmt 1 view .LVU787
 309:Src/LTC6811.c **** 		}
 2259              		.loc 1 309 16 is_stmt 0 view .LVU788
 2260 00a8 4FF6FF73 		movw	r3, #65535
 2261 00ac 2BF80430 		strh	r3, [fp, r4]	@ movhi
 2262 00b0 CEE7     		b	.L94
 2263              	.L98:
 315:Src/LTC6811.c **** 			// convert from voltage to temperature
 2264              		.loc 1 315 4 is_stmt 1 view .LVU789
 315:Src/LTC6811.c **** 			// convert from voltage to temperature
 2265              		.loc 1 315 15 is_stmt 0 view .LVU790
 2266 00b2 FFF7FEFF 		bl	__aeabi_ui2d
 2267              	.LVL178:
 315:Src/LTC6811.c **** 			// convert from voltage to temperature
 2268              		.loc 1 315 32 view .LVU791
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 65


 2269 00b6 44A3     		adr	r3, .L100
 2270 00b8 D3E90023 		ldrd	r2, [r3]
 2271 00bc FFF7FEFF 		bl	__aeabi_ddiv
 2272              	.LVL179:
 2273 00c0 CDE90001 		strd	r0, [sp]
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2274              		.loc 1 317 4 is_stmt 1 view .LVU792
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2275              		.loc 1 317 35 is_stmt 0 view .LVU793
 2276 00c4 42A3     		adr	r3, .L100+8
 2277 00c6 D3E90023 		ldrd	r2, [r3]
 2278 00ca FFF7FEFF 		bl	__aeabi_dmul
 2279              	.LVL180:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2280              		.loc 1 317 26 view .LVU794
 2281 00ce 0246     		mov	r2, r0
 2282 00d0 0B46     		mov	r3, r1
 2283 00d2 41A1     		adr	r1, .L100+16
 2284 00d4 D1E90001 		ldrd	r0, [r1]
 2285 00d8 FFF7FEFF 		bl	__aeabi_dsub
 2286              	.LVL181:
 2287 00dc 8046     		mov	r8, r0
 2288 00de 8946     		mov	r9, r1
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2289              		.loc 1 317 57 view .LVU795
 2290 00e0 0022     		movs	r2, #0
 2291 00e2 4FF08043 		mov	r3, #1073741824
 2292 00e6 DDE90001 		ldrd	r0, [sp]
 2293 00ea FFF7FEFF 		bl	pow
 2294              	.LVL182:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2295              		.loc 1 317 55 view .LVU796
 2296 00ee 3CA3     		adr	r3, .L100+24
 2297 00f0 D3E90023 		ldrd	r2, [r3]
 2298 00f4 FFF7FEFF 		bl	__aeabi_dmul
 2299              	.LVL183:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2300              		.loc 1 317 46 view .LVU797
 2301 00f8 0246     		mov	r2, r0
 2302 00fa 0B46     		mov	r3, r1
 2303 00fc 4046     		mov	r0, r8
 2304 00fe 4946     		mov	r1, r9
 2305 0100 FFF7FEFF 		bl	__aeabi_dadd
 2306              	.LVL184:
 2307 0104 8046     		mov	r8, r0
 2308 0106 8946     		mov	r9, r1
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2309              		.loc 1 317 84 view .LVU798
 2310 0108 0022     		movs	r2, #0
 2311 010a 3F4B     		ldr	r3, .L100+64
 2312 010c DDE90001 		ldrd	r0, [sp]
 2313 0110 FFF7FEFF 		bl	pow
 2314              	.LVL185:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2315              		.loc 1 317 82 view .LVU799
 2316 0114 34A3     		adr	r3, .L100+32
 2317 0116 D3E90023 		ldrd	r2, [r3]
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 66


 2318 011a FFF7FEFF 		bl	__aeabi_dmul
 2319              	.LVL186:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2320              		.loc 1 317 74 view .LVU800
 2321 011e 0246     		mov	r2, r0
 2322 0120 0B46     		mov	r3, r1
 2323 0122 4046     		mov	r0, r8
 2324 0124 4946     		mov	r1, r9
 2325 0126 FFF7FEFF 		bl	__aeabi_dsub
 2326              	.LVL187:
 2327 012a 8046     		mov	r8, r0
 2328 012c 8946     		mov	r9, r1
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2329              		.loc 1 317 111 view .LVU801
 2330 012e 0022     		movs	r2, #0
 2331 0130 364B     		ldr	r3, .L100+68
 2332 0132 DDE90001 		ldrd	r0, [sp]
 2333 0136 FFF7FEFF 		bl	pow
 2334              	.LVL188:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2335              		.loc 1 317 109 view .LVU802
 2336 013a 2DA3     		adr	r3, .L100+40
 2337 013c D3E90023 		ldrd	r2, [r3]
 2338 0140 FFF7FEFF 		bl	__aeabi_dmul
 2339              	.LVL189:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2340              		.loc 1 317 101 view .LVU803
 2341 0144 0246     		mov	r2, r0
 2342 0146 0B46     		mov	r3, r1
 2343 0148 4046     		mov	r0, r8
 2344 014a 4946     		mov	r1, r9
 2345 014c FFF7FEFF 		bl	__aeabi_dadd
 2346              	.LVL190:
 2347 0150 8046     		mov	r8, r0
 2348 0152 8946     		mov	r9, r1
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2349              		.loc 1 317 137 view .LVU804
 2350 0154 0022     		movs	r2, #0
 2351 0156 2E4B     		ldr	r3, .L100+72
 2352 0158 DDE90001 		ldrd	r0, [sp]
 2353 015c FFF7FEFF 		bl	pow
 2354              	.LVL191:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2355              		.loc 1 317 135 view .LVU805
 2356 0160 25A3     		adr	r3, .L100+48
 2357 0162 D3E90023 		ldrd	r2, [r3]
 2358 0166 FFF7FEFF 		bl	__aeabi_dmul
 2359              	.LVL192:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2360              		.loc 1 317 128 view .LVU806
 2361 016a 0246     		mov	r2, r0
 2362 016c 0B46     		mov	r3, r1
 2363 016e 4046     		mov	r0, r8
 2364 0170 4946     		mov	r1, r9
 2365 0172 FFF7FEFF 		bl	__aeabi_dsub
 2366              	.LVL193:
 2367 0176 8046     		mov	r8, r0
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 67


 2368 0178 8946     		mov	r9, r1
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2369              		.loc 1 317 165 view .LVU807
 2370 017a 0022     		movs	r2, #0
 2371 017c 254B     		ldr	r3, .L100+76
 2372 017e DDE90001 		ldrd	r0, [sp]
 2373 0182 FFF7FEFF 		bl	pow
 2374              	.LVL194:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2375              		.loc 1 317 163 view .LVU808
 2376 0186 1EA3     		adr	r3, .L100+56
 2377 0188 D3E90023 		ldrd	r2, [r3]
 2378 018c FFF7FEFF 		bl	__aeabi_dmul
 2379              	.LVL195:
 317:Src/LTC6811.c **** 			conversion[i] = 500 * (conversion[i] + 20); // map value to larger range
 2380              		.loc 1 317 154 view .LVU809
 2381 0190 0246     		mov	r2, r0
 2382 0192 0B46     		mov	r3, r1
 2383 0194 4046     		mov	r0, r8
 2384 0196 4946     		mov	r1, r9
 2385 0198 FFF7FEFF 		bl	__aeabi_dadd
 2386              	.LVL196:
 318:Src/LTC6811.c **** 			cellTemp[i] = (uint16_t) conversion[i];
 2387              		.loc 1 318 4 is_stmt 1 view .LVU810
 318:Src/LTC6811.c **** 			cellTemp[i] = (uint16_t) conversion[i];
 2388              		.loc 1 318 41 is_stmt 0 view .LVU811
 2389 019c 0022     		movs	r2, #0
 2390 019e 1E4B     		ldr	r3, .L100+80
 2391 01a0 FFF7FEFF 		bl	__aeabi_dadd
 2392              	.LVL197:
 318:Src/LTC6811.c **** 			cellTemp[i] = (uint16_t) conversion[i];
 2393              		.loc 1 318 24 view .LVU812
 2394 01a4 0022     		movs	r2, #0
 2395 01a6 1D4B     		ldr	r3, .L100+84
 2396 01a8 FFF7FEFF 		bl	__aeabi_dmul
 2397              	.LVL198:
 319:Src/LTC6811.c **** 			//cellTemp[i] = temp[i];
 2398              		.loc 1 319 4 is_stmt 1 view .LVU813
 319:Src/LTC6811.c **** 			//cellTemp[i] = temp[i];
 2399              		.loc 1 319 18 is_stmt 0 view .LVU814
 2400 01ac FFF7FEFF 		bl	__aeabi_d2uiz
 2401              	.LVL199:
 319:Src/LTC6811.c **** 			//cellTemp[i] = temp[i];
 2402              		.loc 1 319 16 view .LVU815
 2403 01b0 2BF80400 		strh	r0, [fp, r4]	@ movhi
 2404 01b4 56E7     		b	.L95
 2405              	.L99:
 319:Src/LTC6811.c **** 			//cellTemp[i] = temp[i];
 2406              		.loc 1 319 16 view .LVU816
 2407              	.LBE18:
 324:Src/LTC6811.c **** 	
 2408              		.loc 1 324 2 is_stmt 1 view .LVU817
 2409 01b6 5046     		mov	r0, r10
 2410 01b8 FFF7FEFF 		bl	free
 2411              	.LVL200:
 326:Src/LTC6811.c **** 	
 2412              		.loc 1 326 2 view .LVU818
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 68


 328:Src/LTC6811.c **** 
 2413              		.loc 1 328 1 is_stmt 0 view .LVU819
 2414 01bc 0398     		ldr	r0, [sp, #12]
 2415 01be 05B0     		add	sp, sp, #20
 2416              	.LCFI45:
 2417              		.cfi_def_cfa_offset 36
 2418              		@ sp needed
 2419 01c0 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2420              	.LVL201:
 2421              	.L101:
 328:Src/LTC6811.c **** 
 2422              		.loc 1 328 1 view .LVU820
 2423 01c4 AFF30080 		.align	3
 2424              	.L100:
 2425 01c8 00000000 		.word	0
 2426 01cc 0088C340 		.word	1086556160
 2427 01d0 00000000 		.word	0
 2428 01d4 30D0FB40 		.word	1090244656
 2429 01d8 00000000 		.word	0
 2430 01dc E06CE240 		.word	1088580832
 2431 01e0 00000000 		.word	0
 2432 01e4 386A0141 		.word	1090611768
 2433 01e8 00000000 		.word	0
 2434 01ec 1010F740 		.word	1089933328
 2435 01f0 00000000 		.word	0
 2436 01f4 E0FDE040 		.word	1088486880
 2437 01f8 00000000 		.word	0
 2438 01fc 005DBA40 		.word	1085955328
 2439 0200 7B14AE47 		.word	1202590843
 2440 0204 E1C88040 		.word	1082181857
 2441 0208 00000840 		.word	1074266112
 2442 020c 00001040 		.word	1074790400
 2443 0210 00001440 		.word	1075052544
 2444 0214 00001840 		.word	1075314688
 2445 0218 00003440 		.word	1077149696
 2446 021c 00407F40 		.word	1082081280
 2447              		.cfi_endproc
 2448              	.LFE71:
 2450              		.section	.text.readAllCellTemps,"ax",%progbits
 2451              		.align	1
 2452              		.global	readAllCellTemps
 2453              		.syntax unified
 2454              		.thumb
 2455              		.thumb_func
 2456              		.fpu softvfp
 2458              	readAllCellTemps:
 2459              	.LVL202:
 2460              	.LFB72:
 330:Src/LTC6811.c **** 	
 2461              		.loc 1 330 121 is_stmt 1 view -0
 2462              		.cfi_startproc
 2463              		@ args = 88, pretend = 16, frame = 8
 2464              		@ frame_needed = 1, uses_anonymous_args = 0
 330:Src/LTC6811.c **** 	
 2465              		.loc 1 330 121 is_stmt 0 view .LVU822
 2466 0000 84B0     		sub	sp, sp, #16
 2467              	.LCFI46:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 69


 2468              		.cfi_def_cfa_offset 16
 2469 0002 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2470              	.LCFI47:
 2471              		.cfi_def_cfa_offset 52
 2472              		.cfi_offset 4, -52
 2473              		.cfi_offset 5, -48
 2474              		.cfi_offset 6, -44
 2475              		.cfi_offset 7, -40
 2476              		.cfi_offset 8, -36
 2477              		.cfi_offset 9, -32
 2478              		.cfi_offset 10, -28
 2479              		.cfi_offset 11, -24
 2480              		.cfi_offset 14, -20
 2481 0006 83B0     		sub	sp, sp, #12
 2482              	.LCFI48:
 2483              		.cfi_def_cfa_offset 64
 2484 0008 00AF     		add	r7, sp, #0
 2485              	.LCFI49:
 2486              		.cfi_def_cfa_register 7
 2487 000a 07F13004 		add	r4, r7, #48
 2488 000e 84E80F00 		stm	r4, {r0, r1, r2, r3}
 2489 0012 D7F87CB0 		ldr	fp, [r7, #124]
 2490 0016 D7F880A0 		ldr	r10, [r7, #128]
 2491 001a D7F88490 		ldr	r9, [r7, #132]
 332:Src/LTC6811.c **** 	bool boardDCFault[cfg.numOfTempPerIC];
 2492              		.loc 1 332 2 is_stmt 1 view .LVU823
 332:Src/LTC6811.c **** 	bool boardDCFault[cfg.numOfTempPerIC];
 2493              		.loc 1 332 24 is_stmt 0 view .LVU824
 2494 001e 97F85330 		ldrb	r3, [r7, #83]	@ zero_extendqisi2
 2495              	.LVL203:
 332:Src/LTC6811.c **** 	bool boardDCFault[cfg.numOfTempPerIC];
 2496              		.loc 1 332 11 view .LVU825
 2497 0022 5A00     		lsls	r2, r3, #1
 2498 0024 0732     		adds	r2, r2, #7
 2499 0026 02F47E72 		and	r2, r2, #1016
 2500 002a ADEB020D 		sub	sp, sp, r2
 2501 002e E846     		mov	r8, sp
 2502              	.LVL204:
 333:Src/LTC6811.c **** 	bool boardTempFault[cfg.numOfTempPerIC];
 2503              		.loc 1 333 2 is_stmt 1 view .LVU826
 333:Src/LTC6811.c **** 	bool boardTempFault[cfg.numOfTempPerIC];
 2504              		.loc 1 333 7 is_stmt 0 view .LVU827
 2505 0030 0733     		adds	r3, r3, #7
 2506              	.LVL205:
 333:Src/LTC6811.c **** 	bool boardTempFault[cfg.numOfTempPerIC];
 2507              		.loc 1 333 7 view .LVU828
 2508 0032 03F4FC73 		and	r3, r3, #504
 2509              	.LVL206:
 333:Src/LTC6811.c **** 	bool boardTempFault[cfg.numOfTempPerIC];
 2510              		.loc 1 333 7 view .LVU829
 2511 0036 ADEB030D 		sub	sp, sp, r3
 2512 003a 6E46     		mov	r6, sp
 2513              	.LVL207:
 334:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 2514              		.loc 1 334 2 is_stmt 1 view .LVU830
 334:Src/LTC6811.c **** 	bool PEC_check[cfg.numOfICs];
 2515              		.loc 1 334 7 is_stmt 0 view .LVU831
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 70


 2516 003c ADEB030D 		sub	sp, sp, r3
 2517 0040 6D46     		mov	r5, sp
 2518              	.LVL208:
 335:Src/LTC6811.c **** 	bool dataValid = true;
 2519              		.loc 1 335 2 is_stmt 1 view .LVU832
 335:Src/LTC6811.c **** 	bool dataValid = true;
 2520              		.loc 1 335 20 is_stmt 0 view .LVU833
 2521 0042 97F83030 		ldrb	r3, [r7, #48]	@ zero_extendqisi2
 2522 0046 7B60     		str	r3, [r7, #4]
 2523              	.LVL209:
 335:Src/LTC6811.c **** 	bool dataValid = true;
 2524              		.loc 1 335 7 view .LVU834
 2525 0048 0733     		adds	r3, r3, #7
 2526              	.LVL210:
 335:Src/LTC6811.c **** 	bool dataValid = true;
 2527              		.loc 1 335 7 view .LVU835
 2528 004a 03F4FC73 		and	r3, r3, #504
 2529 004e ADEB030D 		sub	sp, sp, r3
 2530 0052 C7F800D0 		str	sp, [r7]
 2531              	.LVL211:
 336:Src/LTC6811.c **** 	
 2532              		.loc 1 336 2 is_stmt 1 view .LVU836
 338:Src/LTC6811.c **** 		
 2533              		.loc 1 338 2 view .LVU837
 2534              	.LBB19:
 338:Src/LTC6811.c **** 		
 2535              		.loc 1 338 7 view .LVU838
 338:Src/LTC6811.c **** 		
 2536              		.loc 1 338 15 is_stmt 0 view .LVU839
 2537 0056 0024     		movs	r4, #0
 338:Src/LTC6811.c **** 		
 2538              		.loc 1 338 2 view .LVU840
 2539 0058 13E0     		b	.L103
 2540              	.LVL212:
 2541              	.L105:
 2542              	.LBB20:
 342:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 2543              		.loc 1 342 4 is_stmt 1 discriminator 3 view .LVU841
 342:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 2544              		.loc 1 342 12 is_stmt 0 discriminator 3 view .LVU842
 2545 005a 0BEBC402 		add	r2, fp, r4, lsl #3
 342:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 2546              		.loc 1 342 30 discriminator 3 view .LVU843
 2547 005e 38F81310 		ldrh	r1, [r8, r3, lsl #1]
 342:Src/LTC6811.c **** 			dcFault[i][j] = boardDCFault[j];
 2548              		.loc 1 342 19 discriminator 3 view .LVU844
 2549 0062 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 343:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
 2550              		.loc 1 343 4 is_stmt 1 discriminator 3 view .LVU845
 343:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
 2551              		.loc 1 343 11 is_stmt 0 discriminator 3 view .LVU846
 2552 0066 A200     		lsls	r2, r4, #2
 2553 0068 0AEB0201 		add	r1, r10, r2
 343:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
 2554              		.loc 1 343 32 discriminator 3 view .LVU847
 2555 006c F05C     		ldrb	r0, [r6, r3]	@ zero_extendqisi2
 343:Src/LTC6811.c **** 			tempFault[i][j] = boardTempFault[j];
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 71


 2556              		.loc 1 343 18 discriminator 3 view .LVU848
 2557 006e C854     		strb	r0, [r1, r3]
 344:Src/LTC6811.c **** 		}
 2558              		.loc 1 344 4 is_stmt 1 discriminator 3 view .LVU849
 344:Src/LTC6811.c **** 		}
 2559              		.loc 1 344 13 is_stmt 0 discriminator 3 view .LVU850
 2560 0070 4A44     		add	r2, r2, r9
 344:Src/LTC6811.c **** 		}
 2561              		.loc 1 344 36 discriminator 3 view .LVU851
 2562 0072 E95C     		ldrb	r1, [r5, r3]	@ zero_extendqisi2
 344:Src/LTC6811.c **** 		}
 2563              		.loc 1 344 20 discriminator 3 view .LVU852
 2564 0074 D154     		strb	r1, [r2, r3]
 341:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2565              		.loc 1 341 31 discriminator 3 view .LVU853
 2566 0076 0133     		adds	r3, r3, #1
 2567              	.LVL213:
 341:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2568              		.loc 1 341 31 discriminator 3 view .LVU854
 2569 0078 DBB2     		uxtb	r3, r3
 2570              	.LVL214:
 2571              	.L104:
 341:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2572              		.loc 1 341 3 discriminator 1 view .LVU855
 2573 007a 032B     		cmp	r3, #3
 2574 007c EDD9     		bls	.L105
 2575              	.LBE20:
 338:Src/LTC6811.c **** 		
 2576              		.loc 1 338 41 discriminator 2 view .LVU856
 2577 007e 0134     		adds	r4, r4, #1
 2578              	.LVL215:
 338:Src/LTC6811.c **** 		
 2579              		.loc 1 338 41 discriminator 2 view .LVU857
 2580 0080 E4B2     		uxtb	r4, r4
 2581              	.LVL216:
 2582              	.L103:
 338:Src/LTC6811.c **** 		
 2583              		.loc 1 338 2 discriminator 1 view .LVU858
 2584 0082 7B68     		ldr	r3, [r7, #4]
 2585 0084 9C42     		cmp	r4, r3
 2586 0086 0CD2     		bcs	.L112
 340:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 4; j++) {
 2587              		.loc 1 340 3 is_stmt 1 view .LVU859
 340:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 4; j++) {
 2588              		.loc 1 340 18 is_stmt 0 view .LVU860
 2589 0088 07F13003 		add	r3, r7, #48
 2590 008c 1819     		adds	r0, r3, r4
 2591 008e 2B46     		mov	r3, r5
 2592 0090 3246     		mov	r2, r6
 2593 0092 4146     		mov	r1, r8
 2594 0094 407C     		ldrb	r0, [r0, #17]	@ zero_extendqisi2
 2595 0096 FFF7FEFF 		bl	readCellTemp
 2596              	.LVL217:
 340:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 4; j++) {
 2597              		.loc 1 340 16 view .LVU861
 2598 009a 3B68     		ldr	r3, [r7]
 2599 009c 1855     		strb	r0, [r3, r4]
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 72


 341:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2600              		.loc 1 341 3 is_stmt 1 view .LVU862
 2601              	.LBB21:
 341:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2602              		.loc 1 341 8 view .LVU863
 2603              	.LVL218:
 341:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2604              		.loc 1 341 16 is_stmt 0 view .LVU864
 2605 009e 0023     		movs	r3, #0
 341:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2606              		.loc 1 341 3 view .LVU865
 2607 00a0 EBE7     		b	.L104
 2608              	.LVL219:
 2609              	.L112:
 341:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 2610              		.loc 1 341 3 view .LVU866
 2611              	.LBE21:
 2612              	.LBE19:
 2613              	.LBB22:
 348:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 2614              		.loc 1 348 15 view .LVU867
 2615 00a2 0023     		movs	r3, #0
 2616              	.LBE22:
 336:Src/LTC6811.c **** 	
 2617              		.loc 1 336 7 view .LVU868
 2618 00a4 0120     		movs	r0, #1
 2619 00a6 7968     		ldr	r1, [r7, #4]
 2620 00a8 3C68     		ldr	r4, [r7]
 2621              	.LVL220:
 336:Src/LTC6811.c **** 	
 2622              		.loc 1 336 7 view .LVU869
 2623 00aa 01E0     		b	.L107
 2624              	.LVL221:
 2625              	.L108:
 2626              	.LBB23:
 348:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 2627              		.loc 1 348 41 discriminator 2 view .LVU870
 2628 00ac 0133     		adds	r3, r3, #1
 2629              	.LVL222:
 348:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 2630              		.loc 1 348 41 discriminator 2 view .LVU871
 2631 00ae DBB2     		uxtb	r3, r3
 2632              	.LVL223:
 2633              	.L107:
 348:Src/LTC6811.c **** 		if (PEC_check[k] == 0)
 2634              		.loc 1 348 2 discriminator 1 view .LVU872
 2635 00b0 8B42     		cmp	r3, r1
 2636 00b2 04D2     		bcs	.L113
 349:Src/LTC6811.c **** 			dataValid = false;
 2637              		.loc 1 349 3 is_stmt 1 view .LVU873
 349:Src/LTC6811.c **** 			dataValid = false;
 2638              		.loc 1 349 16 is_stmt 0 view .LVU874
 2639 00b4 E25C     		ldrb	r2, [r4, r3]	@ zero_extendqisi2
 349:Src/LTC6811.c **** 			dataValid = false;
 2640              		.loc 1 349 6 view .LVU875
 2641 00b6 002A     		cmp	r2, #0
 2642 00b8 F8D1     		bne	.L108
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 73


 350:Src/LTC6811.c **** 	}	
 2643              		.loc 1 350 14 view .LVU876
 2644 00ba 1046     		mov	r0, r2
 2645              	.LVL224:
 350:Src/LTC6811.c **** 	}	
 2646              		.loc 1 350 14 view .LVU877
 2647 00bc F6E7     		b	.L108
 2648              	.LVL225:
 2649              	.L113:
 350:Src/LTC6811.c **** 	}	
 2650              		.loc 1 350 14 view .LVU878
 2651              	.LBE23:
 354:Src/LTC6811.c **** 
 2652              		.loc 1 354 1 view .LVU879
 2653 00be 0C37     		adds	r7, r7, #12
 2654              	.LCFI50:
 2655              		.cfi_def_cfa_offset 52
 2656 00c0 BD46     		mov	sp, r7
 2657              	.LCFI51:
 2658              		.cfi_def_cfa_register 13
 2659              	.LVL226:
 354:Src/LTC6811.c **** 
 2660              		.loc 1 354 1 view .LVU880
 2661              		@ sp needed
 2662 00c2 BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2663              	.LCFI52:
 2664              		.cfi_restore 14
 2665              		.cfi_restore 11
 2666              		.cfi_restore 10
 2667              		.cfi_restore 9
 2668              		.cfi_restore 8
 2669              		.cfi_restore 7
 2670              		.cfi_restore 6
 2671              		.cfi_restore 5
 2672              		.cfi_restore 4
 2673              		.cfi_def_cfa_offset 16
 2674              	.LVL227:
 354:Src/LTC6811.c **** 
 2675              		.loc 1 354 1 view .LVU881
 2676 00c6 04B0     		add	sp, sp, #16
 2677              	.LCFI53:
 2678              		.cfi_def_cfa_offset 0
 2679              	.LVL228:
 354:Src/LTC6811.c **** 
 2680              		.loc 1 354 1 view .LVU882
 2681 00c8 7047     		bx	lr
 2682              		.cfi_endproc
 2683              	.LFE72:
 2685              		.global	CRC15_POLY
 2686              		.comm	pec15Table,512,4
 2687              		.section	.data.CRC15_POLY,"aw"
 2688              		.align	1
 2689              		.set	.LANCHOR0,. + 0
 2692              	CRC15_POLY:
 2693 0000 9945     		.short	17817
 2694              		.text
 2695              	.Letext0:
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 74


 2696              		.file 2 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\machine\\_default_types.h"
 2697              		.file 3 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 2698              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 2699              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 2700              		.file 6 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 2701              		.file 7 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 2702              		.file 8 "c:\\arm-gcc\\8-2018-q4-major\\lib\\gcc\\arm-none-eabi\\8.2.1\\include\\stddef.h"
 2703              		.file 9 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 2704              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 2705              		.file 11 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\stdlib.h"
 2706              		.file 12 "Inc/BMSconfig.h"
 2707              		.file 13 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\math.h"
 2708              		.file 14 "Inc/LTC6811.h"
 2709              		.file 15 "Inc/SPI.h"
ARM GAS  C:\cygwin64\tmp\ccN4Qbu0.s 			page 75


DEFINED SYMBOLS
                            *ABS*:00000000 LTC6811.c
C:\cygwin64\tmp\ccN4Qbu0.s:16     .text.initPECTable:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:24     .text.initPECTable:00000000 initPECTable
C:\cygwin64\tmp\ccN4Qbu0.s:118    .text.initPECTable:00000038 $d
                            *COM*:00000200 pec15Table
C:\cygwin64\tmp\ccN4Qbu0.s:124    .text.calculatePEC:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:131    .text.calculatePEC:00000000 calculatePEC
C:\cygwin64\tmp\ccN4Qbu0.s:207    .text.calculatePEC:0000002c $d
C:\cygwin64\tmp\ccN4Qbu0.s:212    .text.writeConfigAddress:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:219    .text.writeConfigAddress:00000000 writeConfigAddress
C:\cygwin64\tmp\ccN4Qbu0.s:474    .text.dischargeCellGroups:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:481    .text.dischargeCellGroups:00000000 dischargeCellGroups
C:\cygwin64\tmp\ccN4Qbu0.s:582    .text.writeConfigAll:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:589    .text.writeConfigAll:00000000 writeConfigAll
C:\cygwin64\tmp\ccN4Qbu0.s:741    .text.readRegister:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:748    .text.readRegister:00000000 readRegister
C:\cygwin64\tmp\ccN4Qbu0.s:1241   .text.readConfig:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:1248   .text.readConfig:00000000 readConfig
C:\cygwin64\tmp\ccN4Qbu0.s:1335   .text.sendBroadcastCommand:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:1342   .text.sendBroadcastCommand:00000000 sendBroadcastCommand
C:\cygwin64\tmp\ccN4Qbu0.s:1399   .text.sendAddressCommand:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:1406   .text.sendAddressCommand:00000000 sendAddressCommand
C:\cygwin64\tmp\ccN4Qbu0.s:1502   .text.readCellVoltage:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:1509   .text.readCellVoltage:00000000 readCellVoltage
C:\cygwin64\tmp\ccN4Qbu0.s:1641   .text.readAllCellVoltages:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:1648   .text.readAllCellVoltages:00000000 readAllCellVoltages
C:\cygwin64\tmp\ccN4Qbu0.s:1823   .text.checkCellConnection:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:1830   .text.checkCellConnection:00000000 checkCellConnection
C:\cygwin64\tmp\ccN4Qbu0.s:1936   .text.checkAllCellConnections:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:1943   .text.checkAllCellConnections:00000000 checkAllCellConnections
C:\cygwin64\tmp\ccN4Qbu0.s:2094   .text.readCellTemp:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:2101   .text.readCellTemp:00000000 readCellTemp
C:\cygwin64\tmp\ccN4Qbu0.s:2425   .text.readCellTemp:000001c8 $d
C:\cygwin64\tmp\ccN4Qbu0.s:2451   .text.readAllCellTemps:00000000 $t
C:\cygwin64\tmp\ccN4Qbu0.s:2458   .text.readAllCellTemps:00000000 readAllCellTemps
C:\cygwin64\tmp\ccN4Qbu0.s:2692   .data.CRC15_POLY:00000000 CRC15_POLY
C:\cygwin64\tmp\ccN4Qbu0.s:2688   .data.CRC15_POLY:00000000 $d

UNDEFINED SYMBOLS
malloc
SPIWrite
free
SPIWriteRead
HAL_Delay
__aeabi_ui2d
__aeabi_ddiv
__aeabi_dmul
__aeabi_dsub
__aeabi_dadd
__aeabi_d2uiz
pow
