ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"LTC6811.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.initPECTable,"ax",%progbits
  16              		.align	1
  17              		.global	initPECTable
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	initPECTable:
  25              	.LFB66:
  26              		.file 1 "Src/LTC6811.c"
   1:Src/LTC6811.c **** /*
   2:Src/LTC6811.c **** 	LTC6811 Command Functions
   3:Src/LTC6811.c **** 	
   4:Src/LTC6811.c **** 	General Functions
   5:Src/LTC6811.c **** 		sendBroadcastCommand: void sendBroadcastCommand(CommandCodeTypedef command);
   6:Src/LTC6811.c **** 			- sends specified write-only command to every LTC in the chain (example: ADCV)
   7:Src/LTC6811.c **** 			- CommandCodeTypedef enum contains every command code used
   8:Src/LTC6811.c **** 		sendAddressCommand: void sendAddressCommand(CommandCodeTypedef command, uint8_t address);
   9:Src/LTC6811.c **** 			- sends specified write-only command to LTC with specified address
  10:Src/LTC6811.c **** 		readRegister: bool readRegister(CommandCodeTypedef command, uint8_t address, uint16_t *data);
  11:Src/LTC6811.c **** 			- 
  12:Src/LTC6811.c **** 		
  13:Src/LTC6811.c **** 	Configuration Functions
  14:Src/LTC6811.c **** 		writeConfig
  15:Src/LTC6811.c **** 		readConfig
  16:Src/LTC6811.c **** 		
  17:Src/LTC6811.c **** 	Cell Voltage Functions
  18:Src/LTC6811.c **** 		readCellVoltage
  19:Src/LTC6811.c **** 		readAllCellVoltages
  20:Src/LTC6811.c **** 	
  21:Src/LTC6811.c **** 	Cell Temperature Functions
  22:Src/LTC6811.c **** 		readCellTemp
  23:Src/LTC6811.c **** 		readAllCellTemps
  24:Src/LTC6811.c **** 	
  25:Src/LTC6811.c **** 	Cell Connection Functions
  26:Src/LTC6811.c **** 		checkCellConnection
  27:Src/LTC6811.c **** 	
  28:Src/LTC6811.c **** 	PEC Functions
  29:Src/LTC6811.c **** 		initPECTable
  30:Src/LTC6811.c **** 		calculatePEC
  31:Src/LTC6811.c **** 	
  32:Src/LTC6811.c **** 
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 2


  33:Src/LTC6811.c **** 
  34:Src/LTC6811.c **** 
  35:Src/LTC6811.c **** 
  36:Src/LTC6811.c **** 
  37:Src/LTC6811.c **** */
  38:Src/LTC6811.c **** 
  39:Src/LTC6811.c **** 
  40:Src/LTC6811.c **** #include "LTC6811.h"
  41:Src/LTC6811.c **** 
  42:Src/LTC6811.c **** //CommandCodeTypedef CommandCode;
  43:Src/LTC6811.c **** 
  44:Src/LTC6811.c **** uint16_t pec15Table[256];
  45:Src/LTC6811.c **** uint16_t CRC15_POLY = 0x4599;
  46:Src/LTC6811.c **** 
  47:Src/LTC6811.c **** void initPECTable(void) {
  27              		.loc 1 47 25 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  48:Src/LTC6811.c **** 	
  49:Src/LTC6811.c **** 	uint16_t remainder;
  32              		.loc 1 49 2 view .LVU1
  50:Src/LTC6811.c **** 	
  51:Src/LTC6811.c **** 	for (int i = 0; i < 256; i++) {
  33              		.loc 1 51 2 view .LVU2
  34              	.LBB2:
  35              		.loc 1 51 7 view .LVU3
  36              	.LVL0:
  37              		.loc 1 51 11 is_stmt 0 view .LVU4
  38 0000 0020     		movs	r0, #0
  39              		.loc 1 51 2 view .LVU5
  40 0002 11E0     		b	.L2
  41              	.LVL1:
  42              	.L4:
  43              	.LBB3:
  52:Src/LTC6811.c **** 		remainder = i << 7;
  53:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
  54:Src/LTC6811.c **** 			if (remainder & 0x4000) {
  55:Src/LTC6811.c **** 				remainder = ((remainder << 1));
  56:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
  57:Src/LTC6811.c **** 			}
  58:Src/LTC6811.c **** 			else {
  59:Src/LTC6811.c **** 				remainder = ((remainder << 1));
  44              		.loc 1 59 5 is_stmt 1 view .LVU6
  45              		.loc 1 59 15 is_stmt 0 view .LVU7
  46 0004 5B00     		lsls	r3, r3, #1
  47              	.LVL2:
  48              		.loc 1 59 15 view .LVU8
  49 0006 9BB2     		uxth	r3, r3
  50              	.LVL3:
  51              	.L5:
  53:Src/LTC6811.c **** 			if (remainder & 0x4000) {
  52              		.loc 1 53 33 discriminator 2 view .LVU9
  53 0008 013A     		subs	r2, r2, #1
  54              	.LVL4:
  55              	.L3:
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 3


  53:Src/LTC6811.c **** 			if (remainder & 0x4000) {
  56              		.loc 1 53 3 discriminator 1 view .LVU10
  57 000a 002A     		cmp	r2, #0
  58 000c 08DD     		ble	.L8
  54:Src/LTC6811.c **** 				remainder = ((remainder << 1));
  59              		.loc 1 54 4 is_stmt 1 view .LVU11
  54:Src/LTC6811.c **** 				remainder = ((remainder << 1));
  60              		.loc 1 54 7 is_stmt 0 view .LVU12
  61 000e 13F4804F 		tst	r3, #16384
  62 0012 F7D0     		beq	.L4
  55:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
  63              		.loc 1 55 5 is_stmt 1 view .LVU13
  55:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
  64              		.loc 1 55 15 is_stmt 0 view .LVU14
  65 0014 5B00     		lsls	r3, r3, #1
  66              	.LVL5:
  55:Src/LTC6811.c **** 				remainder = (remainder ^ CRC15_POLY);
  67              		.loc 1 55 15 view .LVU15
  68 0016 9BB2     		uxth	r3, r3
  69              	.LVL6:
  56:Src/LTC6811.c **** 			}
  70              		.loc 1 56 5 is_stmt 1 view .LVU16
  56:Src/LTC6811.c **** 			}
  71              		.loc 1 56 15 is_stmt 0 view .LVU17
  72 0018 0749     		ldr	r1, .L10
  73 001a 0988     		ldrh	r1, [r1]
  74 001c 4B40     		eors	r3, r3, r1
  75              	.LVL7:
  56:Src/LTC6811.c **** 			}
  76              		.loc 1 56 15 view .LVU18
  77 001e F3E7     		b	.L5
  78              	.L8:
  56:Src/LTC6811.c **** 			}
  79              		.loc 1 56 15 view .LVU19
  80              	.LBE3:
  60:Src/LTC6811.c **** 			}
  61:Src/LTC6811.c **** 		}
  62:Src/LTC6811.c **** 		pec15Table[i] = remainder & 0xFFFF;
  81              		.loc 1 62 3 is_stmt 1 discriminator 2 view .LVU20
  82              		.loc 1 62 17 is_stmt 0 discriminator 2 view .LVU21
  83 0020 064A     		ldr	r2, .L10+4
  84              	.LVL8:
  85              		.loc 1 62 17 discriminator 2 view .LVU22
  86 0022 22F81030 		strh	r3, [r2, r0, lsl #1]	@ movhi
  51:Src/LTC6811.c **** 		remainder = i << 7;
  87              		.loc 1 51 28 discriminator 2 view .LVU23
  88 0026 0130     		adds	r0, r0, #1
  89              	.LVL9:
  90              	.L2:
  51:Src/LTC6811.c **** 		remainder = i << 7;
  91              		.loc 1 51 2 discriminator 1 view .LVU24
  92 0028 FF28     		cmp	r0, #255
  93 002a 04DC     		bgt	.L9
  52:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
  94              		.loc 1 52 3 is_stmt 1 view .LVU25
  52:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
  95              		.loc 1 52 17 is_stmt 0 view .LVU26
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 4


  96 002c 83B2     		uxth	r3, r0
  52:Src/LTC6811.c **** 		for (int bit = 8; bit > 0; bit--) {
  97              		.loc 1 52 13 view .LVU27
  98 002e DB01     		lsls	r3, r3, #7
  99 0030 9BB2     		uxth	r3, r3
 100              	.LVL10:
  53:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 101              		.loc 1 53 3 is_stmt 1 view .LVU28
 102              	.LBB4:
  53:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 103              		.loc 1 53 8 view .LVU29
  53:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 104              		.loc 1 53 12 is_stmt 0 view .LVU30
 105 0032 0822     		movs	r2, #8
  53:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 106              		.loc 1 53 3 view .LVU31
 107 0034 E9E7     		b	.L3
 108              	.LVL11:
 109              	.L9:
  53:Src/LTC6811.c **** 			if (remainder & 0x4000) {
 110              		.loc 1 53 3 view .LVU32
 111              	.LBE4:
 112              	.LBE2:
  63:Src/LTC6811.c **** 	}
  64:Src/LTC6811.c **** };
 113              		.loc 1 64 1 view .LVU33
 114 0036 7047     		bx	lr
 115              	.L11:
 116              		.align	2
 117              	.L10:
 118 0038 00000000 		.word	.LANCHOR0
 119 003c 00000000 		.word	pec15Table
 120              		.cfi_endproc
 121              	.LFE66:
 123              		.section	.text.calculatePEC,"ax",%progbits
 124              		.align	1
 125              		.global	calculatePEC
 126              		.syntax unified
 127              		.thumb
 128              		.thumb_func
 129              		.fpu softvfp
 131              	calculatePEC:
 132              	.LVL12:
 133              	.LFB77:
  65:Src/LTC6811.c ****  
  66:Src/LTC6811.c **** void writeConfig(BMSconfigStructTypedef cfg, uint8_t total_ic) {
  67:Src/LTC6811.c **** 	
  68:Src/LTC6811.c **** 	/*uint8_t TxBuffer[12] = {0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77, 0x88, 0x99, 0xAA, 0xBB, 0xCC};
  69:Src/LTC6811.c **** 	uint8_t RxBuffer[12];
  70:Src/LTC6811.c **** 	
  71:Src/LTC6811.c **** 	if (cfg.ADCModeOption == 0) HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);
  72:Src/LTC6811.c **** 	
  73:Src/LTC6811.c **** 	if (SPIWriteRead(TxBuffer, RxBuffer, 12) == 1) HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);*/
  74:Src/LTC6811.c **** 	
  75:Src/LTC6811.c **** 	uint8_t config[6];
  76:Src/LTC6811.c **** 	uint8_t *cmd;
  77:Src/LTC6811.c **** 	uint8_t cmd_len = 12;
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 5


  78:Src/LTC6811.c **** 	uint16_t PEC_return;
  79:Src/LTC6811.c **** 	
  80:Src/LTC6811.c **** 	cmd = (uint8_t *)malloc(cmd_len*sizeof(uint8_t));
  81:Src/LTC6811.c **** 	
  82:Src/LTC6811.c **** 	config[0] = 0xFF;
  83:Src/LTC6811.c **** 	config[1] = 0xFF;
  84:Src/LTC6811.c **** 	//config[0] = (uint8_t) (cfg.GPIO5PulldownOff << 7) | (cfg.GPIO4PulldownOff << 6) | (cfg.GPIO3Pull
  85:Src/LTC6811.c **** 	//config[1] = (uint8_t) (cfg.UndervoltageComparisonVoltage & 0xFF);
  86:Src/LTC6811.c **** 	config[2] = (uint8_t) ((cfg.OvervoltageComparisonVoltage << 4) & 0xF0) | ((cfg.UndervoltageCompari
  87:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
  88:Src/LTC6811.c **** 	config[4] = (uint8_t) (cfg.DischargeCell8 << 7) | (cfg.DischargeCell7 << 6) | (cfg.DischargeCell6 
  89:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
  90:Src/LTC6811.c **** 	
  91:Src/LTC6811.c **** 	for (uint8_t current_ic = 0; current_ic <= total_ic-1; current_ic++) {
  92:Src/LTC6811.c **** 	
  93:Src/LTC6811.c **** 		cmd[0] = (uint8_t) (0x80 | ((current_ic << 3) & 0x78) | ((WriteConfigurationRegisterGroup >> 8) &
  94:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
  95:Src/LTC6811.c **** 		
  96:Src/LTC6811.c **** 		PEC_return = calculatePEC(2, cmd);
  97:Src/LTC6811.c **** 		
  98:Src/LTC6811.c **** 		cmd[2] = (PEC_return >> 8) & 0xFF;
  99:Src/LTC6811.c **** 		cmd[3] = PEC_return & 0xFF;
 100:Src/LTC6811.c **** 	
 101:Src/LTC6811.c **** 		cmd[4] = config[0];
 102:Src/LTC6811.c **** 		cmd[5] = config[1];
 103:Src/LTC6811.c **** 		cmd[6] = config[2];
 104:Src/LTC6811.c **** 		cmd[7] = config[3];
 105:Src/LTC6811.c **** 		cmd[8] = config[4];
 106:Src/LTC6811.c **** 		cmd[9] = config[5];
 107:Src/LTC6811.c **** 		
 108:Src/LTC6811.c **** 		PEC_return = calculatePEC(6, cmd + 4);
 109:Src/LTC6811.c **** 	
 110:Src/LTC6811.c **** 		cmd[10] = (PEC_return >> 8) & 0xFF;
 111:Src/LTC6811.c **** 		cmd[11] = PEC_return & 0xFF;
 112:Src/LTC6811.c **** 		
 113:Src/LTC6811.c **** 		SPIWrite(cmd, cmd_len);
 114:Src/LTC6811.c **** 		
 115:Src/LTC6811.c **** 		//HAL_Delay(100);
 116:Src/LTC6811.c **** 	}
 117:Src/LTC6811.c **** 	
 118:Src/LTC6811.c **** 	free(cmd);
 119:Src/LTC6811.c **** 	
 120:Src/LTC6811.c **** };
 121:Src/LTC6811.c **** 
 122:Src/LTC6811.c **** bool readCellVoltage(uint8_t address, uint16_t cellVoltage[12]) {
 123:Src/LTC6811.c **** 	
 124:Src/LTC6811.c **** 	bool PEC_check = false;
 125:Src/LTC6811.c **** 	bool dataValid = true;
 126:Src/LTC6811.c **** 	uint16_t *voltage;
 127:Src/LTC6811.c **** 	
 128:Src/LTC6811.c **** 	voltage = (uint16_t *)malloc(12*sizeof(uint16_t));
 129:Src/LTC6811.c **** 	
 130:Src/LTC6811.c **** 	sendAddressCommand(StartCellVoltageADCConversionAll, address); // start conversion for every cell
 131:Src/LTC6811.c **** 
 132:Src/LTC6811.c **** 	HAL_Delay(15); // conversion time is 12.8ms at 422Hz, so wait 15ms
 133:Src/LTC6811.c **** 	
 134:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup1to3, address, voltage);
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 6


 135:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 136:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup4to6, address, voltage);
 137:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 138:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup7to9, address, voltage);
 139:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 140:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup10to12, address, voltage);
 141:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 142:Src/LTC6811.c **** 	
 143:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 12; i++) {
 144:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 145:Src/LTC6811.c **** 	}
 146:Src/LTC6811.c **** 	
 147:Src/LTC6811.c **** 	free(voltage);
 148:Src/LTC6811.c **** 	
 149:Src/LTC6811.c **** 	return(dataValid);
 150:Src/LTC6811.c **** 	
 151:Src/LTC6811.c **** };
 152:Src/LTC6811.c **** 
 153:Src/LTC6811.c **** bool readAllCellVoltages(uint16_t cellVoltage[12][12]) {
 154:Src/LTC6811.c **** 	
 155:Src/LTC6811.c **** 	uint16_t boardVoltage[12];
 156:Src/LTC6811.c **** 	
 157:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 12; i++) {
 158:Src/LTC6811.c **** 		
 159:Src/LTC6811.c **** 		readCellVoltage(i, boardVoltage);
 160:Src/LTC6811.c **** 		for (uint8_t j = 0; i < 12; i++) {
 161:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 162:Src/LTC6811.c **** 		}
 163:Src/LTC6811.c **** 	}
 164:Src/LTC6811.c **** 	
 165:Src/LTC6811.c **** 	return 0;
 166:Src/LTC6811.c **** }
 167:Src/LTC6811.c **** 
 168:Src/LTC6811.c **** bool readCellTemp(uint8_t address, uint16_t cellTemp[4]) {
 169:Src/LTC6811.c **** 	
 170:Src/LTC6811.c **** 	bool PEC_check = false;
 171:Src/LTC6811.c **** 	bool dataValid = true;
 172:Src/LTC6811.c **** 	uint16_t *temp;
 173:Src/LTC6811.c **** 	double dummy[4];
 174:Src/LTC6811.c **** 	double conversion[4]; 
 175:Src/LTC6811.c **** 	
 176:Src/LTC6811.c **** 	temp = (uint16_t *)malloc(4*sizeof(uint16_t));
 177:Src/LTC6811.c **** 	
 178:Src/LTC6811.c **** 	sendAddressCommand(StartCellTempVoltageADCConversionAll, address);
 179:Src/LTC6811.c **** 	
 180:Src/LTC6811.c **** 	HAL_Delay(15); // conversion time is 12.8ms at 422Hz, so wait 15ms
 181:Src/LTC6811.c **** 	
 182:Src/LTC6811.c **** 	//readRegister(command, address, *data)
 183:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupA, address, temp);
 184:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 185:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupB, address, temp);
 186:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 187:Src/LTC6811.c **** 	
 188:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 4; i++) {
 189:Src/LTC6811.c **** 		dummy[i] = (float) temp[i] / 10000;
 190:Src/LTC6811.c **** 		conversion[i] = 37735 - 113923 * dummy[i] + 142663 * pow(dummy[i], 2) - 94465 * pow(dummy[i], 3) 
 191:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 7


 192:Src/LTC6811.c **** 		cellTemp[i] = 500 * (cellTemp[i] + 20);
 193:Src/LTC6811.c **** 	}
 194:Src/LTC6811.c **** 	
 195:Src/LTC6811.c **** 	free(temp);
 196:Src/LTC6811.c **** 	
 197:Src/LTC6811.c **** 	return (dataValid);
 198:Src/LTC6811.c **** 	
 199:Src/LTC6811.c **** };
 200:Src/LTC6811.c **** 
 201:Src/LTC6811.c **** bool readAllCellTemps(uint16_t cellTemp[12][4]) {
 202:Src/LTC6811.c **** 	
 203:Src/LTC6811.c **** 	uint16_t boardTemp[4];
 204:Src/LTC6811.c **** 	
 205:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 12; i++) {
 206:Src/LTC6811.c **** 		
 207:Src/LTC6811.c **** 		readCellTemp(i, boardTemp);
 208:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 4; j++) {
 209:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 210:Src/LTC6811.c **** 		}
 211:Src/LTC6811.c **** 	}
 212:Src/LTC6811.c **** 	
 213:Src/LTC6811.c **** 	return 0;
 214:Src/LTC6811.c **** }
 215:Src/LTC6811.c **** 
 216:Src/LTC6811.c **** bool readConfig(uint8_t address, uint8_t cfg[6]) {
 217:Src/LTC6811.c **** 	
 218:Src/LTC6811.c **** 	uint16_t *config;
 219:Src/LTC6811.c **** 	
 220:Src/LTC6811.c **** 	config = (uint16_t *)malloc(3*sizeof(uint16_t));
 221:Src/LTC6811.c **** 	
 222:Src/LTC6811.c **** 	readRegister(ReadConfigurationRegisterGroup, address, config);
 223:Src/LTC6811.c **** 	
 224:Src/LTC6811.c **** 	cfg[0] = (uint8_t) ((config[0] >> 8) & 0xFF);
 225:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 226:Src/LTC6811.c **** 	cfg[2] = (uint8_t) ((config[1] >> 8) & 0xFF);
 227:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 228:Src/LTC6811.c **** 	cfg[4] = (uint8_t) ((config[2] >> 8) & 0xFF);
 229:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 230:Src/LTC6811.c **** 	
 231:Src/LTC6811.c **** 	return 0;
 232:Src/LTC6811.c **** }
 233:Src/LTC6811.c **** 
 234:Src/LTC6811.c **** bool checkCellConnection(uint16_t cellVoltage[12], bool cellConnection[12]) {
 235:Src/LTC6811.c **** 		
 236:Src/LTC6811.c **** 	uint16_t ADOWvoltage[12];
 237:Src/LTC6811.c **** 	
 238:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 239:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 240:Src/LTC6811.c **** 	
 241:Src/LTC6811.c **** 	HAL_Delay(15);
 242:Src/LTC6811.c **** 	
 243:Src/LTC6811.c **** 	readCellVoltage(0, ADOWvoltage);
 244:Src/LTC6811.c **** 	
 245:Src/LTC6811.c **** 	for (uint8_t i = 0; i < 12; i++) {
 246:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 247:Src/LTC6811.c **** 		if ((ADOWvoltage[i] - cellVoltage[i]) > 1000) {
 248:Src/LTC6811.c **** 			cellConnection[i] = 0;
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 8


 249:Src/LTC6811.c **** 		}
 250:Src/LTC6811.c **** 		else {
 251:Src/LTC6811.c **** 			cellConnection[i] = 1;
 252:Src/LTC6811.c **** 		}
 253:Src/LTC6811.c **** 	}
 254:Src/LTC6811.c **** 
 255:Src/LTC6811.c **** 	return 0;
 256:Src/LTC6811.c **** }
 257:Src/LTC6811.c **** 
 258:Src/LTC6811.c **** bool readRegister(CommandCodeTypedef command, uint8_t address, uint16_t *data) {
 259:Src/LTC6811.c **** 	
 260:Src/LTC6811.c **** 	//send command and address in first two bytes
 261:Src/LTC6811.c **** 	//send PEC in next two bytes
 262:Src/LTC6811.c **** 	//SPI writeread
 263:Src/LTC6811.c **** 	//calculate PEC based off received data bytes
 264:Src/LTC6811.c **** 	//if received PEC matches calculated PEC, return true (data valid)
 265:Src/LTC6811.c **** 	
 266:Src/LTC6811.c **** 	uint8_t cmd[12];
 267:Src/LTC6811.c **** 	uint8_t rx_data[12];
 268:Src/LTC6811.c **** 	uint16_t PEC_return;
 269:Src/LTC6811.c **** 	uint8_t *PEC_send;
 270:Src/LTC6811.c **** 	bool dataValid = true;
 271:Src/LTC6811.c **** 
 272:Src/LTC6811.c **** 	PEC_send = (uint8_t *)malloc(6*sizeof(uint8_t));
 273:Src/LTC6811.c **** 	
 274:Src/LTC6811.c **** 	PEC_send[0] = (uint8_t) (0x80 | ((address << 3) & 0x78) | ((command >> 8) & 0x07));
 275:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 276:Src/LTC6811.c **** 
 277:Src/LTC6811.c **** 	cmd[0] = PEC_send[0];
 278:Src/LTC6811.c **** 	cmd[1] = PEC_send[1];
 279:Src/LTC6811.c **** 	
 280:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, PEC_send);
 281:Src/LTC6811.c **** 	
 282:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 283:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 284:Src/LTC6811.c **** 	
 285:Src/LTC6811.c **** 	cmd[4] = 0;
 286:Src/LTC6811.c **** 	cmd[5] = 0;
 287:Src/LTC6811.c **** 	cmd[6] = 0;
 288:Src/LTC6811.c **** 	cmd[7] = 0;
 289:Src/LTC6811.c **** 	cmd[8] = 0;
 290:Src/LTC6811.c **** 	cmd[9] = 0;
 291:Src/LTC6811.c **** 	cmd[10] = 0;
 292:Src/LTC6811.c **** 	cmd[11] = 0;
 293:Src/LTC6811.c **** 	
 294:Src/LTC6811.c **** 	SPIWriteRead(cmd, rx_data, sizeof(cmd)); // send 4 command bytes, receive 6 cell voltage bytes (4-
 295:Src/LTC6811.c **** 	
 296:Src/LTC6811.c **** 	// calculate PEC based on cell voltage data received
 297:Src/LTC6811.c **** 	PEC_send[0] = rx_data[4]; // cell 1 voltage low bytes
 298:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 299:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 300:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 301:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 302:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 303:Src/LTC6811.c **** 	
 304:Src/LTC6811.c **** 	PEC_return = calculatePEC(6, PEC_send);
 305:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 9


 306:Src/LTC6811.c **** 	// check if received PEC matches calculated PEC
 307:Src/LTC6811.c **** 	if (PEC_return != (((rx_data[10] << 8) & 0xFF00) | (rx_data[11] & 0x00FF))) {
 308:Src/LTC6811.c **** 		dataValid = false;
 309:Src/LTC6811.c **** 	}
 310:Src/LTC6811.c **** 	
 311:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup1to3) {
 312:Src/LTC6811.c **** 		
 313:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 314:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 315:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 316:Src/LTC6811.c **** 	}
 317:Src/LTC6811.c **** 
 318:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup1to3) {
 319:Src/LTC6811.c **** 		
 320:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 321:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 322:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 323:Src/LTC6811.c **** 	}
 324:Src/LTC6811.c **** 	
 325:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup1to3) {
 326:Src/LTC6811.c **** 		
 327:Src/LTC6811.c **** 		data[6] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 328:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 329:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 330:Src/LTC6811.c **** 	}
 331:Src/LTC6811.c **** 	
 332:Src/LTC6811.c **** 	if (command == ReadCellVoltageRegisterGroup1to3) {
 333:Src/LTC6811.c **** 		
 334:Src/LTC6811.c **** 		data[9] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 335:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 336:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 337:Src/LTC6811.c **** 	}
 338:Src/LTC6811.c **** 	
 339:Src/LTC6811.c **** 	if (command == ReadAuxiliaryGroupA) {
 340:Src/LTC6811.c **** 		
 341:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 342:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 343:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 344:Src/LTC6811.c **** 	}
 345:Src/LTC6811.c **** 	
 346:Src/LTC6811.c **** 	if (command == ReadAuxiliaryGroupB) {
 347:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 348:Src/LTC6811.c **** 	}
 349:Src/LTC6811.c **** 	
 350:Src/LTC6811.c **** 	if (command == ReadConfigurationRegisterGroup) {
 351:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[4] << 8) & 0xFF00) | (rx_data[5] & 0x00FF);
 352:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 353:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 354:Src/LTC6811.c **** 	}
 355:Src/LTC6811.c **** 	
 356:Src/LTC6811.c **** 	return(dataValid);
 357:Src/LTC6811.c **** 	
 358:Src/LTC6811.c **** };
 359:Src/LTC6811.c **** 
 360:Src/LTC6811.c **** void sendBroadcastCommand(CommandCodeTypedef command) {
 361:Src/LTC6811.c **** 	
 362:Src/LTC6811.c **** 	uint8_t cmd[4];
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 10


 363:Src/LTC6811.c **** 	uint16_t PEC_return;
 364:Src/LTC6811.c **** 	
 365:Src/LTC6811.c **** 	cmd[0] = (uint8_t) ((command >> 8) & 0x0F);
 366:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 367:Src/LTC6811.c **** 	
 368:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, (uint8_t *)&(cmd));
 369:Src/LTC6811.c **** 	
 370:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 371:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 372:Src/LTC6811.c **** 	
 373:Src/LTC6811.c **** 	SPIWrite(cmd, 4);
 374:Src/LTC6811.c **** };
 375:Src/LTC6811.c **** 
 376:Src/LTC6811.c **** void sendAddressCommand(CommandCodeTypedef command, uint8_t address) {
 377:Src/LTC6811.c **** 	
 378:Src/LTC6811.c **** 	uint8_t cmd[4];
 379:Src/LTC6811.c **** 	uint16_t PEC_return;
 380:Src/LTC6811.c **** 	uint8_t *msbytes;
 381:Src/LTC6811.c **** 	
 382:Src/LTC6811.c **** 	msbytes = (uint8_t *)malloc(2*sizeof(uint8_t));
 383:Src/LTC6811.c **** 	
 384:Src/LTC6811.c **** 	msbytes[0] = (uint8_t) (0x80 | ((address << 3) & 0x78) | ((command >> 8) & 0x07));
 385:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 386:Src/LTC6811.c **** 
 387:Src/LTC6811.c **** 	cmd[0] = msbytes[0];
 388:Src/LTC6811.c **** 	cmd[1] = msbytes[1];
 389:Src/LTC6811.c **** 	
 390:Src/LTC6811.c **** 	PEC_return = calculatePEC(2, msbytes);
 391:Src/LTC6811.c **** 	
 392:Src/LTC6811.c **** 	cmd[2] = (PEC_return >> 8) & 0xFF;
 393:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 394:Src/LTC6811.c **** 	
 395:Src/LTC6811.c **** 	SPIWrite(cmd, 4);
 396:Src/LTC6811.c **** 	
 397:Src/LTC6811.c **** 	free(msbytes);
 398:Src/LTC6811.c **** };
 399:Src/LTC6811.c **** 
 400:Src/LTC6811.c **** uint16_t calculatePEC(uint8_t len, uint8_t *data) {
 134              		.loc 1 400 51 is_stmt 1 view -0
 135              		.cfi_startproc
 136              		@ args = 0, pretend = 0, frame = 0
 137              		@ frame_needed = 0, uses_anonymous_args = 0
 138              		@ link register save eliminated.
 139              		.loc 1 400 51 is_stmt 0 view .LVU35
 140 0000 30B4     		push	{r4, r5}
 141              	.LCFI0:
 142              		.cfi_def_cfa_offset 8
 143              		.cfi_offset 4, -8
 144              		.cfi_offset 5, -4
 401:Src/LTC6811.c **** 	
 402:Src/LTC6811.c **** 	uint16_t remainder, address;
 145              		.loc 1 402 2 is_stmt 1 view .LVU36
 403:Src/LTC6811.c **** 	remainder = 16; //PEC seed
 146              		.loc 1 403 2 view .LVU37
 147              	.LVL13:
 404:Src/LTC6811.c **** 	
 405:Src/LTC6811.c **** 	for (int i = 0; i < len; i++) {
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 11


 148              		.loc 1 405 2 view .LVU38
 149              	.LBB5:
 150              		.loc 1 405 7 view .LVU39
 151              		.loc 1 405 11 is_stmt 0 view .LVU40
 152 0002 0024     		movs	r4, #0
 153              	.LBE5:
 403:Src/LTC6811.c **** 	remainder = 16; //PEC seed
 154              		.loc 1 403 12 view .LVU41
 155 0004 1022     		movs	r2, #16
 156              	.LVL14:
 157              	.L13:
 158              	.LBB6:
 159              		.loc 1 405 2 discriminator 1 view .LVU42
 160 0006 A042     		cmp	r0, r4
 161 0008 0BDD     		ble	.L16
 406:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 162              		.loc 1 406 3 is_stmt 1 discriminator 3 view .LVU43
 163              		.loc 1 406 37 is_stmt 0 discriminator 3 view .LVU44
 164 000a 0B5D     		ldrb	r3, [r1, r4]	@ zero_extendqisi2
 165              		.loc 1 406 31 discriminator 3 view .LVU45
 166 000c 83EAD213 		eor	r3, r3, r2, lsr #7
 167              		.loc 1 406 11 discriminator 3 view .LVU46
 168 0010 DBB2     		uxtb	r3, r3
 169              	.LVL15:
 407:Src/LTC6811.c **** 		remainder = (remainder << 8) ^ pec15Table[address];
 170              		.loc 1 407 3 is_stmt 1 discriminator 3 view .LVU47
 171              		.loc 1 407 44 is_stmt 0 discriminator 3 view .LVU48
 172 0012 064D     		ldr	r5, .L17
 173 0014 35F91330 		ldrsh	r3, [r5, r3, lsl #1]
 174              	.LVL16:
 175              		.loc 1 407 32 discriminator 3 view .LVU49
 176 0018 83EA0222 		eor	r2, r3, r2, lsl #8
 177              	.LVL17:
 178              		.loc 1 407 13 discriminator 3 view .LVU50
 179 001c 92B2     		uxth	r2, r2
 180              	.LVL18:
 405:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 181              		.loc 1 405 28 discriminator 3 view .LVU51
 182 001e 0134     		adds	r4, r4, #1
 183              	.LVL19:
 405:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 184              		.loc 1 405 28 discriminator 3 view .LVU52
 185 0020 F1E7     		b	.L13
 186              	.L16:
 405:Src/LTC6811.c **** 		address = ((remainder >> 7) ^ data[i]) & 0xFF; //calculate PEC table address
 187              		.loc 1 405 28 discriminator 3 view .LVU53
 188              	.LBE6:
 408:Src/LTC6811.c **** 	}
 409:Src/LTC6811.c **** 	
 410:Src/LTC6811.c **** 	return (remainder * 2); //The CRC15 has a 0 in the LSB so the final value must be multiplied by 2
 189              		.loc 1 410 2 is_stmt 1 view .LVU54
 190              		.loc 1 410 20 is_stmt 0 view .LVU55
 191 0022 5000     		lsls	r0, r2, #1
 192              	.LVL20:
 193              		.loc 1 410 20 view .LVU56
 194 0024 80B2     		uxth	r0, r0
 411:Src/LTC6811.c **** };
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 12


 195              		.loc 1 411 1 view .LVU57
 196 0026 30BC     		pop	{r4, r5}
 197              	.LCFI1:
 198              		.cfi_restore 5
 199              		.cfi_restore 4
 200              		.cfi_def_cfa_offset 0
 201              	.LVL21:
 202              		.loc 1 411 1 view .LVU58
 203 0028 7047     		bx	lr
 204              	.L18:
 205 002a 00BF     		.align	2
 206              	.L17:
 207 002c 00000000 		.word	pec15Table
 208              		.cfi_endproc
 209              	.LFE77:
 211              		.section	.text.writeConfig,"ax",%progbits
 212              		.align	1
 213              		.global	writeConfig
 214              		.syntax unified
 215              		.thumb
 216              		.thumb_func
 217              		.fpu softvfp
 219              	writeConfig:
 220              	.LVL22:
 221              	.LFB67:
  66:Src/LTC6811.c **** 	
 222              		.loc 1 66 64 is_stmt 1 view -0
 223              		.cfi_startproc
 224              		@ args = 32, pretend = 16, frame = 0
 225              		@ frame_needed = 0, uses_anonymous_args = 0
  66:Src/LTC6811.c **** 	
 226              		.loc 1 66 64 is_stmt 0 view .LVU60
 227 0000 84B0     		sub	sp, sp, #16
 228              	.LCFI2:
 229              		.cfi_def_cfa_offset 16
 230 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 231              	.LCFI3:
 232              		.cfi_def_cfa_offset 48
 233              		.cfi_offset 4, -48
 234              		.cfi_offset 5, -44
 235              		.cfi_offset 6, -40
 236              		.cfi_offset 7, -36
 237              		.cfi_offset 8, -32
 238              		.cfi_offset 9, -28
 239              		.cfi_offset 10, -24
 240              		.cfi_offset 14, -20
 241 0006 08AC     		add	r4, sp, #32
 242 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 243 000c 9DF83CA0 		ldrb	r10, [sp, #60]	@ zero_extendqisi2
  75:Src/LTC6811.c **** 	uint8_t *cmd;
 244              		.loc 1 75 2 is_stmt 1 view .LVU61
  76:Src/LTC6811.c **** 	uint8_t cmd_len = 12;
 245              		.loc 1 76 2 view .LVU62
  77:Src/LTC6811.c **** 	uint16_t PEC_return;
 246              		.loc 1 77 2 view .LVU63
 247              	.LVL23:
  78:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 13


 248              		.loc 1 78 2 view .LVU64
  80:Src/LTC6811.c **** 	
 249              		.loc 1 80 2 view .LVU65
  80:Src/LTC6811.c **** 	
 250              		.loc 1 80 19 is_stmt 0 view .LVU66
 251 0010 0C20     		movs	r0, #12
 252 0012 FFF7FEFF 		bl	malloc
 253              	.LVL24:
 254 0016 0446     		mov	r4, r0
 255              	.LVL25:
  82:Src/LTC6811.c **** 	config[1] = 0xFF;
 256              		.loc 1 82 2 is_stmt 1 view .LVU67
  83:Src/LTC6811.c **** 	//config[0] = (uint8_t) (cfg.GPIO5PulldownOff << 7) | (cfg.GPIO4PulldownOff << 6) | (cfg.GPIO3Pull
 257              		.loc 1 83 2 view .LVU68
  86:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 258              		.loc 1 86 2 view .LVU69
  86:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 259              		.loc 1 86 29 is_stmt 0 view .LVU70
 260 0018 BDF82A90 		ldrh	r9, [sp, #42]
  86:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 261              		.loc 1 86 59 view .LVU71
 262 001c 4FEA0918 		lsl	r8, r9, #4
  86:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 263              		.loc 1 86 14 view .LVU72
 264 0020 4FFA88F8 		sxtb	r8, r8
  86:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 265              		.loc 1 86 80 view .LVU73
 266 0024 BDF82830 		ldrh	r3, [sp, #40]
  86:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 267              		.loc 1 86 117 view .LVU74
 268 0028 C3F30323 		ubfx	r3, r3, #8, #4
  86:Src/LTC6811.c **** 	config[3] = (uint8_t) ((cfg.OvervoltageComparisonVoltage >> 4) & 0xFF);
 269              		.loc 1 86 73 view .LVU75
 270 002c 48EA0308 		orr	r8, r8, r3
 271 0030 5FFA88F8 		uxtb	r8, r8
  87:Src/LTC6811.c **** 	config[4] = (uint8_t) (cfg.DischargeCell8 << 7) | (cfg.DischargeCell7 << 6) | (cfg.DischargeCell6 
 272              		.loc 1 87 2 is_stmt 1 view .LVU76
  87:Src/LTC6811.c **** 	config[4] = (uint8_t) (cfg.DischargeCell8 << 7) | (cfg.DischargeCell7 << 6) | (cfg.DischargeCell6 
 273              		.loc 1 87 14 is_stmt 0 view .LVU77
 274 0034 C9F30719 		ubfx	r9, r9, #4, #8
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 275              		.loc 1 88 2 is_stmt 1 view .LVU78
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 276              		.loc 1 88 28 is_stmt 0 view .LVU79
 277 0038 9DF83360 		ldrb	r6, [sp, #51]	@ zero_extendqisi2
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 278              		.loc 1 88 14 view .LVU80
 279 003c F601     		lsls	r6, r6, #7
 280 003e 76B2     		sxtb	r6, r6
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 281              		.loc 1 88 56 view .LVU81
 282 0040 9DF83230 		ldrb	r3, [sp, #50]	@ zero_extendqisi2
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 283              		.loc 1 88 50 view .LVU82
 284 0044 46EA8316 		orr	r6, r6, r3, lsl #6
 285 0048 76B2     		sxtb	r6, r6
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 14


 286              		.loc 1 88 84 view .LVU83
 287 004a 9DF83130 		ldrb	r3, [sp, #49]	@ zero_extendqisi2
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 288              		.loc 1 88 78 view .LVU84
 289 004e 46EA4316 		orr	r6, r6, r3, lsl #5
 290 0052 76B2     		sxtb	r6, r6
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 291              		.loc 1 88 112 view .LVU85
 292 0054 9DF83030 		ldrb	r3, [sp, #48]	@ zero_extendqisi2
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 293              		.loc 1 88 106 view .LVU86
 294 0058 46EA0316 		orr	r6, r6, r3, lsl #4
 295 005c 76B2     		sxtb	r6, r6
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 296              		.loc 1 88 140 view .LVU87
 297 005e 9DF82F30 		ldrb	r3, [sp, #47]	@ zero_extendqisi2
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 298              		.loc 1 88 134 view .LVU88
 299 0062 46EAC306 		orr	r6, r6, r3, lsl #3
 300 0066 76B2     		sxtb	r6, r6
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 301              		.loc 1 88 168 view .LVU89
 302 0068 9DF82E30 		ldrb	r3, [sp, #46]	@ zero_extendqisi2
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 303              		.loc 1 88 162 view .LVU90
 304 006c 46EA8306 		orr	r6, r6, r3, lsl #2
 305 0070 76B2     		sxtb	r6, r6
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 306              		.loc 1 88 196 view .LVU91
 307 0072 9DF82D30 		ldrb	r3, [sp, #45]	@ zero_extendqisi2
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 308              		.loc 1 88 190 view .LVU92
 309 0076 46EA4306 		orr	r6, r6, r3, lsl #1
 310 007a 76B2     		sxtb	r6, r6
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 311              		.loc 1 88 224 view .LVU93
 312 007c 9DF92C30 		ldrsb	r3, [sp, #44]
  88:Src/LTC6811.c **** 	config[5] = (uint8_t) ((cfg.DischargeTimeoutValue << 4) & 0xF0) | (cfg.DischargeCell12 << 3) | (cf
 313              		.loc 1 88 218 view .LVU94
 314 0080 1E43     		orrs	r6, r6, r3
 315 0082 F6B2     		uxtb	r6, r6
  89:Src/LTC6811.c **** 	
 316              		.loc 1 89 2 is_stmt 1 view .LVU95
  89:Src/LTC6811.c **** 	
 317              		.loc 1 89 29 is_stmt 0 view .LVU96
 318 0084 9DF83870 		ldrb	r7, [sp, #56]	@ zero_extendqisi2
  89:Src/LTC6811.c **** 	
 319              		.loc 1 89 52 view .LVU97
 320 0088 3F01     		lsls	r7, r7, #4
  89:Src/LTC6811.c **** 	
 321              		.loc 1 89 14 view .LVU98
 322 008a 7FB2     		sxtb	r7, r7
  89:Src/LTC6811.c **** 	
 323              		.loc 1 89 72 view .LVU99
 324 008c 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
  89:Src/LTC6811.c **** 	
 325              		.loc 1 89 66 view .LVU100
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 15


 326 0090 47EAC307 		orr	r7, r7, r3, lsl #3
 327 0094 7FB2     		sxtb	r7, r7
  89:Src/LTC6811.c **** 	
 328              		.loc 1 89 101 view .LVU101
 329 0096 9DF83630 		ldrb	r3, [sp, #54]	@ zero_extendqisi2
  89:Src/LTC6811.c **** 	
 330              		.loc 1 89 95 view .LVU102
 331 009a 47EA8307 		orr	r7, r7, r3, lsl #2
 332 009e 7FB2     		sxtb	r7, r7
  89:Src/LTC6811.c **** 	
 333              		.loc 1 89 130 view .LVU103
 334 00a0 9DF83530 		ldrb	r3, [sp, #53]	@ zero_extendqisi2
  89:Src/LTC6811.c **** 	
 335              		.loc 1 89 124 view .LVU104
 336 00a4 47EA4307 		orr	r7, r7, r3, lsl #1
 337 00a8 7FB2     		sxtb	r7, r7
  89:Src/LTC6811.c **** 	
 338              		.loc 1 89 159 view .LVU105
 339 00aa 9DF93430 		ldrsb	r3, [sp, #52]
  89:Src/LTC6811.c **** 	
 340              		.loc 1 89 153 view .LVU106
 341 00ae 1F43     		orrs	r7, r7, r3
 342 00b0 FFB2     		uxtb	r7, r7
  91:Src/LTC6811.c **** 	
 343              		.loc 1 91 2 is_stmt 1 view .LVU107
 344              	.LBB7:
  91:Src/LTC6811.c **** 	
 345              		.loc 1 91 7 view .LVU108
 346              	.LVL26:
  91:Src/LTC6811.c **** 	
 347              		.loc 1 91 15 is_stmt 0 view .LVU109
 348 00b2 0025     		movs	r5, #0
 349              	.LVL27:
 350              	.L20:
  91:Src/LTC6811.c **** 	
 351              		.loc 1 91 2 discriminator 1 view .LVU110
 352 00b4 5545     		cmp	r5, r10
 353 00b6 25D2     		bcs	.L23
  93:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 354              		.loc 1 93 3 is_stmt 1 discriminator 3 view .LVU111
  93:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 355              		.loc 1 93 43 is_stmt 0 discriminator 3 view .LVU112
 356 00b8 EB00     		lsls	r3, r5, #3
  93:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 357              		.loc 1 93 49 discriminator 3 view .LVU113
 358 00ba 03F07803 		and	r3, r3, #120
  93:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 359              		.loc 1 93 12 discriminator 3 view .LVU114
 360 00be 43F08003 		orr	r3, r3, #128
  93:Src/LTC6811.c **** 		cmd[1] = (uint8_t) (WriteConfigurationRegisterGroup & 0xFF);
 361              		.loc 1 93 10 discriminator 3 view .LVU115
 362 00c2 2370     		strb	r3, [r4]
  94:Src/LTC6811.c **** 		
 363              		.loc 1 94 3 is_stmt 1 discriminator 3 view .LVU116
  94:Src/LTC6811.c **** 		
 364              		.loc 1 94 10 is_stmt 0 discriminator 3 view .LVU117
 365 00c4 0123     		movs	r3, #1
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 16


 366 00c6 6370     		strb	r3, [r4, #1]
  96:Src/LTC6811.c **** 		
 367              		.loc 1 96 3 is_stmt 1 discriminator 3 view .LVU118
  96:Src/LTC6811.c **** 		
 368              		.loc 1 96 16 is_stmt 0 discriminator 3 view .LVU119
 369 00c8 2146     		mov	r1, r4
 370 00ca 0220     		movs	r0, #2
 371 00cc FFF7FEFF 		bl	calculatePEC
 372              	.LVL28:
  98:Src/LTC6811.c **** 		cmd[3] = PEC_return & 0xFF;
 373              		.loc 1 98 3 is_stmt 1 discriminator 3 view .LVU120
  98:Src/LTC6811.c **** 		cmd[3] = PEC_return & 0xFF;
 374              		.loc 1 98 10 is_stmt 0 discriminator 3 view .LVU121
 375 00d0 030A     		lsrs	r3, r0, #8
 376 00d2 A370     		strb	r3, [r4, #2]
  99:Src/LTC6811.c **** 	
 377              		.loc 1 99 3 is_stmt 1 discriminator 3 view .LVU122
  99:Src/LTC6811.c **** 	
 378              		.loc 1 99 10 is_stmt 0 discriminator 3 view .LVU123
 379 00d4 E070     		strb	r0, [r4, #3]
 101:Src/LTC6811.c **** 		cmd[5] = config[1];
 380              		.loc 1 101 3 is_stmt 1 discriminator 3 view .LVU124
 101:Src/LTC6811.c **** 		cmd[5] = config[1];
 381              		.loc 1 101 10 is_stmt 0 discriminator 3 view .LVU125
 382 00d6 FF23     		movs	r3, #255
 383 00d8 2371     		strb	r3, [r4, #4]
 102:Src/LTC6811.c **** 		cmd[6] = config[2];
 384              		.loc 1 102 3 is_stmt 1 discriminator 3 view .LVU126
 102:Src/LTC6811.c **** 		cmd[6] = config[2];
 385              		.loc 1 102 10 is_stmt 0 discriminator 3 view .LVU127
 386 00da 6371     		strb	r3, [r4, #5]
 103:Src/LTC6811.c **** 		cmd[7] = config[3];
 387              		.loc 1 103 3 is_stmt 1 discriminator 3 view .LVU128
 103:Src/LTC6811.c **** 		cmd[7] = config[3];
 388              		.loc 1 103 10 is_stmt 0 discriminator 3 view .LVU129
 389 00dc 84F80680 		strb	r8, [r4, #6]
 104:Src/LTC6811.c **** 		cmd[8] = config[4];
 390              		.loc 1 104 3 is_stmt 1 discriminator 3 view .LVU130
 104:Src/LTC6811.c **** 		cmd[8] = config[4];
 391              		.loc 1 104 10 is_stmt 0 discriminator 3 view .LVU131
 392 00e0 84F80790 		strb	r9, [r4, #7]
 105:Src/LTC6811.c **** 		cmd[9] = config[5];
 393              		.loc 1 105 3 is_stmt 1 discriminator 3 view .LVU132
 105:Src/LTC6811.c **** 		cmd[9] = config[5];
 394              		.loc 1 105 10 is_stmt 0 discriminator 3 view .LVU133
 395 00e4 2672     		strb	r6, [r4, #8]
 106:Src/LTC6811.c **** 		
 396              		.loc 1 106 3 is_stmt 1 discriminator 3 view .LVU134
 106:Src/LTC6811.c **** 		
 397              		.loc 1 106 10 is_stmt 0 discriminator 3 view .LVU135
 398 00e6 6772     		strb	r7, [r4, #9]
 108:Src/LTC6811.c **** 	
 399              		.loc 1 108 3 is_stmt 1 discriminator 3 view .LVU136
 108:Src/LTC6811.c **** 	
 400              		.loc 1 108 16 is_stmt 0 discriminator 3 view .LVU137
 401 00e8 211D     		adds	r1, r4, #4
 402 00ea 0620     		movs	r0, #6
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 17


 403              	.LVL29:
 108:Src/LTC6811.c **** 	
 404              		.loc 1 108 16 discriminator 3 view .LVU138
 405 00ec FFF7FEFF 		bl	calculatePEC
 406              	.LVL30:
 110:Src/LTC6811.c **** 		cmd[11] = PEC_return & 0xFF;
 407              		.loc 1 110 3 is_stmt 1 discriminator 3 view .LVU139
 110:Src/LTC6811.c **** 		cmd[11] = PEC_return & 0xFF;
 408              		.loc 1 110 11 is_stmt 0 discriminator 3 view .LVU140
 409 00f0 030A     		lsrs	r3, r0, #8
 410 00f2 A372     		strb	r3, [r4, #10]
 111:Src/LTC6811.c **** 		
 411              		.loc 1 111 3 is_stmt 1 discriminator 3 view .LVU141
 111:Src/LTC6811.c **** 		
 412              		.loc 1 111 11 is_stmt 0 discriminator 3 view .LVU142
 413 00f4 E072     		strb	r0, [r4, #11]
 113:Src/LTC6811.c **** 		
 414              		.loc 1 113 3 is_stmt 1 discriminator 3 view .LVU143
 415 00f6 0C21     		movs	r1, #12
 416 00f8 2046     		mov	r0, r4
 417              	.LVL31:
 113:Src/LTC6811.c **** 		
 418              		.loc 1 113 3 is_stmt 0 discriminator 3 view .LVU144
 419 00fa FFF7FEFF 		bl	SPIWrite
 420              	.LVL32:
  91:Src/LTC6811.c **** 	
 421              		.loc 1 91 67 discriminator 3 view .LVU145
 422 00fe 0135     		adds	r5, r5, #1
 423              	.LVL33:
  91:Src/LTC6811.c **** 	
 424              		.loc 1 91 67 discriminator 3 view .LVU146
 425 0100 EDB2     		uxtb	r5, r5
 426              	.LVL34:
  91:Src/LTC6811.c **** 	
 427              		.loc 1 91 67 discriminator 3 view .LVU147
 428 0102 D7E7     		b	.L20
 429              	.L23:
  91:Src/LTC6811.c **** 	
 430              		.loc 1 91 67 discriminator 3 view .LVU148
 431              	.LBE7:
 118:Src/LTC6811.c **** 	
 432              		.loc 1 118 2 is_stmt 1 view .LVU149
 433 0104 2046     		mov	r0, r4
 434 0106 FFF7FEFF 		bl	free
 435              	.LVL35:
 120:Src/LTC6811.c **** 
 436              		.loc 1 120 1 is_stmt 0 view .LVU150
 437 010a BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 438              	.LCFI4:
 439              		.cfi_restore 14
 440              		.cfi_restore 10
 441              		.cfi_restore 9
 442              		.cfi_restore 8
 443              		.cfi_restore 7
 444              		.cfi_restore 6
 445              		.cfi_restore 5
 446              		.cfi_restore 4
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 18


 447              		.cfi_def_cfa_offset 16
 448              	.LVL36:
 120:Src/LTC6811.c **** 
 449              		.loc 1 120 1 view .LVU151
 450 010e 04B0     		add	sp, sp, #16
 451              	.LCFI5:
 452              		.cfi_def_cfa_offset 0
 453 0110 7047     		bx	lr
 454              		.cfi_endproc
 455              	.LFE67:
 457              		.section	.text.readRegister,"ax",%progbits
 458              		.align	1
 459              		.global	readRegister
 460              		.syntax unified
 461              		.thumb
 462              		.thumb_func
 463              		.fpu softvfp
 465              	readRegister:
 466              	.LVL37:
 467              	.LFB74:
 258:Src/LTC6811.c **** 	
 468              		.loc 1 258 80 is_stmt 1 view -0
 469              		.cfi_startproc
 470              		@ args = 0, pretend = 0, frame = 24
 471              		@ frame_needed = 0, uses_anonymous_args = 0
 258:Src/LTC6811.c **** 	
 472              		.loc 1 258 80 is_stmt 0 view .LVU153
 473 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 474              	.LCFI6:
 475              		.cfi_def_cfa_offset 20
 476              		.cfi_offset 4, -20
 477              		.cfi_offset 5, -16
 478              		.cfi_offset 6, -12
 479              		.cfi_offset 7, -8
 480              		.cfi_offset 14, -4
 481 0002 87B0     		sub	sp, sp, #28
 482              	.LCFI7:
 483              		.cfi_def_cfa_offset 48
 484 0004 0646     		mov	r6, r0
 485 0006 0C46     		mov	r4, r1
 486 0008 1746     		mov	r7, r2
 266:Src/LTC6811.c **** 	uint8_t rx_data[12];
 487              		.loc 1 266 2 is_stmt 1 view .LVU154
 267:Src/LTC6811.c **** 	uint16_t PEC_return;
 488              		.loc 1 267 2 view .LVU155
 268:Src/LTC6811.c **** 	uint8_t *PEC_send;
 489              		.loc 1 268 2 view .LVU156
 269:Src/LTC6811.c **** 	bool dataValid = true;
 490              		.loc 1 269 2 view .LVU157
 270:Src/LTC6811.c **** 
 491              		.loc 1 270 2 view .LVU158
 492              	.LVL38:
 272:Src/LTC6811.c **** 	
 493              		.loc 1 272 2 view .LVU159
 272:Src/LTC6811.c **** 	
 494              		.loc 1 272 24 is_stmt 0 view .LVU160
 495 000a 0620     		movs	r0, #6
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 19


 496              	.LVL39:
 272:Src/LTC6811.c **** 	
 497              		.loc 1 272 24 view .LVU161
 498 000c FFF7FEFF 		bl	malloc
 499              	.LVL40:
 272:Src/LTC6811.c **** 	
 500              		.loc 1 272 24 view .LVU162
 501 0010 0546     		mov	r5, r0
 502              	.LVL41:
 274:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 503              		.loc 1 274 2 is_stmt 1 view .LVU163
 274:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 504              		.loc 1 274 44 is_stmt 0 view .LVU164
 505 0012 E300     		lsls	r3, r4, #3
 274:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 506              		.loc 1 274 50 view .LVU165
 507 0014 03F07803 		and	r3, r3, #120
 274:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 508              		.loc 1 274 32 view .LVU166
 509 0018 63F07F03 		orn	r3, r3, #127
 274:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 510              		.loc 1 274 76 view .LVU167
 511 001c C6F30224 		ubfx	r4, r6, #8, #3
 274:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 512              		.loc 1 274 58 view .LVU168
 513 0020 2343     		orrs	r3, r3, r4
 274:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 514              		.loc 1 274 16 view .LVU169
 515 0022 DBB2     		uxtb	r3, r3
 274:Src/LTC6811.c **** 	PEC_send[1] = (uint8_t) (command & 0xFF);
 516              		.loc 1 274 14 view .LVU170
 517 0024 0370     		strb	r3, [r0]
 275:Src/LTC6811.c **** 
 518              		.loc 1 275 2 is_stmt 1 view .LVU171
 275:Src/LTC6811.c **** 
 519              		.loc 1 275 16 is_stmt 0 view .LVU172
 520 0026 F2B2     		uxtb	r2, r6
 275:Src/LTC6811.c **** 
 521              		.loc 1 275 14 view .LVU173
 522 0028 4270     		strb	r2, [r0, #1]
 277:Src/LTC6811.c **** 	cmd[1] = PEC_send[1];
 523              		.loc 1 277 2 is_stmt 1 view .LVU174
 277:Src/LTC6811.c **** 	cmd[1] = PEC_send[1];
 524              		.loc 1 277 9 is_stmt 0 view .LVU175
 525 002a 8DF80C30 		strb	r3, [sp, #12]
 278:Src/LTC6811.c **** 	
 526              		.loc 1 278 2 is_stmt 1 view .LVU176
 278:Src/LTC6811.c **** 	
 527              		.loc 1 278 9 is_stmt 0 view .LVU177
 528 002e 8DF80D20 		strb	r2, [sp, #13]
 280:Src/LTC6811.c **** 	
 529              		.loc 1 280 2 is_stmt 1 view .LVU178
 280:Src/LTC6811.c **** 	
 530              		.loc 1 280 15 is_stmt 0 view .LVU179
 531 0032 0146     		mov	r1, r0
 532 0034 0220     		movs	r0, #2
 533              	.LVL42:
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 20


 280:Src/LTC6811.c **** 	
 534              		.loc 1 280 15 view .LVU180
 535 0036 FFF7FEFF 		bl	calculatePEC
 536              	.LVL43:
 282:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 537              		.loc 1 282 2 is_stmt 1 view .LVU181
 282:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 538              		.loc 1 282 9 is_stmt 0 view .LVU182
 539 003a 030A     		lsrs	r3, r0, #8
 540 003c 8DF80E30 		strb	r3, [sp, #14]
 283:Src/LTC6811.c **** 	
 541              		.loc 1 283 2 is_stmt 1 view .LVU183
 283:Src/LTC6811.c **** 	
 542              		.loc 1 283 9 is_stmt 0 view .LVU184
 543 0040 8DF80F00 		strb	r0, [sp, #15]
 285:Src/LTC6811.c **** 	cmd[5] = 0;
 544              		.loc 1 285 2 is_stmt 1 view .LVU185
 285:Src/LTC6811.c **** 	cmd[5] = 0;
 545              		.loc 1 285 9 is_stmt 0 view .LVU186
 546 0044 0023     		movs	r3, #0
 547 0046 8DF81030 		strb	r3, [sp, #16]
 286:Src/LTC6811.c **** 	cmd[6] = 0;
 548              		.loc 1 286 2 is_stmt 1 view .LVU187
 286:Src/LTC6811.c **** 	cmd[6] = 0;
 549              		.loc 1 286 9 is_stmt 0 view .LVU188
 550 004a 8DF81130 		strb	r3, [sp, #17]
 287:Src/LTC6811.c **** 	cmd[7] = 0;
 551              		.loc 1 287 2 is_stmt 1 view .LVU189
 287:Src/LTC6811.c **** 	cmd[7] = 0;
 552              		.loc 1 287 9 is_stmt 0 view .LVU190
 553 004e 8DF81230 		strb	r3, [sp, #18]
 288:Src/LTC6811.c **** 	cmd[8] = 0;
 554              		.loc 1 288 2 is_stmt 1 view .LVU191
 288:Src/LTC6811.c **** 	cmd[8] = 0;
 555              		.loc 1 288 9 is_stmt 0 view .LVU192
 556 0052 8DF81330 		strb	r3, [sp, #19]
 289:Src/LTC6811.c **** 	cmd[9] = 0;
 557              		.loc 1 289 2 is_stmt 1 view .LVU193
 289:Src/LTC6811.c **** 	cmd[9] = 0;
 558              		.loc 1 289 9 is_stmt 0 view .LVU194
 559 0056 8DF81430 		strb	r3, [sp, #20]
 290:Src/LTC6811.c **** 	cmd[10] = 0;
 560              		.loc 1 290 2 is_stmt 1 view .LVU195
 290:Src/LTC6811.c **** 	cmd[10] = 0;
 561              		.loc 1 290 9 is_stmt 0 view .LVU196
 562 005a 8DF81530 		strb	r3, [sp, #21]
 291:Src/LTC6811.c **** 	cmd[11] = 0;
 563              		.loc 1 291 2 is_stmt 1 view .LVU197
 291:Src/LTC6811.c **** 	cmd[11] = 0;
 564              		.loc 1 291 10 is_stmt 0 view .LVU198
 565 005e 8DF81630 		strb	r3, [sp, #22]
 292:Src/LTC6811.c **** 	
 566              		.loc 1 292 2 is_stmt 1 view .LVU199
 292:Src/LTC6811.c **** 	
 567              		.loc 1 292 10 is_stmt 0 view .LVU200
 568 0062 8DF81730 		strb	r3, [sp, #23]
 294:Src/LTC6811.c **** 	
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 21


 569              		.loc 1 294 2 is_stmt 1 view .LVU201
 570 0066 0C22     		movs	r2, #12
 571 0068 6946     		mov	r1, sp
 572 006a 0DEB0200 		add	r0, sp, r2
 573              	.LVL44:
 294:Src/LTC6811.c **** 	
 574              		.loc 1 294 2 is_stmt 0 view .LVU202
 575 006e FFF7FEFF 		bl	SPIWriteRead
 576              	.LVL45:
 297:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 577              		.loc 1 297 2 is_stmt 1 view .LVU203
 297:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 578              		.loc 1 297 23 is_stmt 0 view .LVU204
 579 0072 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 297:Src/LTC6811.c **** 	PEC_send[1] = rx_data[5]; // cell 1 voltage high bytes
 580              		.loc 1 297 14 view .LVU205
 581 0076 2B70     		strb	r3, [r5]
 298:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 582              		.loc 1 298 2 is_stmt 1 view .LVU206
 298:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 583              		.loc 1 298 23 is_stmt 0 view .LVU207
 584 0078 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 298:Src/LTC6811.c **** 	PEC_send[2] = rx_data[6]; // cell 2 voltage low bytes
 585              		.loc 1 298 14 view .LVU208
 586 007c 6B70     		strb	r3, [r5, #1]
 299:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 587              		.loc 1 299 2 is_stmt 1 view .LVU209
 299:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 588              		.loc 1 299 23 is_stmt 0 view .LVU210
 589 007e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 299:Src/LTC6811.c **** 	PEC_send[3] = rx_data[7]; // cell 2 voltage high bytes
 590              		.loc 1 299 14 view .LVU211
 591 0082 AB70     		strb	r3, [r5, #2]
 300:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 592              		.loc 1 300 2 is_stmt 1 view .LVU212
 300:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 593              		.loc 1 300 23 is_stmt 0 view .LVU213
 594 0084 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 300:Src/LTC6811.c **** 	PEC_send[4] = rx_data[8]; // cell 3 voltage low bytes
 595              		.loc 1 300 14 view .LVU214
 596 0088 EB70     		strb	r3, [r5, #3]
 301:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 597              		.loc 1 301 2 is_stmt 1 view .LVU215
 301:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 598              		.loc 1 301 23 is_stmt 0 view .LVU216
 599 008a 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 301:Src/LTC6811.c **** 	PEC_send[5] = rx_data[9]; // cell 3 voltage high bytes
 600              		.loc 1 301 14 view .LVU217
 601 008e 2B71     		strb	r3, [r5, #4]
 302:Src/LTC6811.c **** 	
 602              		.loc 1 302 2 is_stmt 1 view .LVU218
 302:Src/LTC6811.c **** 	
 603              		.loc 1 302 23 is_stmt 0 view .LVU219
 604 0090 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 302:Src/LTC6811.c **** 	
 605              		.loc 1 302 14 view .LVU220
 606 0094 6B71     		strb	r3, [r5, #5]
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 22


 304:Src/LTC6811.c **** 	
 607              		.loc 1 304 2 is_stmt 1 view .LVU221
 304:Src/LTC6811.c **** 	
 608              		.loc 1 304 15 is_stmt 0 view .LVU222
 609 0096 2946     		mov	r1, r5
 610 0098 0620     		movs	r0, #6
 611 009a FFF7FEFF 		bl	calculatePEC
 612              	.LVL46:
 307:Src/LTC6811.c **** 		dataValid = false;
 613              		.loc 1 307 2 is_stmt 1 view .LVU223
 307:Src/LTC6811.c **** 		dataValid = false;
 614              		.loc 1 307 30 is_stmt 0 view .LVU224
 615 009e 9DF80A20 		ldrb	r2, [sp, #10]	@ zero_extendqisi2
 307:Src/LTC6811.c **** 		dataValid = false;
 616              		.loc 1 307 61 view .LVU225
 617 00a2 9DF80B30 		ldrb	r3, [sp, #11]	@ zero_extendqisi2
 307:Src/LTC6811.c **** 		dataValid = false;
 618              		.loc 1 307 51 view .LVU226
 619 00a6 43EA0223 		orr	r3, r3, r2, lsl #8
 307:Src/LTC6811.c **** 		dataValid = false;
 620              		.loc 1 307 5 view .LVU227
 621 00aa 9842     		cmp	r0, r3
 622 00ac 12D0     		beq	.L35
 308:Src/LTC6811.c **** 	}
 623              		.loc 1 308 13 view .LVU228
 624 00ae 0020     		movs	r0, #0
 625              	.LVL47:
 626              	.L25:
 311:Src/LTC6811.c **** 		
 627              		.loc 1 311 2 is_stmt 1 view .LVU229
 311:Src/LTC6811.c **** 		
 628              		.loc 1 311 5 is_stmt 0 view .LVU230
 629 00b0 042E     		cmp	r6, #4
 630 00b2 11D0     		beq	.L36
 631              	.L26:
 318:Src/LTC6811.c **** 		
 632              		.loc 1 318 2 is_stmt 1 view .LVU231
 318:Src/LTC6811.c **** 		
 633              		.loc 1 318 5 is_stmt 0 view .LVU232
 634 00b4 042E     		cmp	r6, #4
 635 00b6 28D0     		beq	.L37
 636              	.L27:
 325:Src/LTC6811.c **** 		
 637              		.loc 1 325 2 is_stmt 1 view .LVU233
 325:Src/LTC6811.c **** 		
 638              		.loc 1 325 5 is_stmt 0 view .LVU234
 639 00b8 042E     		cmp	r6, #4
 640 00ba 3FD0     		beq	.L38
 641              	.L28:
 332:Src/LTC6811.c **** 		
 642              		.loc 1 332 2 is_stmt 1 view .LVU235
 332:Src/LTC6811.c **** 		
 643              		.loc 1 332 5 is_stmt 0 view .LVU236
 644 00bc 042E     		cmp	r6, #4
 645 00be 56D0     		beq	.L39
 646              	.L29:
 339:Src/LTC6811.c **** 		
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 23


 647              		.loc 1 339 2 is_stmt 1 view .LVU237
 339:Src/LTC6811.c **** 		
 648              		.loc 1 339 5 is_stmt 0 view .LVU238
 649 00c0 0C2E     		cmp	r6, #12
 650 00c2 6DD0     		beq	.L40
 651              	.L30:
 346:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 652              		.loc 1 346 2 is_stmt 1 view .LVU239
 346:Src/LTC6811.c **** 		data[3] = (uint16_t) ((rx_data[5] << 8) & 0xFF00) | (rx_data[4] & 0x00FF);
 653              		.loc 1 346 5 is_stmt 0 view .LVU240
 654 00c4 0E2E     		cmp	r6, #14
 655 00c6 00F08480 		beq	.L41
 656              	.L31:
 350:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[4] << 8) & 0xFF00) | (rx_data[5] & 0x00FF);
 657              		.loc 1 350 2 is_stmt 1 view .LVU241
 350:Src/LTC6811.c **** 		data[0] = (uint16_t) ((rx_data[4] << 8) & 0xFF00) | (rx_data[5] & 0x00FF);
 658              		.loc 1 350 5 is_stmt 0 view .LVU242
 659 00ca 022E     		cmp	r6, #2
 660 00cc 00F08A80 		beq	.L42
 661              	.L32:
 356:Src/LTC6811.c **** 	
 662              		.loc 1 356 2 is_stmt 1 view .LVU243
 358:Src/LTC6811.c **** 
 663              		.loc 1 358 1 is_stmt 0 view .LVU244
 664 00d0 07B0     		add	sp, sp, #28
 665              	.LCFI8:
 666              		.cfi_remember_state
 667              		.cfi_def_cfa_offset 20
 668              		@ sp needed
 669 00d2 F0BD     		pop	{r4, r5, r6, r7, pc}
 670              	.LVL48:
 671              	.L35:
 672              	.LCFI9:
 673              		.cfi_restore_state
 270:Src/LTC6811.c **** 
 674              		.loc 1 270 7 view .LVU245
 675 00d4 0120     		movs	r0, #1
 676              	.LVL49:
 270:Src/LTC6811.c **** 
 677              		.loc 1 270 7 view .LVU246
 678 00d6 EBE7     		b	.L25
 679              	.LVL50:
 680              	.L36:
 313:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 681              		.loc 1 313 3 is_stmt 1 view .LVU247
 313:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 682              		.loc 1 313 33 is_stmt 0 view .LVU248
 683 00d8 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 313:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 684              		.loc 1 313 37 view .LVU249
 685 00dc 1B02     		lsls	r3, r3, #8
 313:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 686              		.loc 1 313 13 view .LVU250
 687 00de 1BB2     		sxth	r3, r3
 313:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 688              		.loc 1 313 63 view .LVU251
 689 00e0 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 24


 313:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 690              		.loc 1 313 53 view .LVU252
 691 00e4 1343     		orrs	r3, r3, r2
 313:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 692              		.loc 1 313 11 view .LVU253
 693 00e6 3B80     		strh	r3, [r7]	@ movhi
 314:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 694              		.loc 1 314 3 is_stmt 1 view .LVU254
 314:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 695              		.loc 1 314 33 is_stmt 0 view .LVU255
 696 00e8 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 314:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 697              		.loc 1 314 37 view .LVU256
 698 00ec 1B02     		lsls	r3, r3, #8
 314:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 699              		.loc 1 314 13 view .LVU257
 700 00ee 1BB2     		sxth	r3, r3
 314:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 701              		.loc 1 314 63 view .LVU258
 702 00f0 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 314:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 703              		.loc 1 314 53 view .LVU259
 704 00f4 1343     		orrs	r3, r3, r2
 314:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 705              		.loc 1 314 11 view .LVU260
 706 00f6 7B80     		strh	r3, [r7, #2]	@ movhi
 315:Src/LTC6811.c **** 	}
 707              		.loc 1 315 3 is_stmt 1 view .LVU261
 315:Src/LTC6811.c **** 	}
 708              		.loc 1 315 33 is_stmt 0 view .LVU262
 709 00f8 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 315:Src/LTC6811.c **** 	}
 710              		.loc 1 315 37 view .LVU263
 711 00fc 1B02     		lsls	r3, r3, #8
 315:Src/LTC6811.c **** 	}
 712              		.loc 1 315 13 view .LVU264
 713 00fe 1BB2     		sxth	r3, r3
 315:Src/LTC6811.c **** 	}
 714              		.loc 1 315 63 view .LVU265
 715 0100 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 315:Src/LTC6811.c **** 	}
 716              		.loc 1 315 53 view .LVU266
 717 0104 1343     		orrs	r3, r3, r2
 315:Src/LTC6811.c **** 	}
 718              		.loc 1 315 11 view .LVU267
 719 0106 BB80     		strh	r3, [r7, #4]	@ movhi
 720 0108 D4E7     		b	.L26
 721              	.L37:
 320:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 722              		.loc 1 320 3 is_stmt 1 view .LVU268
 320:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 723              		.loc 1 320 33 is_stmt 0 view .LVU269
 724 010a 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 320:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 725              		.loc 1 320 37 view .LVU270
 726 010e 1B02     		lsls	r3, r3, #8
 320:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 25


 727              		.loc 1 320 13 view .LVU271
 728 0110 1BB2     		sxth	r3, r3
 320:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 729              		.loc 1 320 63 view .LVU272
 730 0112 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 320:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 731              		.loc 1 320 53 view .LVU273
 732 0116 1343     		orrs	r3, r3, r2
 320:Src/LTC6811.c **** 		data[4] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 733              		.loc 1 320 11 view .LVU274
 734 0118 FB80     		strh	r3, [r7, #6]	@ movhi
 321:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 735              		.loc 1 321 3 is_stmt 1 view .LVU275
 321:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 736              		.loc 1 321 33 is_stmt 0 view .LVU276
 737 011a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 321:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 738              		.loc 1 321 37 view .LVU277
 739 011e 1B02     		lsls	r3, r3, #8
 321:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 740              		.loc 1 321 13 view .LVU278
 741 0120 1BB2     		sxth	r3, r3
 321:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 742              		.loc 1 321 63 view .LVU279
 743 0122 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 321:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 744              		.loc 1 321 53 view .LVU280
 745 0126 1343     		orrs	r3, r3, r2
 321:Src/LTC6811.c **** 		data[5] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 746              		.loc 1 321 11 view .LVU281
 747 0128 3B81     		strh	r3, [r7, #8]	@ movhi
 322:Src/LTC6811.c **** 	}
 748              		.loc 1 322 3 is_stmt 1 view .LVU282
 322:Src/LTC6811.c **** 	}
 749              		.loc 1 322 33 is_stmt 0 view .LVU283
 750 012a 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 322:Src/LTC6811.c **** 	}
 751              		.loc 1 322 37 view .LVU284
 752 012e 1B02     		lsls	r3, r3, #8
 322:Src/LTC6811.c **** 	}
 753              		.loc 1 322 13 view .LVU285
 754 0130 1BB2     		sxth	r3, r3
 322:Src/LTC6811.c **** 	}
 755              		.loc 1 322 63 view .LVU286
 756 0132 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 322:Src/LTC6811.c **** 	}
 757              		.loc 1 322 53 view .LVU287
 758 0136 1343     		orrs	r3, r3, r2
 322:Src/LTC6811.c **** 	}
 759              		.loc 1 322 11 view .LVU288
 760 0138 7B81     		strh	r3, [r7, #10]	@ movhi
 761 013a BDE7     		b	.L27
 762              	.L38:
 327:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 763              		.loc 1 327 3 is_stmt 1 view .LVU289
 327:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 764              		.loc 1 327 33 is_stmt 0 view .LVU290
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 26


 765 013c 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 327:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 766              		.loc 1 327 37 view .LVU291
 767 0140 1B02     		lsls	r3, r3, #8
 327:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 768              		.loc 1 327 13 view .LVU292
 769 0142 1BB2     		sxth	r3, r3
 327:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 770              		.loc 1 327 63 view .LVU293
 771 0144 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 327:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 772              		.loc 1 327 53 view .LVU294
 773 0148 1343     		orrs	r3, r3, r2
 327:Src/LTC6811.c **** 		data[7] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 774              		.loc 1 327 11 view .LVU295
 775 014a BB81     		strh	r3, [r7, #12]	@ movhi
 328:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 776              		.loc 1 328 3 is_stmt 1 view .LVU296
 328:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 777              		.loc 1 328 33 is_stmt 0 view .LVU297
 778 014c 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 328:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 779              		.loc 1 328 37 view .LVU298
 780 0150 1B02     		lsls	r3, r3, #8
 328:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 781              		.loc 1 328 13 view .LVU299
 782 0152 1BB2     		sxth	r3, r3
 328:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 783              		.loc 1 328 63 view .LVU300
 784 0154 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 328:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 785              		.loc 1 328 53 view .LVU301
 786 0158 1343     		orrs	r3, r3, r2
 328:Src/LTC6811.c **** 		data[8] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 787              		.loc 1 328 11 view .LVU302
 788 015a FB81     		strh	r3, [r7, #14]	@ movhi
 329:Src/LTC6811.c **** 	}
 789              		.loc 1 329 3 is_stmt 1 view .LVU303
 329:Src/LTC6811.c **** 	}
 790              		.loc 1 329 33 is_stmt 0 view .LVU304
 791 015c 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 329:Src/LTC6811.c **** 	}
 792              		.loc 1 329 37 view .LVU305
 793 0160 1B02     		lsls	r3, r3, #8
 329:Src/LTC6811.c **** 	}
 794              		.loc 1 329 13 view .LVU306
 795 0162 1BB2     		sxth	r3, r3
 329:Src/LTC6811.c **** 	}
 796              		.loc 1 329 63 view .LVU307
 797 0164 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 329:Src/LTC6811.c **** 	}
 798              		.loc 1 329 53 view .LVU308
 799 0168 1343     		orrs	r3, r3, r2
 329:Src/LTC6811.c **** 	}
 800              		.loc 1 329 11 view .LVU309
 801 016a 3B82     		strh	r3, [r7, #16]	@ movhi
 802 016c A6E7     		b	.L28
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 27


 803              	.L39:
 334:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 804              		.loc 1 334 3 is_stmt 1 view .LVU310
 334:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 805              		.loc 1 334 33 is_stmt 0 view .LVU311
 806 016e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 334:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 807              		.loc 1 334 37 view .LVU312
 808 0172 1B02     		lsls	r3, r3, #8
 334:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 809              		.loc 1 334 13 view .LVU313
 810 0174 1BB2     		sxth	r3, r3
 334:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 811              		.loc 1 334 63 view .LVU314
 812 0176 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 334:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 813              		.loc 1 334 53 view .LVU315
 814 017a 1343     		orrs	r3, r3, r2
 334:Src/LTC6811.c **** 		data[10] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 815              		.loc 1 334 11 view .LVU316
 816 017c 7B82     		strh	r3, [r7, #18]	@ movhi
 335:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 817              		.loc 1 335 3 is_stmt 1 view .LVU317
 335:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 818              		.loc 1 335 34 is_stmt 0 view .LVU318
 819 017e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 335:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 820              		.loc 1 335 38 view .LVU319
 821 0182 1B02     		lsls	r3, r3, #8
 335:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 822              		.loc 1 335 14 view .LVU320
 823 0184 1BB2     		sxth	r3, r3
 335:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 824              		.loc 1 335 64 view .LVU321
 825 0186 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 335:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 826              		.loc 1 335 54 view .LVU322
 827 018a 1343     		orrs	r3, r3, r2
 335:Src/LTC6811.c **** 		data[11] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 828              		.loc 1 335 12 view .LVU323
 829 018c BB82     		strh	r3, [r7, #20]	@ movhi
 336:Src/LTC6811.c **** 	}
 830              		.loc 1 336 3 is_stmt 1 view .LVU324
 336:Src/LTC6811.c **** 	}
 831              		.loc 1 336 34 is_stmt 0 view .LVU325
 832 018e 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 336:Src/LTC6811.c **** 	}
 833              		.loc 1 336 38 view .LVU326
 834 0192 1B02     		lsls	r3, r3, #8
 336:Src/LTC6811.c **** 	}
 835              		.loc 1 336 14 view .LVU327
 836 0194 1BB2     		sxth	r3, r3
 336:Src/LTC6811.c **** 	}
 837              		.loc 1 336 64 view .LVU328
 838 0196 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 336:Src/LTC6811.c **** 	}
 839              		.loc 1 336 54 view .LVU329
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 28


 840 019a 1343     		orrs	r3, r3, r2
 336:Src/LTC6811.c **** 	}
 841              		.loc 1 336 12 view .LVU330
 842 019c FB82     		strh	r3, [r7, #22]	@ movhi
 843 019e 8FE7     		b	.L29
 844              	.L40:
 341:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 845              		.loc 1 341 3 is_stmt 1 view .LVU331
 341:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 846              		.loc 1 341 33 is_stmt 0 view .LVU332
 847 01a0 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 341:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 848              		.loc 1 341 37 view .LVU333
 849 01a4 1B02     		lsls	r3, r3, #8
 341:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 850              		.loc 1 341 13 view .LVU334
 851 01a6 1BB2     		sxth	r3, r3
 341:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 852              		.loc 1 341 63 view .LVU335
 853 01a8 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 341:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 854              		.loc 1 341 53 view .LVU336
 855 01ac 1343     		orrs	r3, r3, r2
 341:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[7] << 8) & 0xFF00) | (rx_data[6] & 0x00FF);
 856              		.loc 1 341 11 view .LVU337
 857 01ae 3B80     		strh	r3, [r7]	@ movhi
 342:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 858              		.loc 1 342 3 is_stmt 1 view .LVU338
 342:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 859              		.loc 1 342 33 is_stmt 0 view .LVU339
 860 01b0 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 342:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 861              		.loc 1 342 37 view .LVU340
 862 01b4 1B02     		lsls	r3, r3, #8
 342:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 863              		.loc 1 342 13 view .LVU341
 864 01b6 1BB2     		sxth	r3, r3
 342:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 865              		.loc 1 342 63 view .LVU342
 866 01b8 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 342:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 867              		.loc 1 342 53 view .LVU343
 868 01bc 1343     		orrs	r3, r3, r2
 342:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[9] << 8) & 0xFF00) | (rx_data[8] & 0x00FF);
 869              		.loc 1 342 11 view .LVU344
 870 01be 7B80     		strh	r3, [r7, #2]	@ movhi
 343:Src/LTC6811.c **** 	}
 871              		.loc 1 343 3 is_stmt 1 view .LVU345
 343:Src/LTC6811.c **** 	}
 872              		.loc 1 343 33 is_stmt 0 view .LVU346
 873 01c0 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 343:Src/LTC6811.c **** 	}
 874              		.loc 1 343 37 view .LVU347
 875 01c4 1B02     		lsls	r3, r3, #8
 343:Src/LTC6811.c **** 	}
 876              		.loc 1 343 13 view .LVU348
 877 01c6 1BB2     		sxth	r3, r3
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 29


 343:Src/LTC6811.c **** 	}
 878              		.loc 1 343 63 view .LVU349
 879 01c8 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 343:Src/LTC6811.c **** 	}
 880              		.loc 1 343 53 view .LVU350
 881 01cc 1343     		orrs	r3, r3, r2
 343:Src/LTC6811.c **** 	}
 882              		.loc 1 343 11 view .LVU351
 883 01ce BB80     		strh	r3, [r7, #4]	@ movhi
 884 01d0 78E7     		b	.L30
 885              	.L41:
 347:Src/LTC6811.c **** 	}
 886              		.loc 1 347 3 is_stmt 1 view .LVU352
 347:Src/LTC6811.c **** 	}
 887              		.loc 1 347 33 is_stmt 0 view .LVU353
 888 01d2 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 347:Src/LTC6811.c **** 	}
 889              		.loc 1 347 37 view .LVU354
 890 01d6 1B02     		lsls	r3, r3, #8
 347:Src/LTC6811.c **** 	}
 891              		.loc 1 347 13 view .LVU355
 892 01d8 1BB2     		sxth	r3, r3
 347:Src/LTC6811.c **** 	}
 893              		.loc 1 347 63 view .LVU356
 894 01da 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 347:Src/LTC6811.c **** 	}
 895              		.loc 1 347 53 view .LVU357
 896 01de 1343     		orrs	r3, r3, r2
 347:Src/LTC6811.c **** 	}
 897              		.loc 1 347 11 view .LVU358
 898 01e0 FB80     		strh	r3, [r7, #6]	@ movhi
 899 01e2 72E7     		b	.L31
 900              	.L42:
 351:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 901              		.loc 1 351 3 is_stmt 1 view .LVU359
 351:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 902              		.loc 1 351 33 is_stmt 0 view .LVU360
 903 01e4 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 351:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 904              		.loc 1 351 37 view .LVU361
 905 01e8 1B02     		lsls	r3, r3, #8
 351:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 906              		.loc 1 351 13 view .LVU362
 907 01ea 1BB2     		sxth	r3, r3
 351:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 908              		.loc 1 351 63 view .LVU363
 909 01ec 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 351:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 910              		.loc 1 351 53 view .LVU364
 911 01f0 1343     		orrs	r3, r3, r2
 351:Src/LTC6811.c **** 		data[1] = (uint16_t) ((rx_data[6] << 8) & 0xFF00) | (rx_data[7] & 0x00FF);
 912              		.loc 1 351 11 view .LVU365
 913 01f2 3B80     		strh	r3, [r7]	@ movhi
 352:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 914              		.loc 1 352 3 is_stmt 1 view .LVU366
 352:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 915              		.loc 1 352 33 is_stmt 0 view .LVU367
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 30


 916 01f4 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 352:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 917              		.loc 1 352 37 view .LVU368
 918 01f8 1B02     		lsls	r3, r3, #8
 352:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 919              		.loc 1 352 13 view .LVU369
 920 01fa 1BB2     		sxth	r3, r3
 352:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 921              		.loc 1 352 63 view .LVU370
 922 01fc 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 352:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 923              		.loc 1 352 53 view .LVU371
 924 0200 1343     		orrs	r3, r3, r2
 352:Src/LTC6811.c **** 		data[2] = (uint16_t) ((rx_data[8] << 8) & 0xFF00) | (rx_data[9] & 0x00FF);
 925              		.loc 1 352 11 view .LVU372
 926 0202 7B80     		strh	r3, [r7, #2]	@ movhi
 353:Src/LTC6811.c **** 	}
 927              		.loc 1 353 3 is_stmt 1 view .LVU373
 353:Src/LTC6811.c **** 	}
 928              		.loc 1 353 33 is_stmt 0 view .LVU374
 929 0204 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 353:Src/LTC6811.c **** 	}
 930              		.loc 1 353 37 view .LVU375
 931 0208 1B02     		lsls	r3, r3, #8
 353:Src/LTC6811.c **** 	}
 932              		.loc 1 353 13 view .LVU376
 933 020a 1BB2     		sxth	r3, r3
 353:Src/LTC6811.c **** 	}
 934              		.loc 1 353 63 view .LVU377
 935 020c 9DF80920 		ldrb	r2, [sp, #9]	@ zero_extendqisi2
 353:Src/LTC6811.c **** 	}
 936              		.loc 1 353 53 view .LVU378
 937 0210 1343     		orrs	r3, r3, r2
 353:Src/LTC6811.c **** 	}
 938              		.loc 1 353 11 view .LVU379
 939 0212 BB80     		strh	r3, [r7, #4]	@ movhi
 940 0214 5CE7     		b	.L32
 941              		.cfi_endproc
 942              	.LFE74:
 944              		.section	.text.readConfig,"ax",%progbits
 945              		.align	1
 946              		.global	readConfig
 947              		.syntax unified
 948              		.thumb
 949              		.thumb_func
 950              		.fpu softvfp
 952              	readConfig:
 953              	.LVL51:
 954              	.LFB72:
 216:Src/LTC6811.c **** 	
 955              		.loc 1 216 50 is_stmt 1 view -0
 956              		.cfi_startproc
 957              		@ args = 0, pretend = 0, frame = 0
 958              		@ frame_needed = 0, uses_anonymous_args = 0
 216:Src/LTC6811.c **** 	
 959              		.loc 1 216 50 is_stmt 0 view .LVU381
 960 0000 70B5     		push	{r4, r5, r6, lr}
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 31


 961              	.LCFI10:
 962              		.cfi_def_cfa_offset 16
 963              		.cfi_offset 4, -16
 964              		.cfi_offset 5, -12
 965              		.cfi_offset 6, -8
 966              		.cfi_offset 14, -4
 967 0002 0646     		mov	r6, r0
 968 0004 0C46     		mov	r4, r1
 218:Src/LTC6811.c **** 	
 969              		.loc 1 218 2 is_stmt 1 view .LVU382
 220:Src/LTC6811.c **** 	
 970              		.loc 1 220 2 view .LVU383
 220:Src/LTC6811.c **** 	
 971              		.loc 1 220 23 is_stmt 0 view .LVU384
 972 0006 0620     		movs	r0, #6
 973              	.LVL52:
 220:Src/LTC6811.c **** 	
 974              		.loc 1 220 23 view .LVU385
 975 0008 FFF7FEFF 		bl	malloc
 976              	.LVL53:
 220:Src/LTC6811.c **** 	
 977              		.loc 1 220 23 view .LVU386
 978 000c 0546     		mov	r5, r0
 979              	.LVL54:
 222:Src/LTC6811.c **** 	
 980              		.loc 1 222 2 is_stmt 1 view .LVU387
 981 000e 0246     		mov	r2, r0
 982 0010 3146     		mov	r1, r6
 983 0012 0220     		movs	r0, #2
 984              	.LVL55:
 222:Src/LTC6811.c **** 	
 985              		.loc 1 222 2 is_stmt 0 view .LVU388
 986 0014 FFF7FEFF 		bl	readRegister
 987              	.LVL56:
 224:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 988              		.loc 1 224 2 is_stmt 1 view .LVU389
 224:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 989              		.loc 1 224 29 is_stmt 0 view .LVU390
 990 0018 2B88     		ldrh	r3, [r5]
 224:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 991              		.loc 1 224 11 view .LVU391
 992 001a 1A0A     		lsrs	r2, r3, #8
 224:Src/LTC6811.c **** 	cfg[1] = (uint8_t) (config[0] & 0xFF);
 993              		.loc 1 224 9 view .LVU392
 994 001c 2270     		strb	r2, [r4]
 225:Src/LTC6811.c **** 	cfg[2] = (uint8_t) ((config[1] >> 8) & 0xFF);
 995              		.loc 1 225 2 is_stmt 1 view .LVU393
 225:Src/LTC6811.c **** 	cfg[2] = (uint8_t) ((config[1] >> 8) & 0xFF);
 996              		.loc 1 225 9 is_stmt 0 view .LVU394
 997 001e 6370     		strb	r3, [r4, #1]
 226:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 998              		.loc 1 226 2 is_stmt 1 view .LVU395
 226:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 999              		.loc 1 226 29 is_stmt 0 view .LVU396
 1000 0020 6B88     		ldrh	r3, [r5, #2]
 226:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 1001              		.loc 1 226 11 view .LVU397
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 32


 1002 0022 1A0A     		lsrs	r2, r3, #8
 226:Src/LTC6811.c **** 	cfg[3] = (uint8_t) (config[1] & 0xFF);
 1003              		.loc 1 226 9 view .LVU398
 1004 0024 A270     		strb	r2, [r4, #2]
 227:Src/LTC6811.c **** 	cfg[4] = (uint8_t) ((config[2] >> 8) & 0xFF);
 1005              		.loc 1 227 2 is_stmt 1 view .LVU399
 227:Src/LTC6811.c **** 	cfg[4] = (uint8_t) ((config[2] >> 8) & 0xFF);
 1006              		.loc 1 227 9 is_stmt 0 view .LVU400
 1007 0026 E370     		strb	r3, [r4, #3]
 228:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 1008              		.loc 1 228 2 is_stmt 1 view .LVU401
 228:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 1009              		.loc 1 228 29 is_stmt 0 view .LVU402
 1010 0028 AB88     		ldrh	r3, [r5, #4]
 228:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 1011              		.loc 1 228 11 view .LVU403
 1012 002a 1A0A     		lsrs	r2, r3, #8
 228:Src/LTC6811.c **** 	cfg[5] = (uint8_t) (config[2] & 0xFF);
 1013              		.loc 1 228 9 view .LVU404
 1014 002c 2271     		strb	r2, [r4, #4]
 229:Src/LTC6811.c **** 	
 1015              		.loc 1 229 2 is_stmt 1 view .LVU405
 229:Src/LTC6811.c **** 	
 1016              		.loc 1 229 9 is_stmt 0 view .LVU406
 1017 002e 6371     		strb	r3, [r4, #5]
 231:Src/LTC6811.c **** }
 1018              		.loc 1 231 2 is_stmt 1 view .LVU407
 232:Src/LTC6811.c **** 
 1019              		.loc 1 232 1 is_stmt 0 view .LVU408
 1020 0030 0020     		movs	r0, #0
 1021 0032 70BD     		pop	{r4, r5, r6, pc}
 232:Src/LTC6811.c **** 
 1022              		.loc 1 232 1 view .LVU409
 1023              		.cfi_endproc
 1024              	.LFE72:
 1026              		.section	.text.sendBroadcastCommand,"ax",%progbits
 1027              		.align	1
 1028              		.global	sendBroadcastCommand
 1029              		.syntax unified
 1030              		.thumb
 1031              		.thumb_func
 1032              		.fpu softvfp
 1034              	sendBroadcastCommand:
 1035              	.LVL57:
 1036              	.LFB75:
 360:Src/LTC6811.c **** 	
 1037              		.loc 1 360 55 is_stmt 1 view -0
 1038              		.cfi_startproc
 1039              		@ args = 0, pretend = 0, frame = 8
 1040              		@ frame_needed = 0, uses_anonymous_args = 0
 360:Src/LTC6811.c **** 	
 1041              		.loc 1 360 55 is_stmt 0 view .LVU411
 1042 0000 00B5     		push	{lr}
 1043              	.LCFI11:
 1044              		.cfi_def_cfa_offset 4
 1045              		.cfi_offset 14, -4
 1046 0002 83B0     		sub	sp, sp, #12
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 33


 1047              	.LCFI12:
 1048              		.cfi_def_cfa_offset 16
 362:Src/LTC6811.c **** 	uint16_t PEC_return;
 1049              		.loc 1 362 2 is_stmt 1 view .LVU412
 363:Src/LTC6811.c **** 	
 1050              		.loc 1 363 2 view .LVU413
 365:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 1051              		.loc 1 365 2 view .LVU414
 365:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 1052              		.loc 1 365 11 is_stmt 0 view .LVU415
 1053 0004 C0F30323 		ubfx	r3, r0, #8, #4
 365:Src/LTC6811.c **** 	cmd[1] = (uint8_t) (command & 0xFF);
 1054              		.loc 1 365 9 view .LVU416
 1055 0008 8DF80430 		strb	r3, [sp, #4]
 366:Src/LTC6811.c **** 	
 1056              		.loc 1 366 2 is_stmt 1 view .LVU417
 366:Src/LTC6811.c **** 	
 1057              		.loc 1 366 9 is_stmt 0 view .LVU418
 1058 000c 8DF80500 		strb	r0, [sp, #5]
 368:Src/LTC6811.c **** 	
 1059              		.loc 1 368 2 is_stmt 1 view .LVU419
 368:Src/LTC6811.c **** 	
 1060              		.loc 1 368 15 is_stmt 0 view .LVU420
 1061 0010 01A9     		add	r1, sp, #4
 1062 0012 0220     		movs	r0, #2
 1063              	.LVL58:
 368:Src/LTC6811.c **** 	
 1064              		.loc 1 368 15 view .LVU421
 1065 0014 FFF7FEFF 		bl	calculatePEC
 1066              	.LVL59:
 370:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1067              		.loc 1 370 2 is_stmt 1 view .LVU422
 370:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1068              		.loc 1 370 9 is_stmt 0 view .LVU423
 1069 0018 030A     		lsrs	r3, r0, #8
 1070 001a 8DF80630 		strb	r3, [sp, #6]
 371:Src/LTC6811.c **** 	
 1071              		.loc 1 371 2 is_stmt 1 view .LVU424
 371:Src/LTC6811.c **** 	
 1072              		.loc 1 371 9 is_stmt 0 view .LVU425
 1073 001e 8DF80700 		strb	r0, [sp, #7]
 373:Src/LTC6811.c **** };
 1074              		.loc 1 373 2 is_stmt 1 view .LVU426
 1075 0022 0421     		movs	r1, #4
 1076 0024 0DEB0100 		add	r0, sp, r1
 1077              	.LVL60:
 373:Src/LTC6811.c **** };
 1078              		.loc 1 373 2 is_stmt 0 view .LVU427
 1079 0028 FFF7FEFF 		bl	SPIWrite
 1080              	.LVL61:
 374:Src/LTC6811.c **** 
 1081              		.loc 1 374 1 view .LVU428
 1082 002c 03B0     		add	sp, sp, #12
 1083              	.LCFI13:
 1084              		.cfi_def_cfa_offset 4
 1085              		@ sp needed
 1086 002e 5DF804FB 		ldr	pc, [sp], #4
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 34


 1087              		.cfi_endproc
 1088              	.LFE75:
 1090              		.section	.text.sendAddressCommand,"ax",%progbits
 1091              		.align	1
 1092              		.global	sendAddressCommand
 1093              		.syntax unified
 1094              		.thumb
 1095              		.thumb_func
 1096              		.fpu softvfp
 1098              	sendAddressCommand:
 1099              	.LVL62:
 1100              	.LFB76:
 376:Src/LTC6811.c **** 	
 1101              		.loc 1 376 70 is_stmt 1 view -0
 1102              		.cfi_startproc
 1103              		@ args = 0, pretend = 0, frame = 8
 1104              		@ frame_needed = 0, uses_anonymous_args = 0
 376:Src/LTC6811.c **** 	
 1105              		.loc 1 376 70 is_stmt 0 view .LVU430
 1106 0000 70B5     		push	{r4, r5, r6, lr}
 1107              	.LCFI14:
 1108              		.cfi_def_cfa_offset 16
 1109              		.cfi_offset 4, -16
 1110              		.cfi_offset 5, -12
 1111              		.cfi_offset 6, -8
 1112              		.cfi_offset 14, -4
 1113 0002 82B0     		sub	sp, sp, #8
 1114              	.LCFI15:
 1115              		.cfi_def_cfa_offset 24
 1116 0004 0546     		mov	r5, r0
 1117 0006 0C46     		mov	r4, r1
 378:Src/LTC6811.c **** 	uint16_t PEC_return;
 1118              		.loc 1 378 2 is_stmt 1 view .LVU431
 379:Src/LTC6811.c **** 	uint8_t *msbytes;
 1119              		.loc 1 379 2 view .LVU432
 380:Src/LTC6811.c **** 	
 1120              		.loc 1 380 2 view .LVU433
 382:Src/LTC6811.c **** 	
 1121              		.loc 1 382 2 view .LVU434
 382:Src/LTC6811.c **** 	
 1122              		.loc 1 382 23 is_stmt 0 view .LVU435
 1123 0008 0220     		movs	r0, #2
 1124              	.LVL63:
 382:Src/LTC6811.c **** 	
 1125              		.loc 1 382 23 view .LVU436
 1126 000a FFF7FEFF 		bl	malloc
 1127              	.LVL64:
 382:Src/LTC6811.c **** 	
 1128              		.loc 1 382 23 view .LVU437
 1129 000e 0646     		mov	r6, r0
 1130              	.LVL65:
 384:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1131              		.loc 1 384 2 is_stmt 1 view .LVU438
 384:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1132              		.loc 1 384 43 is_stmt 0 view .LVU439
 1133 0010 E300     		lsls	r3, r4, #3
 384:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 35


 1134              		.loc 1 384 49 view .LVU440
 1135 0012 03F07803 		and	r3, r3, #120
 384:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1136              		.loc 1 384 31 view .LVU441
 1137 0016 63F07F03 		orn	r3, r3, #127
 384:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1138              		.loc 1 384 75 view .LVU442
 1139 001a C5F30224 		ubfx	r4, r5, #8, #3
 384:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1140              		.loc 1 384 57 view .LVU443
 1141 001e 2343     		orrs	r3, r3, r4
 384:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1142              		.loc 1 384 15 view .LVU444
 1143 0020 DBB2     		uxtb	r3, r3
 384:Src/LTC6811.c **** 	msbytes[1] = (uint8_t) (command & 0xFF);
 1144              		.loc 1 384 13 view .LVU445
 1145 0022 0370     		strb	r3, [r0]
 385:Src/LTC6811.c **** 
 1146              		.loc 1 385 2 is_stmt 1 view .LVU446
 385:Src/LTC6811.c **** 
 1147              		.loc 1 385 15 is_stmt 0 view .LVU447
 1148 0024 EDB2     		uxtb	r5, r5
 385:Src/LTC6811.c **** 
 1149              		.loc 1 385 13 view .LVU448
 1150 0026 4570     		strb	r5, [r0, #1]
 387:Src/LTC6811.c **** 	cmd[1] = msbytes[1];
 1151              		.loc 1 387 2 is_stmt 1 view .LVU449
 387:Src/LTC6811.c **** 	cmd[1] = msbytes[1];
 1152              		.loc 1 387 9 is_stmt 0 view .LVU450
 1153 0028 8DF80430 		strb	r3, [sp, #4]
 388:Src/LTC6811.c **** 	
 1154              		.loc 1 388 2 is_stmt 1 view .LVU451
 388:Src/LTC6811.c **** 	
 1155              		.loc 1 388 9 is_stmt 0 view .LVU452
 1156 002c 8DF80550 		strb	r5, [sp, #5]
 390:Src/LTC6811.c **** 	
 1157              		.loc 1 390 2 is_stmt 1 view .LVU453
 390:Src/LTC6811.c **** 	
 1158              		.loc 1 390 15 is_stmt 0 view .LVU454
 1159 0030 0146     		mov	r1, r0
 1160 0032 0220     		movs	r0, #2
 1161              	.LVL66:
 390:Src/LTC6811.c **** 	
 1162              		.loc 1 390 15 view .LVU455
 1163 0034 FFF7FEFF 		bl	calculatePEC
 1164              	.LVL67:
 392:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1165              		.loc 1 392 2 is_stmt 1 view .LVU456
 392:Src/LTC6811.c **** 	cmd[3] = PEC_return & 0xFF;
 1166              		.loc 1 392 9 is_stmt 0 view .LVU457
 1167 0038 030A     		lsrs	r3, r0, #8
 1168 003a 8DF80630 		strb	r3, [sp, #6]
 393:Src/LTC6811.c **** 	
 1169              		.loc 1 393 2 is_stmt 1 view .LVU458
 393:Src/LTC6811.c **** 	
 1170              		.loc 1 393 9 is_stmt 0 view .LVU459
 1171 003e 8DF80700 		strb	r0, [sp, #7]
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 36


 395:Src/LTC6811.c **** 	
 1172              		.loc 1 395 2 is_stmt 1 view .LVU460
 1173 0042 0421     		movs	r1, #4
 1174 0044 0DEB0100 		add	r0, sp, r1
 1175              	.LVL68:
 395:Src/LTC6811.c **** 	
 1176              		.loc 1 395 2 is_stmt 0 view .LVU461
 1177 0048 FFF7FEFF 		bl	SPIWrite
 1178              	.LVL69:
 397:Src/LTC6811.c **** };
 1179              		.loc 1 397 2 is_stmt 1 view .LVU462
 1180 004c 3046     		mov	r0, r6
 1181 004e FFF7FEFF 		bl	free
 1182              	.LVL70:
 398:Src/LTC6811.c **** 
 1183              		.loc 1 398 1 is_stmt 0 view .LVU463
 1184 0052 02B0     		add	sp, sp, #8
 1185              	.LCFI16:
 1186              		.cfi_def_cfa_offset 16
 1187              		@ sp needed
 1188 0054 70BD     		pop	{r4, r5, r6, pc}
 398:Src/LTC6811.c **** 
 1189              		.loc 1 398 1 view .LVU464
 1190              		.cfi_endproc
 1191              	.LFE76:
 1193              		.section	.text.readCellVoltage,"ax",%progbits
 1194              		.align	1
 1195              		.global	readCellVoltage
 1196              		.syntax unified
 1197              		.thumb
 1198              		.thumb_func
 1199              		.fpu softvfp
 1201              	readCellVoltage:
 1202              	.LVL71:
 1203              	.LFB68:
 122:Src/LTC6811.c **** 	
 1204              		.loc 1 122 65 is_stmt 1 view -0
 1205              		.cfi_startproc
 1206              		@ args = 0, pretend = 0, frame = 0
 1207              		@ frame_needed = 0, uses_anonymous_args = 0
 122:Src/LTC6811.c **** 	
 1208              		.loc 1 122 65 is_stmt 0 view .LVU466
 1209 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1210              	.LCFI17:
 1211              		.cfi_def_cfa_offset 24
 1212              		.cfi_offset 3, -24
 1213              		.cfi_offset 4, -20
 1214              		.cfi_offset 5, -16
 1215              		.cfi_offset 6, -12
 1216              		.cfi_offset 7, -8
 1217              		.cfi_offset 14, -4
 1218 0002 0746     		mov	r7, r0
 1219 0004 0D46     		mov	r5, r1
 124:Src/LTC6811.c **** 	bool dataValid = true;
 1220              		.loc 1 124 2 is_stmt 1 view .LVU467
 1221              	.LVL72:
 125:Src/LTC6811.c **** 	uint16_t *voltage;
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 37


 1222              		.loc 1 125 2 view .LVU468
 126:Src/LTC6811.c **** 	
 1223              		.loc 1 126 2 view .LVU469
 128:Src/LTC6811.c **** 	
 1224              		.loc 1 128 2 view .LVU470
 128:Src/LTC6811.c **** 	
 1225              		.loc 1 128 24 is_stmt 0 view .LVU471
 1226 0006 1820     		movs	r0, #24
 1227              	.LVL73:
 128:Src/LTC6811.c **** 	
 1228              		.loc 1 128 24 view .LVU472
 1229 0008 FFF7FEFF 		bl	malloc
 1230              	.LVL74:
 128:Src/LTC6811.c **** 	
 1231              		.loc 1 128 24 view .LVU473
 1232 000c 0446     		mov	r4, r0
 1233              	.LVL75:
 130:Src/LTC6811.c **** 
 1234              		.loc 1 130 2 is_stmt 1 view .LVU474
 1235 000e 3946     		mov	r1, r7
 1236 0010 4FF41870 		mov	r0, #608
 1237              	.LVL76:
 130:Src/LTC6811.c **** 
 1238              		.loc 1 130 2 is_stmt 0 view .LVU475
 1239 0014 FFF7FEFF 		bl	sendAddressCommand
 1240              	.LVL77:
 132:Src/LTC6811.c **** 	
 1241              		.loc 1 132 2 is_stmt 1 view .LVU476
 1242 0018 0F20     		movs	r0, #15
 1243 001a FFF7FEFF 		bl	HAL_Delay
 1244              	.LVL78:
 134:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1245              		.loc 1 134 2 view .LVU477
 134:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1246              		.loc 1 134 14 is_stmt 0 view .LVU478
 1247 001e 2246     		mov	r2, r4
 1248 0020 3946     		mov	r1, r7
 1249 0022 0420     		movs	r0, #4
 1250 0024 FFF7FEFF 		bl	readRegister
 1251              	.LVL79:
 1252 0028 0646     		mov	r6, r0
 1253              	.LVL80:
 135:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup4to6, address, voltage);
 1254              		.loc 1 135 2 is_stmt 1 view .LVU479
 136:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1255              		.loc 1 136 2 view .LVU480
 136:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1256              		.loc 1 136 14 is_stmt 0 view .LVU481
 1257 002a 2246     		mov	r2, r4
 1258 002c 3946     		mov	r1, r7
 1259 002e 0620     		movs	r0, #6
 1260 0030 FFF7FEFF 		bl	readRegister
 1261              	.LVL81:
 137:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup7to9, address, voltage);
 1262              		.loc 1 137 2 is_stmt 1 view .LVU482
 1263 0034 0640     		ands	r6, r6, r0
 1264              	.LVL82:
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 38


 137:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup7to9, address, voltage);
 1265              		.loc 1 137 2 is_stmt 0 view .LVU483
 1266 0036 F6B2     		uxtb	r6, r6
 1267              	.LVL83:
 138:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1268              		.loc 1 138 2 is_stmt 1 view .LVU484
 138:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1269              		.loc 1 138 14 is_stmt 0 view .LVU485
 1270 0038 2246     		mov	r2, r4
 1271 003a 3946     		mov	r1, r7
 1272 003c 0820     		movs	r0, #8
 1273              	.LVL84:
 138:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1274              		.loc 1 138 14 view .LVU486
 1275 003e FFF7FEFF 		bl	readRegister
 1276              	.LVL85:
 139:Src/LTC6811.c **** 	PEC_check = readRegister(ReadCellVoltageRegisterGroup10to12, address, voltage);
 1277              		.loc 1 139 2 is_stmt 1 view .LVU487
 1278 0042 0640     		ands	r6, r6, r0
 1279              	.LVL86:
 140:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1280              		.loc 1 140 2 view .LVU488
 140:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1281              		.loc 1 140 14 is_stmt 0 view .LVU489
 1282 0044 2246     		mov	r2, r4
 1283 0046 3946     		mov	r1, r7
 1284 0048 0A20     		movs	r0, #10
 1285              	.LVL87:
 140:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1286              		.loc 1 140 14 view .LVU490
 1287 004a FFF7FEFF 		bl	readRegister
 1288              	.LVL88:
 141:Src/LTC6811.c **** 	
 1289              		.loc 1 141 2 is_stmt 1 view .LVU491
 1290 004e 0640     		ands	r6, r6, r0
 1291              	.LVL89:
 143:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1292              		.loc 1 143 2 view .LVU492
 1293              	.LBB8:
 143:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1294              		.loc 1 143 7 view .LVU493
 143:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1295              		.loc 1 143 15 is_stmt 0 view .LVU494
 1296 0050 0023     		movs	r3, #0
 1297              	.LVL90:
 1298              	.L50:
 143:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1299              		.loc 1 143 2 discriminator 1 view .LVU495
 1300 0052 0B2B     		cmp	r3, #11
 1301 0054 06D8     		bhi	.L53
 144:Src/LTC6811.c **** 	}
 1302              		.loc 1 144 3 is_stmt 1 discriminator 3 view .LVU496
 144:Src/LTC6811.c **** 	}
 1303              		.loc 1 144 27 is_stmt 0 discriminator 3 view .LVU497
 1304 0056 34F81320 		ldrh	r2, [r4, r3, lsl #1]
 144:Src/LTC6811.c **** 	}
 1305              		.loc 1 144 18 discriminator 3 view .LVU498
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 39


 1306 005a 25F81320 		strh	r2, [r5, r3, lsl #1]	@ movhi
 143:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1307              		.loc 1 143 31 discriminator 3 view .LVU499
 1308 005e 0133     		adds	r3, r3, #1
 1309              	.LVL91:
 143:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1310              		.loc 1 143 31 discriminator 3 view .LVU500
 1311 0060 DBB2     		uxtb	r3, r3
 1312              	.LVL92:
 143:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1313              		.loc 1 143 31 discriminator 3 view .LVU501
 1314 0062 F6E7     		b	.L50
 1315              	.L53:
 143:Src/LTC6811.c **** 		cellVoltage[i] = voltage[i];
 1316              		.loc 1 143 31 discriminator 3 view .LVU502
 1317              	.LBE8:
 147:Src/LTC6811.c **** 	
 1318              		.loc 1 147 2 is_stmt 1 view .LVU503
 1319 0064 2046     		mov	r0, r4
 1320              	.LVL93:
 147:Src/LTC6811.c **** 	
 1321              		.loc 1 147 2 is_stmt 0 view .LVU504
 1322 0066 FFF7FEFF 		bl	free
 1323              	.LVL94:
 149:Src/LTC6811.c **** 	
 1324              		.loc 1 149 2 is_stmt 1 view .LVU505
 151:Src/LTC6811.c **** 
 1325              		.loc 1 151 1 is_stmt 0 view .LVU506
 1326 006a 3046     		mov	r0, r6
 1327 006c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 151:Src/LTC6811.c **** 
 1328              		.loc 1 151 1 view .LVU507
 1329              		.cfi_endproc
 1330              	.LFE68:
 1332              		.section	.text.readAllCellVoltages,"ax",%progbits
 1333              		.align	1
 1334              		.global	readAllCellVoltages
 1335              		.syntax unified
 1336              		.thumb
 1337              		.thumb_func
 1338              		.fpu softvfp
 1340              	readAllCellVoltages:
 1341              	.LVL95:
 1342              	.LFB69:
 153:Src/LTC6811.c **** 	
 1343              		.loc 1 153 56 is_stmt 1 view -0
 1344              		.cfi_startproc
 1345              		@ args = 0, pretend = 0, frame = 24
 1346              		@ frame_needed = 0, uses_anonymous_args = 0
 153:Src/LTC6811.c **** 	
 1347              		.loc 1 153 56 is_stmt 0 view .LVU509
 1348 0000 30B5     		push	{r4, r5, lr}
 1349              	.LCFI18:
 1350              		.cfi_def_cfa_offset 12
 1351              		.cfi_offset 4, -12
 1352              		.cfi_offset 5, -8
 1353              		.cfi_offset 14, -4
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 40


 1354 0002 87B0     		sub	sp, sp, #28
 1355              	.LCFI19:
 1356              		.cfi_def_cfa_offset 40
 1357 0004 0546     		mov	r5, r0
 155:Src/LTC6811.c **** 	
 1358              		.loc 1 155 2 is_stmt 1 view .LVU510
 157:Src/LTC6811.c **** 		
 1359              		.loc 1 157 2 view .LVU511
 1360              	.LBB9:
 157:Src/LTC6811.c **** 		
 1361              		.loc 1 157 7 view .LVU512
 1362              	.LVL96:
 157:Src/LTC6811.c **** 		
 1363              		.loc 1 157 15 is_stmt 0 view .LVU513
 1364 0006 0024     		movs	r4, #0
 157:Src/LTC6811.c **** 		
 1365              		.loc 1 157 2 view .LVU514
 1366 0008 01E0     		b	.L55
 1367              	.LVL97:
 1368              	.L61:
 157:Src/LTC6811.c **** 		
 1369              		.loc 1 157 31 discriminator 2 view .LVU515
 1370 000a 0134     		adds	r4, r4, #1
 1371              	.LVL98:
 157:Src/LTC6811.c **** 		
 1372              		.loc 1 157 31 discriminator 2 view .LVU516
 1373 000c E4B2     		uxtb	r4, r4
 1374              	.LVL99:
 1375              	.L55:
 157:Src/LTC6811.c **** 		
 1376              		.loc 1 157 2 discriminator 1 view .LVU517
 1377 000e 0B2C     		cmp	r4, #11
 1378 0010 0ED8     		bhi	.L60
 159:Src/LTC6811.c **** 		for (uint8_t j = 0; i < 12; i++) {
 1379              		.loc 1 159 3 is_stmt 1 view .LVU518
 1380 0012 6946     		mov	r1, sp
 1381 0014 2046     		mov	r0, r4
 1382 0016 FFF7FEFF 		bl	readCellVoltage
 1383              	.LVL100:
 160:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1384              		.loc 1 160 3 view .LVU519
 1385              	.LBB10:
 160:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1386              		.loc 1 160 8 view .LVU520
 1387              	.L56:
 160:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1388              		.loc 1 160 3 is_stmt 0 discriminator 1 view .LVU521
 1389 001a 0B2C     		cmp	r4, #11
 1390 001c F5D8     		bhi	.L61
 161:Src/LTC6811.c **** 		}
 1391              		.loc 1 161 4 is_stmt 1 discriminator 3 view .LVU522
 161:Src/LTC6811.c **** 		}
 1392              		.loc 1 161 15 is_stmt 0 discriminator 3 view .LVU523
 1393 001e 04EB4402 		add	r2, r4, r4, lsl #1
 1394 0022 D300     		lsls	r3, r2, #3
 161:Src/LTC6811.c **** 		}
 1395              		.loc 1 161 36 discriminator 3 view .LVU524
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 41


 1396 0024 BDF80020 		ldrh	r2, [sp]
 161:Src/LTC6811.c **** 		}
 1397              		.loc 1 161 22 discriminator 3 view .LVU525
 1398 0028 EA52     		strh	r2, [r5, r3]	@ movhi
 160:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1399              		.loc 1 160 32 discriminator 3 view .LVU526
 1400 002a 0134     		adds	r4, r4, #1
 1401              	.LVL101:
 160:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1402              		.loc 1 160 32 discriminator 3 view .LVU527
 1403 002c E4B2     		uxtb	r4, r4
 1404              	.LVL102:
 160:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1405              		.loc 1 160 32 discriminator 3 view .LVU528
 1406 002e F4E7     		b	.L56
 1407              	.LVL103:
 1408              	.L60:
 160:Src/LTC6811.c **** 			cellVoltage[i][j] = boardVoltage[j];
 1409              		.loc 1 160 32 discriminator 3 view .LVU529
 1410              	.LBE10:
 1411              	.LBE9:
 165:Src/LTC6811.c **** }
 1412              		.loc 1 165 2 is_stmt 1 view .LVU530
 166:Src/LTC6811.c **** 
 1413              		.loc 1 166 1 is_stmt 0 view .LVU531
 1414 0030 0020     		movs	r0, #0
 1415 0032 07B0     		add	sp, sp, #28
 1416              	.LCFI20:
 1417              		.cfi_def_cfa_offset 12
 1418              		@ sp needed
 1419 0034 30BD     		pop	{r4, r5, pc}
 166:Src/LTC6811.c **** 
 1420              		.loc 1 166 1 view .LVU532
 1421              		.cfi_endproc
 1422              	.LFE69:
 1424              		.section	.text.checkCellConnection,"ax",%progbits
 1425              		.align	1
 1426              		.global	checkCellConnection
 1427              		.syntax unified
 1428              		.thumb
 1429              		.thumb_func
 1430              		.fpu softvfp
 1432              	checkCellConnection:
 1433              	.LVL104:
 1434              	.LFB73:
 234:Src/LTC6811.c **** 		
 1435              		.loc 1 234 77 is_stmt 1 view -0
 1436              		.cfi_startproc
 1437              		@ args = 0, pretend = 0, frame = 24
 1438              		@ frame_needed = 0, uses_anonymous_args = 0
 234:Src/LTC6811.c **** 		
 1439              		.loc 1 234 77 is_stmt 0 view .LVU534
 1440 0000 30B5     		push	{r4, r5, lr}
 1441              	.LCFI21:
 1442              		.cfi_def_cfa_offset 12
 1443              		.cfi_offset 4, -12
 1444              		.cfi_offset 5, -8
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 42


 1445              		.cfi_offset 14, -4
 1446 0002 87B0     		sub	sp, sp, #28
 1447              	.LCFI22:
 1448              		.cfi_def_cfa_offset 40
 1449 0004 0446     		mov	r4, r0
 1450 0006 0D46     		mov	r5, r1
 236:Src/LTC6811.c **** 	
 1451              		.loc 1 236 2 is_stmt 1 view .LVU535
 238:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1452              		.loc 1 238 2 view .LVU536
 1453 0008 40F22920 		movw	r0, #553
 1454              	.LVL105:
 238:Src/LTC6811.c **** 	sendBroadcastCommand(StartOpenWireConversionPulldown);
 1455              		.loc 1 238 2 is_stmt 0 view .LVU537
 1456 000c FFF7FEFF 		bl	sendBroadcastCommand
 1457              	.LVL106:
 239:Src/LTC6811.c **** 	
 1458              		.loc 1 239 2 is_stmt 1 view .LVU538
 1459 0010 40F22920 		movw	r0, #553
 1460 0014 FFF7FEFF 		bl	sendBroadcastCommand
 1461              	.LVL107:
 241:Src/LTC6811.c **** 	
 1462              		.loc 1 241 2 view .LVU539
 1463 0018 0F20     		movs	r0, #15
 1464 001a FFF7FEFF 		bl	HAL_Delay
 1465              	.LVL108:
 243:Src/LTC6811.c **** 	
 1466              		.loc 1 243 2 view .LVU540
 1467 001e 6946     		mov	r1, sp
 1468 0020 0020     		movs	r0, #0
 1469 0022 FFF7FEFF 		bl	readCellVoltage
 1470              	.LVL109:
 245:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1471              		.loc 1 245 2 view .LVU541
 1472              	.LBB11:
 245:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1473              		.loc 1 245 7 view .LVU542
 245:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1474              		.loc 1 245 15 is_stmt 0 view .LVU543
 1475 0026 0023     		movs	r3, #0
 245:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1476              		.loc 1 245 2 view .LVU544
 1477 0028 03E0     		b	.L63
 1478              	.LVL110:
 1479              	.L64:
 251:Src/LTC6811.c **** 		}
 1480              		.loc 1 251 4 is_stmt 1 view .LVU545
 251:Src/LTC6811.c **** 		}
 1481              		.loc 1 251 22 is_stmt 0 view .LVU546
 1482 002a 0122     		movs	r2, #1
 1483 002c EA54     		strb	r2, [r5, r3]
 1484              	.L65:
 245:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1485              		.loc 1 245 31 discriminator 2 view .LVU547
 1486 002e 0133     		adds	r3, r3, #1
 1487              	.LVL111:
 245:Src/LTC6811.c **** 		// if voltage fell by > 100mV
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 43


 1488              		.loc 1 245 31 discriminator 2 view .LVU548
 1489 0030 DBB2     		uxtb	r3, r3
 1490              	.LVL112:
 1491              	.L63:
 245:Src/LTC6811.c **** 		// if voltage fell by > 100mV
 1492              		.loc 1 245 2 discriminator 1 view .LVU549
 1493 0032 0B2B     		cmp	r3, #11
 1494 0034 0DD8     		bhi	.L68
 247:Src/LTC6811.c **** 			cellConnection[i] = 0;
 1495              		.loc 1 247 3 is_stmt 1 view .LVU550
 247:Src/LTC6811.c **** 			cellConnection[i] = 0;
 1496              		.loc 1 247 19 is_stmt 0 view .LVU551
 1497 0036 06AA     		add	r2, sp, #24
 1498 0038 02EB4302 		add	r2, r2, r3, lsl #1
 1499 003c 32F8182C 		ldrh	r2, [r2, #-24]
 247:Src/LTC6811.c **** 			cellConnection[i] = 0;
 1500              		.loc 1 247 36 view .LVU552
 1501 0040 34F81310 		ldrh	r1, [r4, r3, lsl #1]
 247:Src/LTC6811.c **** 			cellConnection[i] = 0;
 1502              		.loc 1 247 23 view .LVU553
 1503 0044 521A     		subs	r2, r2, r1
 247:Src/LTC6811.c **** 			cellConnection[i] = 0;
 1504              		.loc 1 247 6 view .LVU554
 1505 0046 B2F57A7F 		cmp	r2, #1000
 1506 004a EEDD     		ble	.L64
 248:Src/LTC6811.c **** 		}
 1507              		.loc 1 248 4 is_stmt 1 view .LVU555
 248:Src/LTC6811.c **** 		}
 1508              		.loc 1 248 22 is_stmt 0 view .LVU556
 1509 004c 0022     		movs	r2, #0
 1510 004e EA54     		strb	r2, [r5, r3]
 1511 0050 EDE7     		b	.L65
 1512              	.L68:
 248:Src/LTC6811.c **** 		}
 1513              		.loc 1 248 22 view .LVU557
 1514              	.LBE11:
 255:Src/LTC6811.c **** }
 1515              		.loc 1 255 2 is_stmt 1 view .LVU558
 256:Src/LTC6811.c **** 
 1516              		.loc 1 256 1 is_stmt 0 view .LVU559
 1517 0052 0020     		movs	r0, #0
 1518 0054 07B0     		add	sp, sp, #28
 1519              	.LCFI23:
 1520              		.cfi_def_cfa_offset 12
 1521              		@ sp needed
 1522 0056 30BD     		pop	{r4, r5, pc}
 256:Src/LTC6811.c **** 
 1523              		.loc 1 256 1 view .LVU560
 1524              		.cfi_endproc
 1525              	.LFE73:
 1527              		.global	__aeabi_ui2f
 1528              		.global	__aeabi_fdiv
 1529              		.global	__aeabi_f2d
 1530              		.global	__aeabi_dmul
 1531              		.global	__aeabi_dsub
 1532              		.global	__aeabi_dadd
 1533              		.global	__aeabi_d2uiz
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 44


 1534              		.section	.text.readCellTemp,"ax",%progbits
 1535              		.align	1
 1536              		.global	readCellTemp
 1537              		.syntax unified
 1538              		.thumb
 1539              		.thumb_func
 1540              		.fpu softvfp
 1542              	readCellTemp:
 1543              	.LVL113:
 1544              	.LFB70:
 168:Src/LTC6811.c **** 	
 1545              		.loc 1 168 58 is_stmt 1 view -0
 1546              		.cfi_startproc
 1547              		@ args = 0, pretend = 0, frame = 0
 1548              		@ frame_needed = 0, uses_anonymous_args = 0
 168:Src/LTC6811.c **** 	
 1549              		.loc 1 168 58 is_stmt 0 view .LVU562
 1550 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1551              	.LCFI24:
 1552              		.cfi_def_cfa_offset 40
 1553              		.cfi_offset 3, -40
 1554              		.cfi_offset 4, -36
 1555              		.cfi_offset 5, -32
 1556              		.cfi_offset 6, -28
 1557              		.cfi_offset 7, -24
 1558              		.cfi_offset 8, -20
 1559              		.cfi_offset 9, -16
 1560              		.cfi_offset 10, -12
 1561              		.cfi_offset 11, -8
 1562              		.cfi_offset 14, -4
 1563 0004 0446     		mov	r4, r0
 1564 0006 8A46     		mov	r10, r1
 170:Src/LTC6811.c **** 	bool dataValid = true;
 1565              		.loc 1 170 2 is_stmt 1 view .LVU563
 1566              	.LVL114:
 171:Src/LTC6811.c **** 	uint16_t *temp;
 1567              		.loc 1 171 2 view .LVU564
 172:Src/LTC6811.c **** 	double dummy[4];
 1568              		.loc 1 172 2 view .LVU565
 173:Src/LTC6811.c **** 	double conversion[4]; 
 1569              		.loc 1 173 2 view .LVU566
 174:Src/LTC6811.c **** 	
 1570              		.loc 1 174 2 view .LVU567
 176:Src/LTC6811.c **** 	
 1571              		.loc 1 176 2 view .LVU568
 176:Src/LTC6811.c **** 	
 1572              		.loc 1 176 21 is_stmt 0 view .LVU569
 1573 0008 0820     		movs	r0, #8
 1574              	.LVL115:
 176:Src/LTC6811.c **** 	
 1575              		.loc 1 176 21 view .LVU570
 1576 000a FFF7FEFF 		bl	malloc
 1577              	.LVL116:
 176:Src/LTC6811.c **** 	
 1578              		.loc 1 176 21 view .LVU571
 1579 000e 0546     		mov	r5, r0
 1580              	.LVL117:
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 45


 178:Src/LTC6811.c **** 	
 1581              		.loc 1 178 2 is_stmt 1 view .LVU572
 1582 0010 2146     		mov	r1, r4
 1583 0012 4FF48C60 		mov	r0, #1120
 1584              	.LVL118:
 178:Src/LTC6811.c **** 	
 1585              		.loc 1 178 2 is_stmt 0 view .LVU573
 1586 0016 FFF7FEFF 		bl	sendAddressCommand
 1587              	.LVL119:
 180:Src/LTC6811.c **** 	
 1588              		.loc 1 180 2 is_stmt 1 view .LVU574
 1589 001a 0F20     		movs	r0, #15
 1590 001c FFF7FEFF 		bl	HAL_Delay
 1591              	.LVL120:
 183:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1592              		.loc 1 183 2 view .LVU575
 183:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1593              		.loc 1 183 14 is_stmt 0 view .LVU576
 1594 0020 2A46     		mov	r2, r5
 1595 0022 2146     		mov	r1, r4
 1596 0024 0C20     		movs	r0, #12
 1597 0026 FFF7FEFF 		bl	readRegister
 1598              	.LVL121:
 1599 002a 8346     		mov	fp, r0
 1600              	.LVL122:
 184:Src/LTC6811.c **** 	PEC_check = readRegister(ReadAuxiliaryGroupB, address, temp);
 1601              		.loc 1 184 2 is_stmt 1 view .LVU577
 185:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1602              		.loc 1 185 2 view .LVU578
 185:Src/LTC6811.c **** 	dataValid = dataValid & PEC_check;
 1603              		.loc 1 185 14 is_stmt 0 view .LVU579
 1604 002c 2A46     		mov	r2, r5
 1605 002e 2146     		mov	r1, r4
 1606 0030 0E20     		movs	r0, #14
 1607 0032 FFF7FEFF 		bl	readRegister
 1608              	.LVL123:
 186:Src/LTC6811.c **** 	
 1609              		.loc 1 186 2 is_stmt 1 view .LVU580
 1610 0036 0BEA000B 		and	fp, fp, r0
 1611              	.LVL124:
 186:Src/LTC6811.c **** 	
 1612              		.loc 1 186 2 is_stmt 0 view .LVU581
 1613 003a 5FFA8BFB 		uxtb	fp, fp
 1614              	.LVL125:
 188:Src/LTC6811.c **** 		dummy[i] = (float) temp[i] / 10000;
 1615              		.loc 1 188 2 is_stmt 1 view .LVU582
 1616              	.LBB12:
 188:Src/LTC6811.c **** 		dummy[i] = (float) temp[i] / 10000;
 1617              		.loc 1 188 7 view .LVU583
 188:Src/LTC6811.c **** 		dummy[i] = (float) temp[i] / 10000;
 1618              		.loc 1 188 15 is_stmt 0 view .LVU584
 1619 003e 0024     		movs	r4, #0
 188:Src/LTC6811.c **** 		dummy[i] = (float) temp[i] / 10000;
 1620              		.loc 1 188 2 view .LVU585
 1621 0040 85E0     		b	.L70
 1622              	.LVL126:
 1623              	.L71:
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 46


 189:Src/LTC6811.c **** 		conversion[i] = 37735 - 113923 * dummy[i] + 142663 * pow(dummy[i], 2) - 94465 * pow(dummy[i], 3) 
 1624              		.loc 1 189 3 is_stmt 1 discriminator 3 view .LVU586
 189:Src/LTC6811.c **** 		conversion[i] = 37735 - 113923 * dummy[i] + 142663 * pow(dummy[i], 2) - 94465 * pow(dummy[i], 3) 
 1625              		.loc 1 189 14 is_stmt 0 discriminator 3 view .LVU587
 1626 0042 35F81400 		ldrh	r0, [r5, r4, lsl #1]
 1627 0046 FFF7FEFF 		bl	__aeabi_ui2f
 1628              	.LVL127:
 189:Src/LTC6811.c **** 		conversion[i] = 37735 - 113923 * dummy[i] + 142663 * pow(dummy[i], 2) - 94465 * pow(dummy[i], 3) 
 1629              		.loc 1 189 30 discriminator 3 view .LVU588
 1630 004a 5349     		ldr	r1, .L73+56
 1631 004c FFF7FEFF 		bl	__aeabi_fdiv
 1632              	.LVL128:
 1633 0050 FFF7FEFF 		bl	__aeabi_f2d
 1634              	.LVL129:
 1635 0054 0646     		mov	r6, r0
 1636 0056 0F46     		mov	r7, r1
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1637              		.loc 1 190 3 is_stmt 1 discriminator 3 view .LVU589
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1638              		.loc 1 190 34 is_stmt 0 discriminator 3 view .LVU590
 1639 0058 41A3     		adr	r3, .L73
 1640 005a D3E90023 		ldrd	r2, [r3]
 1641 005e FFF7FEFF 		bl	__aeabi_dmul
 1642              	.LVL130:
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1643              		.loc 1 190 25 discriminator 3 view .LVU591
 1644 0062 0246     		mov	r2, r0
 1645 0064 0B46     		mov	r3, r1
 1646 0066 40A1     		adr	r1, .L73+8
 1647 0068 D1E90001 		ldrd	r0, [r1]
 1648 006c FFF7FEFF 		bl	__aeabi_dsub
 1649              	.LVL131:
 1650 0070 8046     		mov	r8, r0
 1651 0072 8946     		mov	r9, r1
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1652              		.loc 1 190 56 discriminator 3 view .LVU592
 1653 0074 0022     		movs	r2, #0
 1654 0076 4FF08043 		mov	r3, #1073741824
 1655 007a 3046     		mov	r0, r6
 1656 007c 3946     		mov	r1, r7
 1657 007e FFF7FEFF 		bl	pow
 1658              	.LVL132:
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1659              		.loc 1 190 54 discriminator 3 view .LVU593
 1660 0082 3BA3     		adr	r3, .L73+16
 1661 0084 D3E90023 		ldrd	r2, [r3]
 1662 0088 FFF7FEFF 		bl	__aeabi_dmul
 1663              	.LVL133:
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1664              		.loc 1 190 45 discriminator 3 view .LVU594
 1665 008c 0246     		mov	r2, r0
 1666 008e 0B46     		mov	r3, r1
 1667 0090 4046     		mov	r0, r8
 1668 0092 4946     		mov	r1, r9
 1669 0094 FFF7FEFF 		bl	__aeabi_dadd
 1670              	.LVL134:
 1671 0098 8046     		mov	r8, r0
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 47


 1672 009a 8946     		mov	r9, r1
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1673              		.loc 1 190 83 discriminator 3 view .LVU595
 1674 009c 0022     		movs	r2, #0
 1675 009e 3F4B     		ldr	r3, .L73+60
 1676 00a0 3046     		mov	r0, r6
 1677 00a2 3946     		mov	r1, r7
 1678 00a4 FFF7FEFF 		bl	pow
 1679              	.LVL135:
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1680              		.loc 1 190 81 discriminator 3 view .LVU596
 1681 00a8 33A3     		adr	r3, .L73+24
 1682 00aa D3E90023 		ldrd	r2, [r3]
 1683 00ae FFF7FEFF 		bl	__aeabi_dmul
 1684              	.LVL136:
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1685              		.loc 1 190 73 discriminator 3 view .LVU597
 1686 00b2 0246     		mov	r2, r0
 1687 00b4 0B46     		mov	r3, r1
 1688 00b6 4046     		mov	r0, r8
 1689 00b8 4946     		mov	r1, r9
 1690 00ba FFF7FEFF 		bl	__aeabi_dsub
 1691              	.LVL137:
 1692 00be 8046     		mov	r8, r0
 1693 00c0 8946     		mov	r9, r1
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1694              		.loc 1 190 110 discriminator 3 view .LVU598
 1695 00c2 0022     		movs	r2, #0
 1696 00c4 364B     		ldr	r3, .L73+64
 1697 00c6 3046     		mov	r0, r6
 1698 00c8 3946     		mov	r1, r7
 1699 00ca FFF7FEFF 		bl	pow
 1700              	.LVL138:
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1701              		.loc 1 190 108 discriminator 3 view .LVU599
 1702 00ce 2CA3     		adr	r3, .L73+32
 1703 00d0 D3E90023 		ldrd	r2, [r3]
 1704 00d4 FFF7FEFF 		bl	__aeabi_dmul
 1705              	.LVL139:
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1706              		.loc 1 190 100 discriminator 3 view .LVU600
 1707 00d8 0246     		mov	r2, r0
 1708 00da 0B46     		mov	r3, r1
 1709 00dc 4046     		mov	r0, r8
 1710 00de 4946     		mov	r1, r9
 1711 00e0 FFF7FEFF 		bl	__aeabi_dadd
 1712              	.LVL140:
 1713 00e4 8046     		mov	r8, r0
 1714 00e6 8946     		mov	r9, r1
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1715              		.loc 1 190 136 discriminator 3 view .LVU601
 1716 00e8 0022     		movs	r2, #0
 1717 00ea 2E4B     		ldr	r3, .L73+68
 1718 00ec 3046     		mov	r0, r6
 1719 00ee 3946     		mov	r1, r7
 1720 00f0 FFF7FEFF 		bl	pow
 1721              	.LVL141:
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 48


 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1722              		.loc 1 190 134 discriminator 3 view .LVU602
 1723 00f4 24A3     		adr	r3, .L73+40
 1724 00f6 D3E90023 		ldrd	r2, [r3]
 1725 00fa FFF7FEFF 		bl	__aeabi_dmul
 1726              	.LVL142:
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1727              		.loc 1 190 127 discriminator 3 view .LVU603
 1728 00fe 0246     		mov	r2, r0
 1729 0100 0B46     		mov	r3, r1
 1730 0102 4046     		mov	r0, r8
 1731 0104 4946     		mov	r1, r9
 1732 0106 FFF7FEFF 		bl	__aeabi_dsub
 1733              	.LVL143:
 1734 010a 8046     		mov	r8, r0
 1735 010c 8946     		mov	r9, r1
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1736              		.loc 1 190 164 discriminator 3 view .LVU604
 1737 010e 0022     		movs	r2, #0
 1738 0110 254B     		ldr	r3, .L73+72
 1739 0112 3046     		mov	r0, r6
 1740 0114 3946     		mov	r1, r7
 1741 0116 FFF7FEFF 		bl	pow
 1742              	.LVL144:
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1743              		.loc 1 190 162 discriminator 3 view .LVU605
 1744 011a 1DA3     		adr	r3, .L73+48
 1745 011c D3E90023 		ldrd	r2, [r3]
 1746 0120 FFF7FEFF 		bl	__aeabi_dmul
 1747              	.LVL145:
 190:Src/LTC6811.c **** 		cellTemp[i] = (uint16_t) conversion[i];
 1748              		.loc 1 190 153 discriminator 3 view .LVU606
 1749 0124 0246     		mov	r2, r0
 1750 0126 0B46     		mov	r3, r1
 1751 0128 4046     		mov	r0, r8
 1752 012a 4946     		mov	r1, r9
 1753 012c FFF7FEFF 		bl	__aeabi_dadd
 1754              	.LVL146:
 191:Src/LTC6811.c **** 		cellTemp[i] = 500 * (cellTemp[i] + 20);
 1755              		.loc 1 191 3 is_stmt 1 discriminator 3 view .LVU607
 191:Src/LTC6811.c **** 		cellTemp[i] = 500 * (cellTemp[i] + 20);
 1756              		.loc 1 191 17 is_stmt 0 discriminator 3 view .LVU608
 1757 0130 FFF7FEFF 		bl	__aeabi_d2uiz
 1758              	.LVL147:
 1759 0134 80B2     		uxth	r0, r0
 192:Src/LTC6811.c **** 	}
 1760              		.loc 1 192 3 is_stmt 1 discriminator 3 view .LVU609
 192:Src/LTC6811.c **** 	}
 1761              		.loc 1 192 15 is_stmt 0 discriminator 3 view .LVU610
 1762 0136 C0EB4013 		rsb	r3, r0, r0, lsl #5
 1763 013a 00EB8300 		add	r0, r0, r3, lsl #2
 1764 013e 8300     		lsls	r3, r0, #2
 1765 0140 03F51C53 		add	r3, r3, #9984
 1766 0144 1033     		adds	r3, r3, #16
 1767 0146 2AF81430 		strh	r3, [r10, r4, lsl #1]	@ movhi
 188:Src/LTC6811.c **** 		dummy[i] = (float) temp[i] / 10000;
 1768              		.loc 1 188 30 discriminator 3 view .LVU611
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 49


 1769 014a 0134     		adds	r4, r4, #1
 1770              	.LVL148:
 188:Src/LTC6811.c **** 		dummy[i] = (float) temp[i] / 10000;
 1771              		.loc 1 188 30 discriminator 3 view .LVU612
 1772 014c E4B2     		uxtb	r4, r4
 1773              	.LVL149:
 1774              	.L70:
 188:Src/LTC6811.c **** 		dummy[i] = (float) temp[i] / 10000;
 1775              		.loc 1 188 2 discriminator 1 view .LVU613
 1776 014e 032C     		cmp	r4, #3
 1777 0150 7FF677AF 		bls	.L71
 1778              	.LBE12:
 195:Src/LTC6811.c **** 	
 1779              		.loc 1 195 2 is_stmt 1 view .LVU614
 1780 0154 2846     		mov	r0, r5
 1781 0156 FFF7FEFF 		bl	free
 1782              	.LVL150:
 197:Src/LTC6811.c **** 	
 1783              		.loc 1 197 2 view .LVU615
 199:Src/LTC6811.c **** 
 1784              		.loc 1 199 1 is_stmt 0 view .LVU616
 1785 015a 5846     		mov	r0, fp
 1786 015c BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1787              	.LVL151:
 1788              	.L74:
 199:Src/LTC6811.c **** 
 1789              		.loc 1 199 1 view .LVU617
 1790              		.align	3
 1791              	.L73:
 1792 0160 00000000 		.word	0
 1793 0164 30D0FB40 		.word	1090244656
 1794 0168 00000000 		.word	0
 1795 016c E06CE240 		.word	1088580832
 1796 0170 00000000 		.word	0
 1797 0174 386A0141 		.word	1090611768
 1798 0178 00000000 		.word	0
 1799 017c 1010F740 		.word	1089933328
 1800 0180 00000000 		.word	0
 1801 0184 E0FDE040 		.word	1088486880
 1802 0188 00000000 		.word	0
 1803 018c 005DBA40 		.word	1085955328
 1804 0190 7B14AE47 		.word	1202590843
 1805 0194 E1C88040 		.word	1082181857
 1806 0198 00401C46 		.word	1176256512
 1807 019c 00000840 		.word	1074266112
 1808 01a0 00001040 		.word	1074790400
 1809 01a4 00001440 		.word	1075052544
 1810 01a8 00001840 		.word	1075314688
 1811              		.cfi_endproc
 1812              	.LFE70:
 1814              		.section	.text.readAllCellTemps,"ax",%progbits
 1815              		.align	1
 1816              		.global	readAllCellTemps
 1817              		.syntax unified
 1818              		.thumb
 1819              		.thumb_func
 1820              		.fpu softvfp
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 50


 1822              	readAllCellTemps:
 1823              	.LVL152:
 1824              	.LFB71:
 201:Src/LTC6811.c **** 	
 1825              		.loc 1 201 49 is_stmt 1 view -0
 1826              		.cfi_startproc
 1827              		@ args = 0, pretend = 0, frame = 8
 1828              		@ frame_needed = 0, uses_anonymous_args = 0
 201:Src/LTC6811.c **** 	
 1829              		.loc 1 201 49 is_stmt 0 view .LVU619
 1830 0000 30B5     		push	{r4, r5, lr}
 1831              	.LCFI25:
 1832              		.cfi_def_cfa_offset 12
 1833              		.cfi_offset 4, -12
 1834              		.cfi_offset 5, -8
 1835              		.cfi_offset 14, -4
 1836 0002 83B0     		sub	sp, sp, #12
 1837              	.LCFI26:
 1838              		.cfi_def_cfa_offset 24
 1839 0004 0546     		mov	r5, r0
 203:Src/LTC6811.c **** 	
 1840              		.loc 1 203 2 is_stmt 1 view .LVU620
 205:Src/LTC6811.c **** 		
 1841              		.loc 1 205 2 view .LVU621
 1842              	.LBB13:
 205:Src/LTC6811.c **** 		
 1843              		.loc 1 205 7 view .LVU622
 1844              	.LVL153:
 205:Src/LTC6811.c **** 		
 1845              		.loc 1 205 15 is_stmt 0 view .LVU623
 1846 0006 0024     		movs	r4, #0
 205:Src/LTC6811.c **** 		
 1847              		.loc 1 205 2 view .LVU624
 1848 0008 0EE0     		b	.L76
 1849              	.LVL154:
 1850              	.L78:
 1851              	.LBB14:
 209:Src/LTC6811.c **** 		}
 1852              		.loc 1 209 4 is_stmt 1 discriminator 3 view .LVU625
 209:Src/LTC6811.c **** 		}
 1853              		.loc 1 209 12 is_stmt 0 discriminator 3 view .LVU626
 1854 000a 05EBC402 		add	r2, r5, r4, lsl #3
 209:Src/LTC6811.c **** 		}
 1855              		.loc 1 209 30 discriminator 3 view .LVU627
 1856 000e 02A9     		add	r1, sp, #8
 1857 0010 01EB4301 		add	r1, r1, r3, lsl #1
 1858 0014 31F8081C 		ldrh	r1, [r1, #-8]
 209:Src/LTC6811.c **** 		}
 1859              		.loc 1 209 19 discriminator 3 view .LVU628
 1860 0018 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 208:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 1861              		.loc 1 208 31 discriminator 3 view .LVU629
 1862 001c 0133     		adds	r3, r3, #1
 1863              	.LVL155:
 208:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 1864              		.loc 1 208 31 discriminator 3 view .LVU630
 1865 001e DBB2     		uxtb	r3, r3
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 51


 1866              	.LVL156:
 1867              	.L77:
 208:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 1868              		.loc 1 208 3 discriminator 1 view .LVU631
 1869 0020 032B     		cmp	r3, #3
 1870 0022 F2D9     		bls	.L78
 1871              	.LBE14:
 205:Src/LTC6811.c **** 		
 1872              		.loc 1 205 31 discriminator 2 view .LVU632
 1873 0024 0134     		adds	r4, r4, #1
 1874              	.LVL157:
 205:Src/LTC6811.c **** 		
 1875              		.loc 1 205 31 discriminator 2 view .LVU633
 1876 0026 E4B2     		uxtb	r4, r4
 1877              	.LVL158:
 1878              	.L76:
 205:Src/LTC6811.c **** 		
 1879              		.loc 1 205 2 discriminator 1 view .LVU634
 1880 0028 0B2C     		cmp	r4, #11
 1881 002a 05D8     		bhi	.L81
 207:Src/LTC6811.c **** 		for (uint8_t j = 0; j < 4; j++) {
 1882              		.loc 1 207 3 is_stmt 1 view .LVU635
 1883 002c 6946     		mov	r1, sp
 1884 002e 2046     		mov	r0, r4
 1885 0030 FFF7FEFF 		bl	readCellTemp
 1886              	.LVL159:
 208:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 1887              		.loc 1 208 3 view .LVU636
 1888              	.LBB15:
 208:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 1889              		.loc 1 208 8 view .LVU637
 208:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 1890              		.loc 1 208 16 is_stmt 0 view .LVU638
 1891 0034 0023     		movs	r3, #0
 208:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 1892              		.loc 1 208 3 view .LVU639
 1893 0036 F3E7     		b	.L77
 1894              	.LVL160:
 1895              	.L81:
 208:Src/LTC6811.c **** 			cellTemp[i][j] = boardTemp[j];
 1896              		.loc 1 208 3 view .LVU640
 1897              	.LBE15:
 1898              	.LBE13:
 213:Src/LTC6811.c **** }
 1899              		.loc 1 213 2 is_stmt 1 view .LVU641
 214:Src/LTC6811.c **** 
 1900              		.loc 1 214 1 is_stmt 0 view .LVU642
 1901 0038 0020     		movs	r0, #0
 1902 003a 03B0     		add	sp, sp, #12
 1903              	.LCFI27:
 1904              		.cfi_def_cfa_offset 12
 1905              		@ sp needed
 1906 003c 30BD     		pop	{r4, r5, pc}
 214:Src/LTC6811.c **** 
 1907              		.loc 1 214 1 view .LVU643
 1908              		.cfi_endproc
 1909              	.LFE71:
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 52


 1911              		.global	CRC15_POLY
 1912              		.comm	pec15Table,512,4
 1913              		.section	.data.CRC15_POLY,"aw"
 1914              		.align	1
 1915              		.set	.LANCHOR0,. + 0
 1918              	CRC15_POLY:
 1919 0000 9945     		.short	17817
 1920              		.text
 1921              	.Letext0:
 1922              		.file 2 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\machine\\_default_types.h"
 1923              		.file 3 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 1924              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 1925              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 1926              		.file 6 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 1927              		.file 7 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 1928              		.file 8 "c:\\arm-gcc\\8-2018-q4-major\\lib\\gcc\\arm-none-eabi\\8.2.1\\include\\stddef.h"
 1929              		.file 9 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 1930              		.file 10 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\stdlib.h"
 1931              		.file 11 "Inc/BMSconfig.h"
 1932              		.file 12 "c:\\arm-gcc\\8-2018-q4-major\\arm-none-eabi\\include\\math.h"
 1933              		.file 13 "Inc/LTC6811.h"
 1934              		.file 14 "Inc/SPI.h"
 1935              		.file 15 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
ARM GAS  C:\cygwin64\tmp\ccPS9FLW.s 			page 53


DEFINED SYMBOLS
                            *ABS*:00000000 LTC6811.c
C:\cygwin64\tmp\ccPS9FLW.s:16     .text.initPECTable:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:24     .text.initPECTable:00000000 initPECTable
C:\cygwin64\tmp\ccPS9FLW.s:118    .text.initPECTable:00000038 $d
                            *COM*:00000200 pec15Table
C:\cygwin64\tmp\ccPS9FLW.s:124    .text.calculatePEC:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:131    .text.calculatePEC:00000000 calculatePEC
C:\cygwin64\tmp\ccPS9FLW.s:207    .text.calculatePEC:0000002c $d
C:\cygwin64\tmp\ccPS9FLW.s:212    .text.writeConfig:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:219    .text.writeConfig:00000000 writeConfig
C:\cygwin64\tmp\ccPS9FLW.s:458    .text.readRegister:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:465    .text.readRegister:00000000 readRegister
C:\cygwin64\tmp\ccPS9FLW.s:945    .text.readConfig:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:952    .text.readConfig:00000000 readConfig
C:\cygwin64\tmp\ccPS9FLW.s:1027   .text.sendBroadcastCommand:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:1034   .text.sendBroadcastCommand:00000000 sendBroadcastCommand
C:\cygwin64\tmp\ccPS9FLW.s:1091   .text.sendAddressCommand:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:1098   .text.sendAddressCommand:00000000 sendAddressCommand
C:\cygwin64\tmp\ccPS9FLW.s:1194   .text.readCellVoltage:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:1201   .text.readCellVoltage:00000000 readCellVoltage
C:\cygwin64\tmp\ccPS9FLW.s:1333   .text.readAllCellVoltages:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:1340   .text.readAllCellVoltages:00000000 readAllCellVoltages
C:\cygwin64\tmp\ccPS9FLW.s:1425   .text.checkCellConnection:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:1432   .text.checkCellConnection:00000000 checkCellConnection
C:\cygwin64\tmp\ccPS9FLW.s:1535   .text.readCellTemp:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:1542   .text.readCellTemp:00000000 readCellTemp
C:\cygwin64\tmp\ccPS9FLW.s:1792   .text.readCellTemp:00000160 $d
C:\cygwin64\tmp\ccPS9FLW.s:1815   .text.readAllCellTemps:00000000 $t
C:\cygwin64\tmp\ccPS9FLW.s:1822   .text.readAllCellTemps:00000000 readAllCellTemps
C:\cygwin64\tmp\ccPS9FLW.s:1918   .data.CRC15_POLY:00000000 CRC15_POLY
C:\cygwin64\tmp\ccPS9FLW.s:1914   .data.CRC15_POLY:00000000 $d

UNDEFINED SYMBOLS
malloc
SPIWrite
free
SPIWriteRead
HAL_Delay
__aeabi_ui2f
__aeabi_fdiv
__aeabi_f2d
__aeabi_dmul
__aeabi_dsub
__aeabi_dadd
__aeabi_d2uiz
pow
