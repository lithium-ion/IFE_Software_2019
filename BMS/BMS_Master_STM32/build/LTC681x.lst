ARM GAS  /tmp/ccMCacDa.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"LTC681x.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.wakeup_idle,"ax",%progbits
  16              		.align	1
  17              		.global	wakeup_idle
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	wakeup_idle:
  24              	.LFB0:
  25              		.file 1 "Drivers/LTC681x/LTC681x.c"
   1:Drivers/LTC681x/LTC681x.c **** /***************************************************************************//**
   2:Drivers/LTC681x/LTC681x.c **** *   @file     LTC681x.cpp  
   3:Drivers/LTC681x/LTC681x.c **** *   @author BMS (bms.support@analog.com)
   4:Drivers/LTC681x/LTC681x.c **** 
   5:Drivers/LTC681x/LTC681x.c **** REVISION HISTORY
   6:Drivers/LTC681x/LTC681x.c **** $Revision: 1.0 $
   7:Drivers/LTC681x/LTC681x.c **** $Date: 2018-11 $
   8:Drivers/LTC681x/LTC681x.c **** ********************************************************************************
   9:Drivers/LTC681x/LTC681x.c **** * Copyright 2018(c) Analog Devices, Inc.
  10:Drivers/LTC681x/LTC681x.c **** *
  11:Drivers/LTC681x/LTC681x.c **** * All rights reserved.
  12:Drivers/LTC681x/LTC681x.c **** *
  13:Drivers/LTC681x/LTC681x.c **** * Redistribution and use in source and binary forms, with or without
  14:Drivers/LTC681x/LTC681x.c **** * modification, are permitted provided that the following conditions are met:
  15:Drivers/LTC681x/LTC681x.c **** *  - Redistributions of source code must retain the above copyright
  16:Drivers/LTC681x/LTC681x.c **** *    notice, this list of conditions and the following disclaimer.
  17:Drivers/LTC681x/LTC681x.c **** *  - Redistributions in binary form must reproduce the above copyright
  18:Drivers/LTC681x/LTC681x.c **** *    notice, this list of conditions and the following disclaimer in
  19:Drivers/LTC681x/LTC681x.c **** *    the documentation and/or other materials provided with the
  20:Drivers/LTC681x/LTC681x.c **** *    distribution.
  21:Drivers/LTC681x/LTC681x.c **** *  - Neither the name of Analog Devices, Inc. nor the names of its
  22:Drivers/LTC681x/LTC681x.c **** *    contributors may be used to endorse or promote products derived
  23:Drivers/LTC681x/LTC681x.c **** *    from this software without specific prior written permission.
  24:Drivers/LTC681x/LTC681x.c **** *  - The use of this software may or may not infringe the patent rights
  25:Drivers/LTC681x/LTC681x.c **** *    of one or more patent holders.  This license does not release you
  26:Drivers/LTC681x/LTC681x.c **** *    from the requirement that you obtain separate licenses from these
  27:Drivers/LTC681x/LTC681x.c **** *    patent holders to use this software.
  28:Drivers/LTC681x/LTC681x.c **** *  - Use of the software either in source or binary form, must be run
  29:Drivers/LTC681x/LTC681x.c **** *    on or directly connected to an Analog Devices Inc. component.
  30:Drivers/LTC681x/LTC681x.c **** *
  31:Drivers/LTC681x/LTC681x.c **** * THIS SOFTWARE IS PROVIDED BY ANALOG DEVICES "AS IS" AND ANY EXPRESS OR
  32:Drivers/LTC681x/LTC681x.c **** * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, NON-INFRINGEMENT,
  33:Drivers/LTC681x/LTC681x.c **** * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
ARM GAS  /tmp/ccMCacDa.s 			page 2


  34:Drivers/LTC681x/LTC681x.c **** * IN NO EVENT SHALL ANALOG DEVICES BE LIABLE FOR ANY DIRECT, INDIRECT,
  35:Drivers/LTC681x/LTC681x.c **** * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  36:Drivers/LTC681x/LTC681x.c **** * LIMITED TO, INTELLECTUAL PROPERTY RIGHTS, PROCUREMENT OF SUBSTITUTE GOODS OR
  37:Drivers/LTC681x/LTC681x.c **** * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  38:Drivers/LTC681x/LTC681x.c **** * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  39:Drivers/LTC681x/LTC681x.c **** * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  40:Drivers/LTC681x/LTC681x.c **** * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  41:Drivers/LTC681x/LTC681x.c **** *******************************************************************************/
  42:Drivers/LTC681x/LTC681x.c **** 
  43:Drivers/LTC681x/LTC681x.c **** /*! @file
  44:Drivers/LTC681x/LTC681x.c ****     Library for LTC681x Multi-cell Battery Monitor
  45:Drivers/LTC681x/LTC681x.c **** */
  46:Drivers/LTC681x/LTC681x.c **** 
  47:Drivers/LTC681x/LTC681x.c **** #include <stdint.h>
  48:Drivers/LTC681x/LTC681x.c **** #include <stdbool.h>
  49:Drivers/LTC681x/LTC681x.c **** #include "LTC681x.h"
  50:Drivers/LTC681x/LTC681x.c **** #include "bms_hardware.h"
  51:Drivers/LTC681x/LTC681x.c **** 
  52:Drivers/LTC681x/LTC681x.c **** 
  53:Drivers/LTC681x/LTC681x.c **** #ifdef LINDUINO
  54:Drivers/LTC681x/LTC681x.c **** #include <Arduino.h>
  55:Drivers/LTC681x/LTC681x.c **** #endif
  56:Drivers/LTC681x/LTC681x.c **** 
  57:Drivers/LTC681x/LTC681x.c **** //Wake isoSPI up from idle state 
  58:Drivers/LTC681x/LTC681x.c **** void wakeup_idle(uint8_t total_ic)
  59:Drivers/LTC681x/LTC681x.c **** {
  26              		.loc 1 59 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              	.LVL0:
  31 0000 38B5     		push	{r3, r4, r5, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 16
  34              		.cfi_offset 3, -16
  35              		.cfi_offset 4, -12
  36              		.cfi_offset 5, -8
  37              		.cfi_offset 14, -4
  38 0002 0546     		mov	r5, r0
  39              	.LVL1:
  40              	.LBB2:
  60:Drivers/LTC681x/LTC681x.c ****   for (int i =0; i<total_ic; i++)
  41              		.loc 1 60 0
  42 0004 0024     		movs	r4, #0
  43 0006 09E0     		b	.L2
  44              	.LVL2:
  45              	.L3:
  61:Drivers/LTC681x/LTC681x.c ****   {
  62:Drivers/LTC681x/LTC681x.c ****     cs_low(CS_PIN);
  46              		.loc 1 62 0 discriminator 3
  47 0008 0A20     		movs	r0, #10
  48 000a FFF7FEFF 		bl	cs_low
  49              	.LVL3:
  63:Drivers/LTC681x/LTC681x.c ****     spi_read_byte(0xff);//Guarantees the isoSPI will be in ready mode
  50              		.loc 1 63 0 discriminator 3
  51 000e FF20     		movs	r0, #255
  52 0010 FFF7FEFF 		bl	spi_read_byte
ARM GAS  /tmp/ccMCacDa.s 			page 3


  53              	.LVL4:
  64:Drivers/LTC681x/LTC681x.c ****     cs_high(CS_PIN);
  54              		.loc 1 64 0 discriminator 3
  55 0014 0A20     		movs	r0, #10
  56 0016 FFF7FEFF 		bl	cs_high
  57              	.LVL5:
  60:Drivers/LTC681x/LTC681x.c ****   {
  58              		.loc 1 60 0 discriminator 3
  59 001a 0134     		adds	r4, r4, #1
  60              	.LVL6:
  61              	.L2:
  60:Drivers/LTC681x/LTC681x.c ****   {
  62              		.loc 1 60 0 is_stmt 0 discriminator 1
  63 001c A542     		cmp	r5, r4
  64 001e F3DC     		bgt	.L3
  65              	.LBE2:
  65:Drivers/LTC681x/LTC681x.c ****   }
  66:Drivers/LTC681x/LTC681x.c **** }
  66              		.loc 1 66 0 is_stmt 1
  67 0020 38BD     		pop	{r3, r4, r5, pc}
  68              		.cfi_endproc
  69              	.LFE0:
  71              		.section	.text.wakeup_sleep,"ax",%progbits
  72              		.align	1
  73              		.global	wakeup_sleep
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
  77              		.fpu softvfp
  79              	wakeup_sleep:
  80              	.LFB1:
  67:Drivers/LTC681x/LTC681x.c **** 
  68:Drivers/LTC681x/LTC681x.c **** //Generic wakeup command to wake the LTC681x from sleep
  69:Drivers/LTC681x/LTC681x.c **** void wakeup_sleep(uint8_t total_ic)
  70:Drivers/LTC681x/LTC681x.c **** {
  81              		.loc 1 70 0
  82              		.cfi_startproc
  83              		@ args = 0, pretend = 0, frame = 0
  84              		@ frame_needed = 0, uses_anonymous_args = 0
  85              	.LVL7:
  86 0000 38B5     		push	{r3, r4, r5, lr}
  87              	.LCFI1:
  88              		.cfi_def_cfa_offset 16
  89              		.cfi_offset 3, -16
  90              		.cfi_offset 4, -12
  91              		.cfi_offset 5, -8
  92              		.cfi_offset 14, -4
  93 0002 0546     		mov	r5, r0
  94              	.LVL8:
  95              	.LBB3:
  71:Drivers/LTC681x/LTC681x.c ****   for (int i =0; i<total_ic; i++)
  96              		.loc 1 71 0
  97 0004 0024     		movs	r4, #0
  98 0006 0DE0     		b	.L6
  99              	.LVL9:
 100              	.L7:
  72:Drivers/LTC681x/LTC681x.c ****   {
ARM GAS  /tmp/ccMCacDa.s 			page 4


  73:Drivers/LTC681x/LTC681x.c **** 	cs_low(CS_PIN);
 101              		.loc 1 73 0 discriminator 3
 102 0008 0A20     		movs	r0, #10
 103 000a FFF7FEFF 		bl	cs_low
 104              	.LVL10:
  74:Drivers/LTC681x/LTC681x.c **** 	delay_u(300); // Guarantees the LTC681x will be in standby
 105              		.loc 1 74 0 discriminator 3
 106 000e 4FF49670 		mov	r0, #300
 107 0012 FFF7FEFF 		bl	delay_u
 108              	.LVL11:
  75:Drivers/LTC681x/LTC681x.c **** 	cs_high(CS_PIN);
 109              		.loc 1 75 0 discriminator 3
 110 0016 0A20     		movs	r0, #10
 111 0018 FFF7FEFF 		bl	cs_high
 112              	.LVL12:
  76:Drivers/LTC681x/LTC681x.c **** 	delay_u(10);
 113              		.loc 1 76 0 discriminator 3
 114 001c 0A20     		movs	r0, #10
 115 001e FFF7FEFF 		bl	delay_u
 116              	.LVL13:
  71:Drivers/LTC681x/LTC681x.c ****   {
 117              		.loc 1 71 0 discriminator 3
 118 0022 0134     		adds	r4, r4, #1
 119              	.LVL14:
 120              	.L6:
  71:Drivers/LTC681x/LTC681x.c ****   {
 121              		.loc 1 71 0 is_stmt 0 discriminator 1
 122 0024 A542     		cmp	r5, r4
 123 0026 EFDC     		bgt	.L7
 124              	.LBE3:
  77:Drivers/LTC681x/LTC681x.c ****   }
  78:Drivers/LTC681x/LTC681x.c **** }
 125              		.loc 1 78 0 is_stmt 1
 126 0028 38BD     		pop	{r3, r4, r5, pc}
 127              		.cfi_endproc
 128              	.LFE1:
 130              		.section	.text.pec15_calc,"ax",%progbits
 131              		.align	1
 132              		.global	pec15_calc
 133              		.syntax unified
 134              		.thumb
 135              		.thumb_func
 136              		.fpu softvfp
 138              	pec15_calc:
 139              	.LFB5:
  79:Drivers/LTC681x/LTC681x.c **** 
  80:Drivers/LTC681x/LTC681x.c **** //Generic function to write 68xx commands. Function calculated PEC for tx_cmd data
  81:Drivers/LTC681x/LTC681x.c **** void cmd_68(uint8_t tx_cmd[2])
  82:Drivers/LTC681x/LTC681x.c **** {
  83:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd[4];
  84:Drivers/LTC681x/LTC681x.c **** 	uint16_t cmd_pec;
  85:Drivers/LTC681x/LTC681x.c **** 	uint8_t md_bits;
  86:Drivers/LTC681x/LTC681x.c **** 	cmd[0] = tx_cmd[0];
  87:Drivers/LTC681x/LTC681x.c **** 	cmd[1] =  tx_cmd[1];
  88:Drivers/LTC681x/LTC681x.c **** 	cmd_pec = pec15_calc(2, cmd);
  89:Drivers/LTC681x/LTC681x.c **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
  90:Drivers/LTC681x/LTC681x.c **** 	cmd[3] = (uint8_t)(cmd_pec);
ARM GAS  /tmp/ccMCacDa.s 			page 5


  91:Drivers/LTC681x/LTC681x.c **** 	cs_low(CS_PIN);
  92:Drivers/LTC681x/LTC681x.c **** 	spi_write_array(4,cmd);
  93:Drivers/LTC681x/LTC681x.c **** 	cs_high(CS_PIN);
  94:Drivers/LTC681x/LTC681x.c **** }
  95:Drivers/LTC681x/LTC681x.c **** 
  96:Drivers/LTC681x/LTC681x.c **** //Generic function to write 68xx commands and write payload data. Function calculated PEC for tx_cm
  97:Drivers/LTC681x/LTC681x.c **** void write_68(uint8_t total_ic, 
  98:Drivers/LTC681x/LTC681x.c **** 			  uint8_t tx_cmd[2], 
  99:Drivers/LTC681x/LTC681x.c **** 			  uint8_t data[])
 100:Drivers/LTC681x/LTC681x.c **** {
 101:Drivers/LTC681x/LTC681x.c **** 	const uint8_t BYTES_IN_REG = 6;
 102:Drivers/LTC681x/LTC681x.c **** 	const uint8_t CMD_LEN = 4+(8*total_ic);
 103:Drivers/LTC681x/LTC681x.c **** 	uint8_t *cmd;
 104:Drivers/LTC681x/LTC681x.c **** 	uint16_t data_pec;
 105:Drivers/LTC681x/LTC681x.c **** 	uint16_t cmd_pec;
 106:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd_index;
 107:Drivers/LTC681x/LTC681x.c **** 	cmd = (uint8_t *)malloc(CMD_LEN*sizeof(uint8_t));
 108:Drivers/LTC681x/LTC681x.c **** 	cmd[0] = tx_cmd[0];
 109:Drivers/LTC681x/LTC681x.c **** 	cmd[1] = tx_cmd[1];
 110:Drivers/LTC681x/LTC681x.c **** 	cmd_pec = pec15_calc(2, cmd);
 111:Drivers/LTC681x/LTC681x.c **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 112:Drivers/LTC681x/LTC681x.c **** 	cmd[3] = (uint8_t)(cmd_pec);
 113:Drivers/LTC681x/LTC681x.c **** 	cmd_index = 4;
 114:Drivers/LTC681x/LTC681x.c **** 	for (uint8_t current_ic = total_ic; current_ic > 0; current_ic--)       // executes for each LTC68
 115:Drivers/LTC681x/LTC681x.c ****     {	                                                                   //The first configuration 
 116:Drivers/LTC681x/LTC681x.c **** 
 117:Drivers/LTC681x/LTC681x.c **** 		for (uint8_t current_byte = 0; current_byte < BYTES_IN_REG; current_byte++)
 118:Drivers/LTC681x/LTC681x.c **** 		{
 119:Drivers/LTC681x/LTC681x.c **** 			cmd[cmd_index] = data[((current_ic-1)*6)+current_byte];
 120:Drivers/LTC681x/LTC681x.c **** 			cmd_index = cmd_index + 1;
 121:Drivers/LTC681x/LTC681x.c **** 		}
 122:Drivers/LTC681x/LTC681x.c **** 		data_pec = (uint16_t)pec15_calc(BYTES_IN_REG, &data[(current_ic-1)*6]);    // calculating the PEC
 123:Drivers/LTC681x/LTC681x.c **** 		cmd[cmd_index] = (uint8_t)(data_pec >> 8);
 124:Drivers/LTC681x/LTC681x.c **** 		cmd[cmd_index + 1] = (uint8_t)data_pec;
 125:Drivers/LTC681x/LTC681x.c **** 		cmd_index = cmd_index + 2;
 126:Drivers/LTC681x/LTC681x.c **** 	}
 127:Drivers/LTC681x/LTC681x.c **** 	cs_low(CS_PIN);
 128:Drivers/LTC681x/LTC681x.c **** 	spi_write_array(CMD_LEN, cmd);
 129:Drivers/LTC681x/LTC681x.c **** 	cs_high(CS_PIN);
 130:Drivers/LTC681x/LTC681x.c **** 	free(cmd);
 131:Drivers/LTC681x/LTC681x.c **** }
 132:Drivers/LTC681x/LTC681x.c **** 
 133:Drivers/LTC681x/LTC681x.c **** //Generic function to write 68xx commands and read data. Function calculated PEC for tx_cmd data
 134:Drivers/LTC681x/LTC681x.c **** int8_t read_68( uint8_t total_ic, 
 135:Drivers/LTC681x/LTC681x.c **** 				uint8_t tx_cmd[2], 
 136:Drivers/LTC681x/LTC681x.c **** 				uint8_t *rx_data)
 137:Drivers/LTC681x/LTC681x.c **** {
 138:Drivers/LTC681x/LTC681x.c **** 	const uint8_t BYTES_IN_REG = 8;
 139:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd[4];
 140:Drivers/LTC681x/LTC681x.c **** 	uint8_t data[256];
 141:Drivers/LTC681x/LTC681x.c **** 	int8_t pec_error = 0;
 142:Drivers/LTC681x/LTC681x.c **** 	uint16_t cmd_pec;
 143:Drivers/LTC681x/LTC681x.c **** 	uint16_t data_pec;
 144:Drivers/LTC681x/LTC681x.c **** 	uint16_t received_pec;
 145:Drivers/LTC681x/LTC681x.c **** 	cmd[0] = tx_cmd[0];
 146:Drivers/LTC681x/LTC681x.c **** 	cmd[1] = tx_cmd[1];
 147:Drivers/LTC681x/LTC681x.c **** 	cmd_pec = pec15_calc(2, cmd);
ARM GAS  /tmp/ccMCacDa.s 			page 6


 148:Drivers/LTC681x/LTC681x.c **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 149:Drivers/LTC681x/LTC681x.c **** 	cmd[3] = (uint8_t)(cmd_pec);
 150:Drivers/LTC681x/LTC681x.c **** 	cs_low(CS_PIN);
 151:Drivers/LTC681x/LTC681x.c **** 	spi_write_read(cmd, 4, data, (BYTES_IN_REG*total_ic));         //Read the configuration data of al
 152:Drivers/LTC681x/LTC681x.c **** 	cs_high(CS_PIN);                                         
 153:Drivers/LTC681x/LTC681x.c **** 
 154:Drivers/LTC681x/LTC681x.c **** 	for (uint8_t current_ic = 0; current_ic < total_ic; current_ic++) //executes for each LTC681x in t
 155:Drivers/LTC681x/LTC681x.c **** 	{																//into the r_comm array as well as check the received data for any bit errors
 156:Drivers/LTC681x/LTC681x.c **** 		for (uint8_t current_byte = 0; current_byte < BYTES_IN_REG; current_byte++)
 157:Drivers/LTC681x/LTC681x.c **** 		{
 158:Drivers/LTC681x/LTC681x.c **** 			rx_data[(current_ic*8)+current_byte] = data[current_byte + (current_ic*BYTES_IN_REG)];
 159:Drivers/LTC681x/LTC681x.c **** 		}
 160:Drivers/LTC681x/LTC681x.c **** 		received_pec = (rx_data[(current_ic*8)+6]<<8) + rx_data[(current_ic*8)+7];
 161:Drivers/LTC681x/LTC681x.c **** 		data_pec = pec15_calc(6, &rx_data[current_ic*8]);
 162:Drivers/LTC681x/LTC681x.c **** 		if (received_pec != data_pec)
 163:Drivers/LTC681x/LTC681x.c **** 		{
 164:Drivers/LTC681x/LTC681x.c **** 		  pec_error = -1;
 165:Drivers/LTC681x/LTC681x.c **** 		}
 166:Drivers/LTC681x/LTC681x.c **** 	}
 167:Drivers/LTC681x/LTC681x.c **** 	return(pec_error);
 168:Drivers/LTC681x/LTC681x.c **** }
 169:Drivers/LTC681x/LTC681x.c **** 
 170:Drivers/LTC681x/LTC681x.c **** //Calculates  and returns the CRC15 
 171:Drivers/LTC681x/LTC681x.c **** uint16_t pec15_calc(uint8_t len, //Number of bytes that will be used to calculate a PEC
 172:Drivers/LTC681x/LTC681x.c ****                     uint8_t *data //Array of data that will be used to calculate  a PEC
 173:Drivers/LTC681x/LTC681x.c ****                    )
 174:Drivers/LTC681x/LTC681x.c **** {
 140              		.loc 1 174 0
 141              		.cfi_startproc
 142              		@ args = 0, pretend = 0, frame = 0
 143              		@ frame_needed = 0, uses_anonymous_args = 0
 144              	.LVL15:
 145 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 146              	.LCFI2:
 147              		.cfi_def_cfa_offset 24
 148              		.cfi_offset 3, -24
 149              		.cfi_offset 4, -20
 150              		.cfi_offset 5, -16
 151              		.cfi_offset 6, -12
 152              		.cfi_offset 7, -8
 153              		.cfi_offset 14, -4
 154 0002 0646     		mov	r6, r0
 155 0004 0F46     		mov	r7, r1
 156              	.LVL16:
 157              	.LBB4:
 175:Drivers/LTC681x/LTC681x.c **** 	uint16_t remainder,addr;
 176:Drivers/LTC681x/LTC681x.c **** 	remainder = 16;//initialize the PEC
 177:Drivers/LTC681x/LTC681x.c **** 	for (uint8_t i = 0; i<len; i++) // loops for each byte in data array
 158              		.loc 1 177 0
 159 0006 0025     		movs	r5, #0
 160              	.LBE4:
 176:Drivers/LTC681x/LTC681x.c **** 	for (uint8_t i = 0; i<len; i++) // loops for each byte in data array
 161              		.loc 1 176 0
 162 0008 1023     		movs	r3, #16
 163              	.LBB6:
 164              		.loc 1 177 0
 165 000a 0EE0     		b	.L10
ARM GAS  /tmp/ccMCacDa.s 			page 7


 166              	.LVL17:
 167              	.L11:
 168              	.LBB5:
 178:Drivers/LTC681x/LTC681x.c **** 	{
 179:Drivers/LTC681x/LTC681x.c **** 	addr = ((remainder>>7)^data[i])&0xff;//calculate PEC table address
 169              		.loc 1 179 0 discriminator 3
 170 000c 7A5D     		ldrb	r2, [r7, r5]	@ zero_extendqisi2
 171 000e 82EAD312 		eor	r2, r2, r3, lsr #7
 172 0012 D2B2     		uxtb	r2, r2
 173              	.LVL18:
 180:Drivers/LTC681x/LTC681x.c **** 	#ifdef MBED
 181:Drivers/LTC681x/LTC681x.c **** 		remainder = (remainder<<8)^crc15Table[addr];
 182:Drivers/LTC681x/LTC681x.c **** 	#else
 183:Drivers/LTC681x/LTC681x.c **** 		remainder = (remainder<<8)^pgm_read_word_near(crc15Table+addr);
 174              		.loc 1 183 0 discriminator 3
 175 0014 1C02     		lsls	r4, r3, #8
 176 0016 0748     		ldr	r0, .L13
 177 0018 00EB4200 		add	r0, r0, r2, lsl #1
 178 001c FFF7FEFF 		bl	pgm_read_word_near
 179              	.LVL19:
 180 0020 84EA0003 		eor	r3, r4, r0
 181 0024 9BB2     		uxth	r3, r3
 182              	.LVL20:
 183              	.LBE5:
 177:Drivers/LTC681x/LTC681x.c **** 	{
 184              		.loc 1 177 0 discriminator 3
 185 0026 0135     		adds	r5, r5, #1
 186              	.LVL21:
 187 0028 EDB2     		uxtb	r5, r5
 188              	.LVL22:
 189              	.L10:
 177:Drivers/LTC681x/LTC681x.c **** 	{
 190              		.loc 1 177 0 is_stmt 0 discriminator 1
 191 002a B542     		cmp	r5, r6
 192 002c EED3     		bcc	.L11
 193              	.LBE6:
 184:Drivers/LTC681x/LTC681x.c **** 	#endif
 185:Drivers/LTC681x/LTC681x.c **** 	}
 186:Drivers/LTC681x/LTC681x.c **** 	return(remainder*2);//The CRC15 has a 0 in the LSB so the remainder must be multiplied by 2
 194              		.loc 1 186 0 is_stmt 1
 195 002e 5800     		lsls	r0, r3, #1
 196 0030 80B2     		uxth	r0, r0
 187:Drivers/LTC681x/LTC681x.c **** }
 197              		.loc 1 187 0
 198 0032 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 199              	.LVL23:
 200              	.L14:
 201              		.align	2
 202              	.L13:
 203 0034 00000000 		.word	.LANCHOR0
 204              		.cfi_endproc
 205              	.LFE5:
 207              		.section	.text.cmd_68,"ax",%progbits
 208              		.align	1
 209              		.global	cmd_68
 210              		.syntax unified
 211              		.thumb
ARM GAS  /tmp/ccMCacDa.s 			page 8


 212              		.thumb_func
 213              		.fpu softvfp
 215              	cmd_68:
 216              	.LFB2:
  82:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd[4];
 217              		.loc 1 82 0
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 8
 220              		@ frame_needed = 0, uses_anonymous_args = 0
 221              	.LVL24:
 222 0000 00B5     		push	{lr}
 223              	.LCFI3:
 224              		.cfi_def_cfa_offset 4
 225              		.cfi_offset 14, -4
 226 0002 83B0     		sub	sp, sp, #12
 227              	.LCFI4:
 228              		.cfi_def_cfa_offset 16
  86:Drivers/LTC681x/LTC681x.c **** 	cmd[1] =  tx_cmd[1];
 229              		.loc 1 86 0
 230 0004 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 231 0006 8DF80430 		strb	r3, [sp, #4]
  87:Drivers/LTC681x/LTC681x.c **** 	cmd_pec = pec15_calc(2, cmd);
 232              		.loc 1 87 0
 233 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 234 000c 8DF80530 		strb	r3, [sp, #5]
  88:Drivers/LTC681x/LTC681x.c **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 235              		.loc 1 88 0
 236 0010 01A9     		add	r1, sp, #4
 237 0012 0220     		movs	r0, #2
 238              	.LVL25:
 239 0014 FFF7FEFF 		bl	pec15_calc
 240              	.LVL26:
  89:Drivers/LTC681x/LTC681x.c **** 	cmd[3] = (uint8_t)(cmd_pec);
 241              		.loc 1 89 0
 242 0018 C0F30723 		ubfx	r3, r0, #8, #8
 243 001c 8DF80630 		strb	r3, [sp, #6]
  90:Drivers/LTC681x/LTC681x.c **** 	cs_low(CS_PIN);
 244              		.loc 1 90 0
 245 0020 8DF80700 		strb	r0, [sp, #7]
  91:Drivers/LTC681x/LTC681x.c **** 	spi_write_array(4,cmd);
 246              		.loc 1 91 0
 247 0024 0A20     		movs	r0, #10
 248              	.LVL27:
 249 0026 FFF7FEFF 		bl	cs_low
 250              	.LVL28:
  92:Drivers/LTC681x/LTC681x.c **** 	cs_high(CS_PIN);
 251              		.loc 1 92 0
 252 002a 01A9     		add	r1, sp, #4
 253 002c 0420     		movs	r0, #4
 254 002e FFF7FEFF 		bl	spi_write_array
 255              	.LVL29:
  93:Drivers/LTC681x/LTC681x.c **** }
 256              		.loc 1 93 0
 257 0032 0A20     		movs	r0, #10
 258 0034 FFF7FEFF 		bl	cs_high
 259              	.LVL30:
  94:Drivers/LTC681x/LTC681x.c **** 
ARM GAS  /tmp/ccMCacDa.s 			page 9


 260              		.loc 1 94 0
 261 0038 03B0     		add	sp, sp, #12
 262              	.LCFI5:
 263              		.cfi_def_cfa_offset 4
 264              		@ sp needed
 265 003a 5DF804FB 		ldr	pc, [sp], #4
 266              		.cfi_endproc
 267              	.LFE2:
 269              		.section	.text.write_68,"ax",%progbits
 270              		.align	1
 271              		.global	write_68
 272              		.syntax unified
 273              		.thumb
 274              		.thumb_func
 275              		.fpu softvfp
 277              	write_68:
 278              	.LFB3:
 100:Drivers/LTC681x/LTC681x.c **** 	const uint8_t BYTES_IN_REG = 6;
 279              		.loc 1 100 0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 0
 282              		@ frame_needed = 0, uses_anonymous_args = 0
 283              	.LVL31:
 284 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 285              	.LCFI6:
 286              		.cfi_def_cfa_offset 24
 287              		.cfi_offset 4, -24
 288              		.cfi_offset 5, -20
 289              		.cfi_offset 6, -16
 290              		.cfi_offset 7, -12
 291              		.cfi_offset 8, -8
 292              		.cfi_offset 14, -4
 293 0004 0546     		mov	r5, r0
 294 0006 0C46     		mov	r4, r1
 295 0008 1746     		mov	r7, r2
 296              	.LVL32:
 102:Drivers/LTC681x/LTC681x.c **** 	uint8_t *cmd;
 297              		.loc 1 102 0
 298 000a 4FEAC008 		lsl	r8, r0, #3
 299 000e 5FFA88F8 		uxtb	r8, r8
 300 0012 08F10408 		add	r8, r8, #4
 301 0016 5FFA88F8 		uxtb	r8, r8
 302              	.LVL33:
 107:Drivers/LTC681x/LTC681x.c **** 	cmd[0] = tx_cmd[0];
 303              		.loc 1 107 0
 304 001a 4046     		mov	r0, r8
 305              	.LVL34:
 306 001c FFF7FEFF 		bl	malloc
 307              	.LVL35:
 308 0020 0646     		mov	r6, r0
 309              	.LVL36:
 108:Drivers/LTC681x/LTC681x.c **** 	cmd[1] = tx_cmd[1];
 310              		.loc 1 108 0
 311 0022 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 312 0024 0370     		strb	r3, [r0]
 109:Drivers/LTC681x/LTC681x.c **** 	cmd_pec = pec15_calc(2, cmd);
 313              		.loc 1 109 0
ARM GAS  /tmp/ccMCacDa.s 			page 10


 314 0026 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 315 0028 4370     		strb	r3, [r0, #1]
 110:Drivers/LTC681x/LTC681x.c **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 316              		.loc 1 110 0
 317 002a 0146     		mov	r1, r0
 318 002c 0220     		movs	r0, #2
 319              	.LVL37:
 320 002e FFF7FEFF 		bl	pec15_calc
 321              	.LVL38:
 111:Drivers/LTC681x/LTC681x.c **** 	cmd[3] = (uint8_t)(cmd_pec);
 322              		.loc 1 111 0
 323 0032 C0F30723 		ubfx	r3, r0, #8, #8
 324 0036 B370     		strb	r3, [r6, #2]
 112:Drivers/LTC681x/LTC681x.c **** 	cmd_index = 4;
 325              		.loc 1 112 0
 326 0038 F070     		strb	r0, [r6, #3]
 327              	.LVL39:
 113:Drivers/LTC681x/LTC681x.c **** 	for (uint8_t current_ic = total_ic; current_ic > 0; current_ic--)       // executes for each LTC68
 328              		.loc 1 113 0
 329 003a 0424     		movs	r4, #4
 330              	.LVL40:
 331              	.LBB7:
 114:Drivers/LTC681x/LTC681x.c ****     {	                                                                   //The first configuration 
 332              		.loc 1 114 0
 333 003c 1CE0     		b	.L18
 334              	.LVL41:
 335              	.L19:
 336              	.LBB8:
 119:Drivers/LTC681x/LTC681x.c **** 			cmd_index = cmd_index + 1;
 337              		.loc 1 119 0 discriminator 3
 338 003e 6A1E     		subs	r2, r5, #1
 339 0040 02EB4202 		add	r2, r2, r2, lsl #1
 340 0044 5100     		lsls	r1, r2, #1
 341 0046 1944     		add	r1, r1, r3
 342 0048 7A5C     		ldrb	r2, [r7, r1]	@ zero_extendqisi2
 343 004a 3255     		strb	r2, [r6, r4]
 120:Drivers/LTC681x/LTC681x.c **** 		}
 344              		.loc 1 120 0 discriminator 3
 345 004c 0134     		adds	r4, r4, #1
 346              	.LVL42:
 347 004e E4B2     		uxtb	r4, r4
 348              	.LVL43:
 117:Drivers/LTC681x/LTC681x.c **** 		{
 349              		.loc 1 117 0 discriminator 3
 350 0050 0133     		adds	r3, r3, #1
 351              	.LVL44:
 352 0052 DBB2     		uxtb	r3, r3
 353              	.LVL45:
 354              	.L20:
 117:Drivers/LTC681x/LTC681x.c **** 		{
 355              		.loc 1 117 0 is_stmt 0 discriminator 1
 356 0054 052B     		cmp	r3, #5
 357 0056 F2D9     		bls	.L19
 358              	.LBE8:
 122:Drivers/LTC681x/LTC681x.c **** 		cmd[cmd_index] = (uint8_t)(data_pec >> 8);
 359              		.loc 1 122 0 is_stmt 1 discriminator 2
 360 0058 013D     		subs	r5, r5, #1
ARM GAS  /tmp/ccMCacDa.s 			page 11


 361              	.LVL46:
 362 005a 05EB4503 		add	r3, r5, r5, lsl #1
 363              	.LVL47:
 364 005e 5900     		lsls	r1, r3, #1
 365 0060 3944     		add	r1, r1, r7
 366 0062 0620     		movs	r0, #6
 367 0064 FFF7FEFF 		bl	pec15_calc
 368              	.LVL48:
 123:Drivers/LTC681x/LTC681x.c **** 		cmd[cmd_index + 1] = (uint8_t)data_pec;
 369              		.loc 1 123 0 discriminator 2
 370 0068 C0F30723 		ubfx	r3, r0, #8, #8
 371 006c 3355     		strb	r3, [r6, r4]
 124:Drivers/LTC681x/LTC681x.c **** 		cmd_index = cmd_index + 2;
 372              		.loc 1 124 0 discriminator 2
 373 006e 631C     		adds	r3, r4, #1
 374 0070 F054     		strb	r0, [r6, r3]
 125:Drivers/LTC681x/LTC681x.c **** 	}
 375              		.loc 1 125 0 discriminator 2
 376 0072 0234     		adds	r4, r4, #2
 377              	.LVL49:
 378 0074 E4B2     		uxtb	r4, r4
 379              	.LVL50:
 114:Drivers/LTC681x/LTC681x.c ****     {	                                                                   //The first configuration 
 380              		.loc 1 114 0 discriminator 2
 381 0076 EDB2     		uxtb	r5, r5
 382              	.LVL51:
 383              	.L18:
 114:Drivers/LTC681x/LTC681x.c ****     {	                                                                   //The first configuration 
 384              		.loc 1 114 0 is_stmt 0 discriminator 1
 385 0078 0DB1     		cbz	r5, .L23
 386              	.LBB9:
 117:Drivers/LTC681x/LTC681x.c **** 		{
 387              		.loc 1 117 0 is_stmt 1
 388 007a 0023     		movs	r3, #0
 389 007c EAE7     		b	.L20
 390              	.L23:
 391              	.LBE9:
 392              	.LBE7:
 127:Drivers/LTC681x/LTC681x.c **** 	spi_write_array(CMD_LEN, cmd);
 393              		.loc 1 127 0
 394 007e 0A20     		movs	r0, #10
 395 0080 FFF7FEFF 		bl	cs_low
 396              	.LVL52:
 128:Drivers/LTC681x/LTC681x.c **** 	cs_high(CS_PIN);
 397              		.loc 1 128 0
 398 0084 3146     		mov	r1, r6
 399 0086 4046     		mov	r0, r8
 400 0088 FFF7FEFF 		bl	spi_write_array
 401              	.LVL53:
 129:Drivers/LTC681x/LTC681x.c **** 	free(cmd);
 402              		.loc 1 129 0
 403 008c 0A20     		movs	r0, #10
 404 008e FFF7FEFF 		bl	cs_high
 405              	.LVL54:
 130:Drivers/LTC681x/LTC681x.c **** }
 406              		.loc 1 130 0
 407 0092 3046     		mov	r0, r6
ARM GAS  /tmp/ccMCacDa.s 			page 12


 408 0094 FFF7FEFF 		bl	free
 409              	.LVL55:
 131:Drivers/LTC681x/LTC681x.c **** 
 410              		.loc 1 131 0
 411 0098 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 412              		.cfi_endproc
 413              	.LFE3:
 415              		.section	.text.read_68,"ax",%progbits
 416              		.align	1
 417              		.global	read_68
 418              		.syntax unified
 419              		.thumb
 420              		.thumb_func
 421              		.fpu softvfp
 423              	read_68:
 424              	.LFB4:
 137:Drivers/LTC681x/LTC681x.c **** 	const uint8_t BYTES_IN_REG = 8;
 425              		.loc 1 137 0
 426              		.cfi_startproc
 427              		@ args = 0, pretend = 0, frame = 264
 428              		@ frame_needed = 0, uses_anonymous_args = 0
 429              	.LVL56:
 430 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 431              	.LCFI7:
 432              		.cfi_def_cfa_offset 24
 433              		.cfi_offset 4, -24
 434              		.cfi_offset 5, -20
 435              		.cfi_offset 6, -16
 436              		.cfi_offset 7, -12
 437              		.cfi_offset 8, -8
 438              		.cfi_offset 14, -4
 439 0004 C2B0     		sub	sp, sp, #264
 440              	.LCFI8:
 441              		.cfi_def_cfa_offset 288
 442 0006 0646     		mov	r6, r0
 443 0008 1546     		mov	r5, r2
 444              	.LVL57:
 145:Drivers/LTC681x/LTC681x.c **** 	cmd[1] = tx_cmd[1];
 445              		.loc 1 145 0
 446 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 447 000c 8DF80431 		strb	r3, [sp, #260]
 146:Drivers/LTC681x/LTC681x.c **** 	cmd_pec = pec15_calc(2, cmd);
 448              		.loc 1 146 0
 449 0010 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 450 0012 8DF80531 		strb	r3, [sp, #261]
 147:Drivers/LTC681x/LTC681x.c **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 451              		.loc 1 147 0
 452 0016 41A9     		add	r1, sp, #260
 453              	.LVL58:
 454 0018 0220     		movs	r0, #2
 455              	.LVL59:
 456 001a FFF7FEFF 		bl	pec15_calc
 457              	.LVL60:
 148:Drivers/LTC681x/LTC681x.c **** 	cmd[3] = (uint8_t)(cmd_pec);
 458              		.loc 1 148 0
 459 001e C0F30723 		ubfx	r3, r0, #8, #8
 460 0022 8DF80631 		strb	r3, [sp, #262]
ARM GAS  /tmp/ccMCacDa.s 			page 13


 149:Drivers/LTC681x/LTC681x.c **** 	cs_low(CS_PIN);
 461              		.loc 1 149 0
 462 0026 8DF80701 		strb	r0, [sp, #263]
 150:Drivers/LTC681x/LTC681x.c **** 	spi_write_read(cmd, 4, data, (BYTES_IN_REG*total_ic));         //Read the configuration data of al
 463              		.loc 1 150 0
 464 002a 0A20     		movs	r0, #10
 465              	.LVL61:
 466 002c FFF7FEFF 		bl	cs_low
 467              	.LVL62:
 151:Drivers/LTC681x/LTC681x.c **** 	cs_high(CS_PIN);                                         
 468              		.loc 1 151 0
 469 0030 F300     		lsls	r3, r6, #3
 470 0032 03F0F803 		and	r3, r3, #248
 471 0036 01AA     		add	r2, sp, #4
 472 0038 0421     		movs	r1, #4
 473 003a 41A8     		add	r0, sp, #260
 474 003c FFF7FEFF 		bl	spi_write_read
 475              	.LVL63:
 152:Drivers/LTC681x/LTC681x.c **** 
 476              		.loc 1 152 0
 477 0040 0A20     		movs	r0, #10
 478 0042 FFF7FEFF 		bl	cs_high
 479              	.LVL64:
 480              	.LBB10:
 154:Drivers/LTC681x/LTC681x.c **** 	{																//into the r_comm array as well as check the received data for any bit errors
 481              		.loc 1 154 0
 482 0046 0024     		movs	r4, #0
 483              	.LBE10:
 141:Drivers/LTC681x/LTC681x.c **** 	uint16_t cmd_pec;
 484              		.loc 1 141 0
 485 0048 2746     		mov	r7, r4
 486              	.LBB13:
 154:Drivers/LTC681x/LTC681x.c **** 	{																//into the r_comm array as well as check the received data for any bit errors
 487              		.loc 1 154 0
 488 004a 1AE0     		b	.L25
 489              	.LVL65:
 490              	.L26:
 491              	.LBB11:
 158:Drivers/LTC681x/LTC681x.c **** 		}
 492              		.loc 1 158 0 discriminator 3
 493 004c 03EBC402 		add	r2, r3, r4, lsl #3
 494 0050 01A9     		add	r1, sp, #4
 495 0052 895C     		ldrb	r1, [r1, r2]	@ zero_extendqisi2
 496 0054 A954     		strb	r1, [r5, r2]
 156:Drivers/LTC681x/LTC681x.c **** 		{
 497              		.loc 1 156 0 discriminator 3
 498 0056 0133     		adds	r3, r3, #1
 499              	.LVL66:
 500 0058 DBB2     		uxtb	r3, r3
 501              	.LVL67:
 502              	.L28:
 156:Drivers/LTC681x/LTC681x.c **** 		{
 503              		.loc 1 156 0 is_stmt 0 discriminator 1
 504 005a 072B     		cmp	r3, #7
 505 005c F6D9     		bls	.L26
 506              	.LBE11:
 160:Drivers/LTC681x/LTC681x.c **** 		data_pec = pec15_calc(6, &rx_data[current_ic*8]);
ARM GAS  /tmp/ccMCacDa.s 			page 14


 507              		.loc 1 160 0 is_stmt 1
 508 005e 05EBC401 		add	r1, r5, r4, lsl #3
 509 0062 8B79     		ldrb	r3, [r1, #6]	@ zero_extendqisi2
 510              	.LVL68:
 511 0064 91F80780 		ldrb	r8, [r1, #7]	@ zero_extendqisi2
 512 0068 08EB0328 		add	r8, r8, r3, lsl #8
 513 006c 1FFA88F8 		uxth	r8, r8
 514              	.LVL69:
 161:Drivers/LTC681x/LTC681x.c **** 		if (received_pec != data_pec)
 515              		.loc 1 161 0
 516 0070 0620     		movs	r0, #6
 517 0072 FFF7FEFF 		bl	pec15_calc
 518              	.LVL70:
 162:Drivers/LTC681x/LTC681x.c **** 		{
 519              		.loc 1 162 0
 520 0076 8045     		cmp	r8, r0
 521 0078 01D0     		beq	.L27
 164:Drivers/LTC681x/LTC681x.c **** 		}
 522              		.loc 1 164 0
 523 007a 4FF0FF37 		mov	r7, #-1
 524              	.LVL71:
 525              	.L27:
 154:Drivers/LTC681x/LTC681x.c **** 	{																//into the r_comm array as well as check the received data for any bit errors
 526              		.loc 1 154 0 discriminator 2
 527 007e 0134     		adds	r4, r4, #1
 528              	.LVL72:
 529 0080 E4B2     		uxtb	r4, r4
 530              	.LVL73:
 531              	.L25:
 154:Drivers/LTC681x/LTC681x.c **** 	{																//into the r_comm array as well as check the received data for any bit errors
 532              		.loc 1 154 0 is_stmt 0 discriminator 1
 533 0082 B442     		cmp	r4, r6
 534 0084 01D2     		bcs	.L32
 535              	.LBB12:
 156:Drivers/LTC681x/LTC681x.c **** 		{
 536              		.loc 1 156 0 is_stmt 1
 537 0086 0023     		movs	r3, #0
 538 0088 E7E7     		b	.L28
 539              	.L32:
 540              	.LBE12:
 541              	.LBE13:
 168:Drivers/LTC681x/LTC681x.c **** 
 542              		.loc 1 168 0
 543 008a 3846     		mov	r0, r7
 544 008c 42B0     		add	sp, sp, #264
 545              	.LCFI9:
 546              		.cfi_def_cfa_offset 24
 547              		@ sp needed
 548 008e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 549              		.cfi_endproc
 550              	.LFE4:
 552              		.section	.text.LTC681x_init_cfg,"ax",%progbits
 553              		.align	1
 554              		.global	LTC681x_init_cfg
 555              		.syntax unified
 556              		.thumb
 557              		.thumb_func
ARM GAS  /tmp/ccMCacDa.s 			page 15


 558              		.fpu softvfp
 560              	LTC681x_init_cfg:
 561              	.LFB6:
 188:Drivers/LTC681x/LTC681x.c **** 
 189:Drivers/LTC681x/LTC681x.c **** //Helper function to initialize CFG variables.
 190:Drivers/LTC681x/LTC681x.c **** void LTC681x_init_cfg(uint8_t total_ic, 
 191:Drivers/LTC681x/LTC681x.c **** 					  cell_asic *ic
 192:Drivers/LTC681x/LTC681x.c **** 					  )
 193:Drivers/LTC681x/LTC681x.c **** {
 562              		.loc 1 193 0
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              		@ link register save eliminated.
 567              	.LVL74:
 568 0000 30B4     		push	{r4, r5}
 569              	.LCFI10:
 570              		.cfi_def_cfa_offset 8
 571              		.cfi_offset 4, -8
 572              		.cfi_offset 5, -4
 573              	.LVL75:
 574              	.LBB14:
 194:Drivers/LTC681x/LTC681x.c ****    for (uint8_t current_ic = 0; current_ic<total_ic;current_ic++)  
 575              		.loc 1 194 0
 576 0002 0025     		movs	r5, #0
 577 0004 0AE0     		b	.L34
 578              	.LVL76:
 579              	.L35:
 580              	.LBB15:
 195:Drivers/LTC681x/LTC681x.c ****    {
 196:Drivers/LTC681x/LTC681x.c **** 		for (int j =0; j<6; j++)
 197:Drivers/LTC681x/LTC681x.c **** 		{
 198:Drivers/LTC681x/LTC681x.c **** 		  ic[current_ic].config.tx_data[j] = 0;
 581              		.loc 1 198 0 discriminator 3
 582 0006 C5EBC504 		rsb	r4, r5, r5, lsl #3
 583 000a 6301     		lsls	r3, r4, #5
 584 000c 0B44     		add	r3, r3, r1
 585 000e 0024     		movs	r4, #0
 586 0010 9C54     		strb	r4, [r3, r2]
 196:Drivers/LTC681x/LTC681x.c **** 		{
 587              		.loc 1 196 0 discriminator 3
 588 0012 0132     		adds	r2, r2, #1
 589              	.LVL77:
 590              	.L36:
 196:Drivers/LTC681x/LTC681x.c **** 		{
 591              		.loc 1 196 0 is_stmt 0 discriminator 1
 592 0014 052A     		cmp	r2, #5
 593 0016 F6DD     		ble	.L35
 594              	.LBE15:
 194:Drivers/LTC681x/LTC681x.c ****    for (uint8_t current_ic = 0; current_ic<total_ic;current_ic++)  
 595              		.loc 1 194 0 is_stmt 1 discriminator 2
 596 0018 0135     		adds	r5, r5, #1
 597              	.LVL78:
 598 001a EDB2     		uxtb	r5, r5
 599              	.LVL79:
 600              	.L34:
 194:Drivers/LTC681x/LTC681x.c ****    for (uint8_t current_ic = 0; current_ic<total_ic;current_ic++)  
ARM GAS  /tmp/ccMCacDa.s 			page 16


 601              		.loc 1 194 0 is_stmt 0 discriminator 1
 602 001c 8542     		cmp	r5, r0
 603 001e 01D2     		bcs	.L39
 604              	.LBB16:
 196:Drivers/LTC681x/LTC681x.c **** 		{
 605              		.loc 1 196 0 is_stmt 1
 606 0020 0022     		movs	r2, #0
 607 0022 F7E7     		b	.L36
 608              	.L39:
 609              	.LBE16:
 610              	.LBE14:
 199:Drivers/LTC681x/LTC681x.c **** 		}
 200:Drivers/LTC681x/LTC681x.c ****    }
 201:Drivers/LTC681x/LTC681x.c **** }
 611              		.loc 1 201 0
 612 0024 30BC     		pop	{r4, r5}
 613              	.LCFI11:
 614              		.cfi_restore 5
 615              		.cfi_restore 4
 616              		.cfi_def_cfa_offset 0
 617              	.LVL80:
 618 0026 7047     		bx	lr
 619              		.cfi_endproc
 620              	.LFE6:
 622              		.section	.text.LTC681x_set_cfgr_refon,"ax",%progbits
 623              		.align	1
 624              		.global	LTC681x_set_cfgr_refon
 625              		.syntax unified
 626              		.thumb
 627              		.thumb_func
 628              		.fpu softvfp
 630              	LTC681x_set_cfgr_refon:
 631              	.LFB8:
 202:Drivers/LTC681x/LTC681x.c **** 
 203:Drivers/LTC681x/LTC681x.c **** //Helper function to set CFGR variable
 204:Drivers/LTC681x/LTC681x.c **** void LTC681x_set_cfgr(uint8_t nIC, 
 205:Drivers/LTC681x/LTC681x.c **** 					 cell_asic *ic, 
 206:Drivers/LTC681x/LTC681x.c **** 					 bool refon, 
 207:Drivers/LTC681x/LTC681x.c **** 					 bool adcopt, 
 208:Drivers/LTC681x/LTC681x.c **** 					 bool gpio[5],
 209:Drivers/LTC681x/LTC681x.c **** 					 bool dcc[12], 
 210:Drivers/LTC681x/LTC681x.c **** 					 bool dcto[4], 
 211:Drivers/LTC681x/LTC681x.c **** 					 uint16_t uv, 
 212:Drivers/LTC681x/LTC681x.c **** 					 uint16_t  ov
 213:Drivers/LTC681x/LTC681x.c **** 					 )
 214:Drivers/LTC681x/LTC681x.c **** {
 215:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_refon(nIC,ic,refon);
 216:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_adcopt(nIC,ic,adcopt);
 217:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_gpio(nIC,ic,gpio);
 218:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_dis(nIC,ic,dcc);
 219:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_dcto(nIC,ic,dcto);
 220:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_uv(nIC, ic, uv);
 221:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_ov(nIC, ic, ov);
 222:Drivers/LTC681x/LTC681x.c **** }
 223:Drivers/LTC681x/LTC681x.c **** 
 224:Drivers/LTC681x/LTC681x.c **** 
 225:Drivers/LTC681x/LTC681x.c **** //Helper function to set the REFON bit
ARM GAS  /tmp/ccMCacDa.s 			page 17


 226:Drivers/LTC681x/LTC681x.c **** void LTC681x_set_cfgr_refon(uint8_t nIC, cell_asic *ic, bool refon)
 227:Drivers/LTC681x/LTC681x.c **** {
 632              		.loc 1 227 0
 633              		.cfi_startproc
 634              		@ args = 0, pretend = 0, frame = 0
 635              		@ frame_needed = 0, uses_anonymous_args = 0
 636              		@ link register save eliminated.
 637              	.LVL81:
 228:Drivers/LTC681x/LTC681x.c ****   if (refon) ic[nIC].config.tx_data[0] = ic[nIC].config.tx_data[0]|0x04;
 638              		.loc 1 228 0
 639 0000 3AB9     		cbnz	r2, .L43
 229:Drivers/LTC681x/LTC681x.c ****   else ic[nIC].config.tx_data[0] = ic[nIC].config.tx_data[0]&0xFB;
 640              		.loc 1 229 0
 641 0002 C0EBC000 		rsb	r0, r0, r0, lsl #3
 642              	.LVL82:
 643 0006 4301     		lsls	r3, r0, #5
 644 0008 CA5C     		ldrb	r2, [r1, r3]	@ zero_extendqisi2
 645              	.LVL83:
 646 000a 02F0FB02 		and	r2, r2, #251
 647 000e CA54     		strb	r2, [r1, r3]
 230:Drivers/LTC681x/LTC681x.c **** }
 648              		.loc 1 230 0
 649 0010 7047     		bx	lr
 650              	.LVL84:
 651              	.L43:
 228:Drivers/LTC681x/LTC681x.c ****   if (refon) ic[nIC].config.tx_data[0] = ic[nIC].config.tx_data[0]|0x04;
 652              		.loc 1 228 0 discriminator 1
 653 0012 C0EBC000 		rsb	r0, r0, r0, lsl #3
 654              	.LVL85:
 655 0016 4301     		lsls	r3, r0, #5
 656 0018 CA5C     		ldrb	r2, [r1, r3]	@ zero_extendqisi2
 657              	.LVL86:
 658 001a 42F00402 		orr	r2, r2, #4
 659 001e CA54     		strb	r2, [r1, r3]
 660 0020 7047     		bx	lr
 661              		.cfi_endproc
 662              	.LFE8:
 664              		.section	.text.LTC681x_set_cfgr_adcopt,"ax",%progbits
 665              		.align	1
 666              		.global	LTC681x_set_cfgr_adcopt
 667              		.syntax unified
 668              		.thumb
 669              		.thumb_func
 670              		.fpu softvfp
 672              	LTC681x_set_cfgr_adcopt:
 673              	.LFB9:
 231:Drivers/LTC681x/LTC681x.c **** 
 232:Drivers/LTC681x/LTC681x.c **** //Helper function to set the adcopt bit
 233:Drivers/LTC681x/LTC681x.c **** void LTC681x_set_cfgr_adcopt(uint8_t nIC, cell_asic *ic, bool adcopt)
 234:Drivers/LTC681x/LTC681x.c **** {
 674              		.loc 1 234 0
 675              		.cfi_startproc
 676              		@ args = 0, pretend = 0, frame = 0
 677              		@ frame_needed = 0, uses_anonymous_args = 0
 678              		@ link register save eliminated.
 679              	.LVL87:
 235:Drivers/LTC681x/LTC681x.c ****   if (adcopt) ic[nIC].config.tx_data[0] = ic[nIC].config.tx_data[0]|0x01;
ARM GAS  /tmp/ccMCacDa.s 			page 18


 680              		.loc 1 235 0
 681 0000 3AB9     		cbnz	r2, .L47
 236:Drivers/LTC681x/LTC681x.c ****   else ic[nIC].config.tx_data[0] = ic[nIC].config.tx_data[0]&0xFE;
 682              		.loc 1 236 0
 683 0002 C0EBC000 		rsb	r0, r0, r0, lsl #3
 684              	.LVL88:
 685 0006 4301     		lsls	r3, r0, #5
 686 0008 CA5C     		ldrb	r2, [r1, r3]	@ zero_extendqisi2
 687              	.LVL89:
 688 000a 02F0FE02 		and	r2, r2, #254
 689 000e CA54     		strb	r2, [r1, r3]
 237:Drivers/LTC681x/LTC681x.c **** }
 690              		.loc 1 237 0
 691 0010 7047     		bx	lr
 692              	.LVL90:
 693              	.L47:
 235:Drivers/LTC681x/LTC681x.c ****   if (adcopt) ic[nIC].config.tx_data[0] = ic[nIC].config.tx_data[0]|0x01;
 694              		.loc 1 235 0 discriminator 1
 695 0012 C0EBC000 		rsb	r0, r0, r0, lsl #3
 696              	.LVL91:
 697 0016 4301     		lsls	r3, r0, #5
 698 0018 CA5C     		ldrb	r2, [r1, r3]	@ zero_extendqisi2
 699              	.LVL92:
 700 001a 42F00102 		orr	r2, r2, #1
 701 001e CA54     		strb	r2, [r1, r3]
 702 0020 7047     		bx	lr
 703              		.cfi_endproc
 704              	.LFE9:
 706              		.section	.text.LTC681x_set_cfgr_gpio,"ax",%progbits
 707              		.align	1
 708              		.global	LTC681x_set_cfgr_gpio
 709              		.syntax unified
 710              		.thumb
 711              		.thumb_func
 712              		.fpu softvfp
 714              	LTC681x_set_cfgr_gpio:
 715              	.LFB10:
 238:Drivers/LTC681x/LTC681x.c **** 
 239:Drivers/LTC681x/LTC681x.c **** //Helper function to set GPIO bits
 240:Drivers/LTC681x/LTC681x.c **** void LTC681x_set_cfgr_gpio(uint8_t nIC, cell_asic *ic,bool gpio[5])
 241:Drivers/LTC681x/LTC681x.c **** {
 716              		.loc 1 241 0
 717              		.cfi_startproc
 718              		@ args = 0, pretend = 0, frame = 0
 719              		@ frame_needed = 0, uses_anonymous_args = 0
 720              		@ link register save eliminated.
 721              	.LVL93:
 722              	.LBB17:
 242:Drivers/LTC681x/LTC681x.c ****   for (int i =0; i<5; i++)
 723              		.loc 1 242 0
 724 0000 0023     		movs	r3, #0
 725              	.LVL94:
 726 0002 042B     		cmp	r3, #4
 727 0004 1DDC     		bgt	.L56
 728              	.LBE17:
 241:Drivers/LTC681x/LTC681x.c ****   for (int i =0; i<5; i++)
 729              		.loc 1 241 0
ARM GAS  /tmp/ccMCacDa.s 			page 19


 730 0006 F0B4     		push	{r4, r5, r6, r7}
 731              	.LCFI12:
 732              		.cfi_def_cfa_offset 16
 733              		.cfi_offset 4, -16
 734              		.cfi_offset 5, -12
 735              		.cfi_offset 6, -8
 736              		.cfi_offset 7, -4
 737 0008 0CE0     		b	.L52
 738              	.L50:
 739              	.LBB18:
 243:Drivers/LTC681x/LTC681x.c ****   {
 244:Drivers/LTC681x/LTC681x.c ****     if (gpio[i])ic[nIC].config.tx_data[0] = ic[nIC].config.tx_data[0]|(0x01<<(i+3));
 245:Drivers/LTC681x/LTC681x.c ****     else ic[nIC].config.tx_data[0] = ic[nIC].config.tx_data[0]&(~(0x01<<(i+3)));
 740              		.loc 1 245 0
 741 000a C0EBC005 		rsb	r5, r0, r0, lsl #3
 742 000e 6C01     		lsls	r4, r5, #5
 743 0010 0D57     		ldrsb	r5, [r1, r4]
 744 0012 DF1C     		adds	r7, r3, #3
 745 0014 0126     		movs	r6, #1
 746 0016 BE40     		lsls	r6, r6, r7
 747 0018 25EA0605 		bic	r5, r5, r6
 748 001c 0D55     		strb	r5, [r1, r4]
 749              	.L51:
 242:Drivers/LTC681x/LTC681x.c ****   {
 750              		.loc 1 242 0 discriminator 2
 751 001e 0133     		adds	r3, r3, #1
 752              	.LVL95:
 753 0020 042B     		cmp	r3, #4
 754 0022 0CDC     		bgt	.L57
 755              	.L52:
 244:Drivers/LTC681x/LTC681x.c ****     else ic[nIC].config.tx_data[0] = ic[nIC].config.tx_data[0]&(~(0x01<<(i+3)));
 756              		.loc 1 244 0
 757 0024 D45C     		ldrb	r4, [r2, r3]	@ zero_extendqisi2
 758 0026 002C     		cmp	r4, #0
 759 0028 EFD0     		beq	.L50
 244:Drivers/LTC681x/LTC681x.c ****     else ic[nIC].config.tx_data[0] = ic[nIC].config.tx_data[0]&(~(0x01<<(i+3)));
 760              		.loc 1 244 0 is_stmt 0 discriminator 1
 761 002a C0EBC005 		rsb	r5, r0, r0, lsl #3
 762 002e 6C01     		lsls	r4, r5, #5
 763 0030 0D57     		ldrsb	r5, [r1, r4]
 764 0032 DF1C     		adds	r7, r3, #3
 765 0034 0126     		movs	r6, #1
 766 0036 BE40     		lsls	r6, r6, r7
 767 0038 3543     		orrs	r5, r5, r6
 768 003a 0D55     		strb	r5, [r1, r4]
 769 003c EFE7     		b	.L51
 770              	.L57:
 771              	.LBE18:
 246:Drivers/LTC681x/LTC681x.c ****   }
 247:Drivers/LTC681x/LTC681x.c **** }
 772              		.loc 1 247 0 is_stmt 1
 773 003e F0BC     		pop	{r4, r5, r6, r7}
 774              	.LCFI13:
 775              		.cfi_restore 7
 776              		.cfi_restore 6
 777              		.cfi_restore 5
 778              		.cfi_restore 4
ARM GAS  /tmp/ccMCacDa.s 			page 20


 779              		.cfi_def_cfa_offset 0
 780 0040 7047     		bx	lr
 781              	.L56:
 782 0042 7047     		bx	lr
 783              		.cfi_endproc
 784              	.LFE10:
 786              		.section	.text.LTC681x_set_cfgr_dis,"ax",%progbits
 787              		.align	1
 788              		.global	LTC681x_set_cfgr_dis
 789              		.syntax unified
 790              		.thumb
 791              		.thumb_func
 792              		.fpu softvfp
 794              	LTC681x_set_cfgr_dis:
 795              	.LFB11:
 248:Drivers/LTC681x/LTC681x.c **** 
 249:Drivers/LTC681x/LTC681x.c **** //Helper function to control discharge
 250:Drivers/LTC681x/LTC681x.c **** void LTC681x_set_cfgr_dis(uint8_t nIC, cell_asic *ic,bool dcc[12])
 251:Drivers/LTC681x/LTC681x.c **** {
 796              		.loc 1 251 0
 797              		.cfi_startproc
 798              		@ args = 0, pretend = 0, frame = 0
 799              		@ frame_needed = 0, uses_anonymous_args = 0
 800              		@ link register save eliminated.
 801              	.LVL96:
 802 0000 70B4     		push	{r4, r5, r6}
 803              	.LCFI14:
 804              		.cfi_def_cfa_offset 12
 805              		.cfi_offset 4, -12
 806              		.cfi_offset 5, -8
 807              		.cfi_offset 6, -4
 808              	.LVL97:
 809              	.LBB19:
 252:Drivers/LTC681x/LTC681x.c ****   for (int i =0; i<8; i++)
 810              		.loc 1 252 0
 811 0002 0023     		movs	r3, #0
 812 0004 0BE0     		b	.L59
 813              	.LVL98:
 814              	.L60:
 253:Drivers/LTC681x/LTC681x.c ****   {
 254:Drivers/LTC681x/LTC681x.c ****     if (dcc[i])ic[nIC].config.tx_data[4] = ic[nIC].config.tx_data[4]|(0x01<<i);
 255:Drivers/LTC681x/LTC681x.c ****     else ic[nIC].config.tx_data[4] = ic[nIC].config.tx_data[4]& (~(0x01<<i));
 815              		.loc 1 255 0
 816 0006 C0EBC005 		rsb	r5, r0, r0, lsl #3
 817 000a 6C01     		lsls	r4, r5, #5
 818 000c 0C44     		add	r4, r4, r1
 819 000e 94F90450 		ldrsb	r5, [r4, #4]
 820 0012 0126     		movs	r6, #1
 821 0014 9E40     		lsls	r6, r6, r3
 822 0016 25EA0605 		bic	r5, r5, r6
 823 001a 2571     		strb	r5, [r4, #4]
 824              	.L61:
 252:Drivers/LTC681x/LTC681x.c ****   for (int i =0; i<8; i++)
 825              		.loc 1 252 0 discriminator 2
 826 001c 0133     		adds	r3, r3, #1
 827              	.LVL99:
 828              	.L59:
ARM GAS  /tmp/ccMCacDa.s 			page 21


 252:Drivers/LTC681x/LTC681x.c ****   for (int i =0; i<8; i++)
 829              		.loc 1 252 0 is_stmt 0 discriminator 1
 830 001e 072B     		cmp	r3, #7
 831 0020 0DDC     		bgt	.L68
 254:Drivers/LTC681x/LTC681x.c ****     else ic[nIC].config.tx_data[4] = ic[nIC].config.tx_data[4]& (~(0x01<<i));
 832              		.loc 1 254 0 is_stmt 1
 833 0022 D45C     		ldrb	r4, [r2, r3]	@ zero_extendqisi2
 834 0024 002C     		cmp	r4, #0
 835 0026 EED0     		beq	.L60
 254:Drivers/LTC681x/LTC681x.c ****     else ic[nIC].config.tx_data[4] = ic[nIC].config.tx_data[4]& (~(0x01<<i));
 836              		.loc 1 254 0 is_stmt 0 discriminator 1
 837 0028 C0EBC005 		rsb	r5, r0, r0, lsl #3
 838 002c 6C01     		lsls	r4, r5, #5
 839 002e 0C44     		add	r4, r4, r1
 840 0030 94F90450 		ldrsb	r5, [r4, #4]
 841 0034 0126     		movs	r6, #1
 842 0036 9E40     		lsls	r6, r6, r3
 843 0038 3543     		orrs	r5, r5, r6
 844 003a 2571     		strb	r5, [r4, #4]
 845 003c EEE7     		b	.L61
 846              	.L68:
 847              	.LBE19:
 848              	.LBB20:
 256:Drivers/LTC681x/LTC681x.c ****   }
 257:Drivers/LTC681x/LTC681x.c ****   for (int i =0; i<4; i++)
 849              		.loc 1 257 0 is_stmt 1
 850 003e 0023     		movs	r3, #0
 851              	.LVL100:
 852 0040 0BE0     		b	.L63
 853              	.LVL101:
 854              	.L64:
 258:Drivers/LTC681x/LTC681x.c ****   {
 259:Drivers/LTC681x/LTC681x.c ****     if (dcc[i+8])ic[nIC].config.tx_data[5] = ic[nIC].config.tx_data[5]|(0x01<<i);
 260:Drivers/LTC681x/LTC681x.c ****     else ic[nIC].config.tx_data[5] = ic[nIC].config.tx_data[5]&(~(0x01<<i));
 855              		.loc 1 260 0
 856 0042 C0EBC005 		rsb	r5, r0, r0, lsl #3
 857 0046 6C01     		lsls	r4, r5, #5
 858 0048 0C44     		add	r4, r4, r1
 859 004a 94F90550 		ldrsb	r5, [r4, #5]
 860 004e 0126     		movs	r6, #1
 861 0050 9E40     		lsls	r6, r6, r3
 862 0052 25EA0605 		bic	r5, r5, r6
 863 0056 6571     		strb	r5, [r4, #5]
 864              	.L65:
 257:Drivers/LTC681x/LTC681x.c ****   {
 865              		.loc 1 257 0 discriminator 2
 866 0058 0133     		adds	r3, r3, #1
 867              	.LVL102:
 868              	.L63:
 257:Drivers/LTC681x/LTC681x.c ****   {
 869              		.loc 1 257 0 is_stmt 0 discriminator 1
 870 005a 032B     		cmp	r3, #3
 871 005c 0EDC     		bgt	.L69
 259:Drivers/LTC681x/LTC681x.c ****     else ic[nIC].config.tx_data[5] = ic[nIC].config.tx_data[5]&(~(0x01<<i));
 872              		.loc 1 259 0 is_stmt 1
 873 005e D418     		adds	r4, r2, r3
 874 0060 247A     		ldrb	r4, [r4, #8]	@ zero_extendqisi2
ARM GAS  /tmp/ccMCacDa.s 			page 22


 875 0062 002C     		cmp	r4, #0
 876 0064 EDD0     		beq	.L64
 259:Drivers/LTC681x/LTC681x.c ****     else ic[nIC].config.tx_data[5] = ic[nIC].config.tx_data[5]&(~(0x01<<i));
 877              		.loc 1 259 0 is_stmt 0 discriminator 1
 878 0066 C0EBC005 		rsb	r5, r0, r0, lsl #3
 879 006a 6C01     		lsls	r4, r5, #5
 880 006c 0C44     		add	r4, r4, r1
 881 006e 94F90550 		ldrsb	r5, [r4, #5]
 882 0072 0126     		movs	r6, #1
 883 0074 9E40     		lsls	r6, r6, r3
 884 0076 3543     		orrs	r5, r5, r6
 885 0078 6571     		strb	r5, [r4, #5]
 886 007a EDE7     		b	.L65
 887              	.L69:
 888              	.LBE20:
 261:Drivers/LTC681x/LTC681x.c ****   }
 262:Drivers/LTC681x/LTC681x.c **** }
 889              		.loc 1 262 0 is_stmt 1
 890 007c 70BC     		pop	{r4, r5, r6}
 891              	.LCFI15:
 892              		.cfi_restore 6
 893              		.cfi_restore 5
 894              		.cfi_restore 4
 895              		.cfi_def_cfa_offset 0
 896 007e 7047     		bx	lr
 897              		.cfi_endproc
 898              	.LFE11:
 900              		.section	.text.LTC681x_set_cfgr_dcto,"ax",%progbits
 901              		.align	1
 902              		.global	LTC681x_set_cfgr_dcto
 903              		.syntax unified
 904              		.thumb
 905              		.thumb_func
 906              		.fpu softvfp
 908              	LTC681x_set_cfgr_dcto:
 909              	.LFB12:
 263:Drivers/LTC681x/LTC681x.c **** 
 264:Drivers/LTC681x/LTC681x.c **** //Helper function to control discharge time value
 265:Drivers/LTC681x/LTC681x.c **** void LTC681x_set_cfgr_dcto(uint8_t nIC, cell_asic *ic,bool dcto[4])
 266:Drivers/LTC681x/LTC681x.c **** {  
 910              		.loc 1 266 0
 911              		.cfi_startproc
 912              		@ args = 0, pretend = 0, frame = 0
 913              		@ frame_needed = 0, uses_anonymous_args = 0
 914              		@ link register save eliminated.
 915              	.LVL103:
 916              	.LBB21:
 267:Drivers/LTC681x/LTC681x.c ****   for(int i =0;i<4;i++)
 917              		.loc 1 267 0
 918 0000 0023     		movs	r3, #0
 919              	.LVL104:
 920 0002 032B     		cmp	r3, #3
 921 0004 21DC     		bgt	.L78
 922              	.LBE21:
 266:Drivers/LTC681x/LTC681x.c ****   for(int i =0;i<4;i++)
 923              		.loc 1 266 0
 924 0006 F0B4     		push	{r4, r5, r6, r7}
ARM GAS  /tmp/ccMCacDa.s 			page 23


 925              	.LCFI16:
 926              		.cfi_def_cfa_offset 16
 927              		.cfi_offset 4, -16
 928              		.cfi_offset 5, -12
 929              		.cfi_offset 6, -8
 930              		.cfi_offset 7, -4
 931 0008 0EE0     		b	.L74
 932              	.L72:
 933              	.LBB22:
 268:Drivers/LTC681x/LTC681x.c ****   {
 269:Drivers/LTC681x/LTC681x.c ****       if(dcto[i])ic[nIC].config.tx_data[5] = ic[nIC].config.tx_data[5]|(0x01<<(i+4));
 270:Drivers/LTC681x/LTC681x.c ****       else ic[nIC].config.tx_data[5] = ic[nIC].config.tx_data[5]&(~(0x01<<(i+4)));
 934              		.loc 1 270 0
 935 000a C0EBC005 		rsb	r5, r0, r0, lsl #3
 936 000e 6C01     		lsls	r4, r5, #5
 937 0010 0C44     		add	r4, r4, r1
 938 0012 94F90550 		ldrsb	r5, [r4, #5]
 939 0016 1F1D     		adds	r7, r3, #4
 940 0018 0126     		movs	r6, #1
 941 001a BE40     		lsls	r6, r6, r7
 942 001c 25EA0605 		bic	r5, r5, r6
 943 0020 6571     		strb	r5, [r4, #5]
 944              	.L73:
 267:Drivers/LTC681x/LTC681x.c ****   {
 945              		.loc 1 267 0 discriminator 2
 946 0022 0133     		adds	r3, r3, #1
 947              	.LVL105:
 948 0024 032B     		cmp	r3, #3
 949 0026 0EDC     		bgt	.L79
 950              	.L74:
 269:Drivers/LTC681x/LTC681x.c ****       else ic[nIC].config.tx_data[5] = ic[nIC].config.tx_data[5]&(~(0x01<<(i+4)));
 951              		.loc 1 269 0
 952 0028 D45C     		ldrb	r4, [r2, r3]	@ zero_extendqisi2
 953 002a 002C     		cmp	r4, #0
 954 002c EDD0     		beq	.L72
 269:Drivers/LTC681x/LTC681x.c ****       else ic[nIC].config.tx_data[5] = ic[nIC].config.tx_data[5]&(~(0x01<<(i+4)));
 955              		.loc 1 269 0 is_stmt 0 discriminator 1
 956 002e C0EBC005 		rsb	r5, r0, r0, lsl #3
 957 0032 6C01     		lsls	r4, r5, #5
 958 0034 0C44     		add	r4, r4, r1
 959 0036 94F90550 		ldrsb	r5, [r4, #5]
 960 003a 1F1D     		adds	r7, r3, #4
 961 003c 0126     		movs	r6, #1
 962 003e BE40     		lsls	r6, r6, r7
 963 0040 3543     		orrs	r5, r5, r6
 964 0042 6571     		strb	r5, [r4, #5]
 965 0044 EDE7     		b	.L73
 966              	.L79:
 967              	.LBE22:
 271:Drivers/LTC681x/LTC681x.c ****   } 
 272:Drivers/LTC681x/LTC681x.c **** }
 968              		.loc 1 272 0 is_stmt 1
 969 0046 F0BC     		pop	{r4, r5, r6, r7}
 970              	.LCFI17:
 971              		.cfi_restore 7
 972              		.cfi_restore 6
 973              		.cfi_restore 5
ARM GAS  /tmp/ccMCacDa.s 			page 24


 974              		.cfi_restore 4
 975              		.cfi_def_cfa_offset 0
 976 0048 7047     		bx	lr
 977              	.L78:
 978 004a 7047     		bx	lr
 979              		.cfi_endproc
 980              	.LFE12:
 982              		.section	.text.LTC681x_set_cfgr_uv,"ax",%progbits
 983              		.align	1
 984              		.global	LTC681x_set_cfgr_uv
 985              		.syntax unified
 986              		.thumb
 987              		.thumb_func
 988              		.fpu softvfp
 990              	LTC681x_set_cfgr_uv:
 991              	.LFB13:
 273:Drivers/LTC681x/LTC681x.c **** //Helper Function to set uv value in CFG register
 274:Drivers/LTC681x/LTC681x.c **** void LTC681x_set_cfgr_uv(uint8_t nIC, cell_asic *ic,uint16_t uv)
 275:Drivers/LTC681x/LTC681x.c **** {
 992              		.loc 1 275 0
 993              		.cfi_startproc
 994              		@ args = 0, pretend = 0, frame = 0
 995              		@ frame_needed = 0, uses_anonymous_args = 0
 996              		@ link register save eliminated.
 997              	.LVL106:
 276:Drivers/LTC681x/LTC681x.c ****   uint16_t tmp = (uv/16)-1;
 998              		.loc 1 276 0
 999 0000 1209     		lsrs	r2, r2, #4
 1000              	.LVL107:
 1001 0002 013A     		subs	r2, r2, #1
 1002 0004 92B2     		uxth	r2, r2
 1003              	.LVL108:
 277:Drivers/LTC681x/LTC681x.c ****   ic[nIC].config.tx_data[1] = 0x00FF & tmp;
 1004              		.loc 1 277 0
 1005 0006 C0EBC000 		rsb	r0, r0, r0, lsl #3
 1006              	.LVL109:
 1007 000a 4301     		lsls	r3, r0, #5
 1008 000c 1944     		add	r1, r1, r3
 1009              	.LVL110:
 1010 000e 4A70     		strb	r2, [r1, #1]
 278:Drivers/LTC681x/LTC681x.c ****   ic[nIC].config.tx_data[2] = ic[nIC].config.tx_data[2]&0xF0;
 1011              		.loc 1 278 0
 1012 0010 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 1013 0012 03F0F003 		and	r3, r3, #240
 279:Drivers/LTC681x/LTC681x.c ****   ic[nIC].config.tx_data[2] = ic[nIC].config.tx_data[2]|((0x0F00 & tmp)>>8);
 1014              		.loc 1 279 0
 1015 0016 5BB2     		sxtb	r3, r3
 1016 0018 C2F30322 		ubfx	r2, r2, #8, #4
 1017              	.LVL111:
 1018 001c 1A43     		orrs	r2, r2, r3
 1019 001e 8A70     		strb	r2, [r1, #2]
 280:Drivers/LTC681x/LTC681x.c **** }
 1020              		.loc 1 280 0
 1021 0020 7047     		bx	lr
 1022              		.cfi_endproc
 1023              	.LFE13:
 1025              		.section	.text.LTC681x_set_cfgr_ov,"ax",%progbits
ARM GAS  /tmp/ccMCacDa.s 			page 25


 1026              		.align	1
 1027              		.global	LTC681x_set_cfgr_ov
 1028              		.syntax unified
 1029              		.thumb
 1030              		.thumb_func
 1031              		.fpu softvfp
 1033              	LTC681x_set_cfgr_ov:
 1034              	.LFB14:
 281:Drivers/LTC681x/LTC681x.c **** 
 282:Drivers/LTC681x/LTC681x.c **** //helper function to set OV value in CFG register
 283:Drivers/LTC681x/LTC681x.c **** void LTC681x_set_cfgr_ov(uint8_t nIC, cell_asic *ic,uint16_t ov)
 284:Drivers/LTC681x/LTC681x.c **** {
 1035              		.loc 1 284 0
 1036              		.cfi_startproc
 1037              		@ args = 0, pretend = 0, frame = 0
 1038              		@ frame_needed = 0, uses_anonymous_args = 0
 1039              		@ link register save eliminated.
 1040              	.LVL112:
 1041 0000 10B4     		push	{r4}
 1042              	.LCFI18:
 1043              		.cfi_def_cfa_offset 4
 1044              		.cfi_offset 4, -4
 285:Drivers/LTC681x/LTC681x.c ****   uint16_t tmp = (ov/16);
 1045              		.loc 1 285 0
 1046 0002 1409     		lsrs	r4, r2, #4
 1047              	.LVL113:
 286:Drivers/LTC681x/LTC681x.c ****   ic[nIC].config.tx_data[3] = 0x00FF & (tmp>>4);
 1048              		.loc 1 286 0
 1049 0004 C0EBC000 		rsb	r0, r0, r0, lsl #3
 1050              	.LVL114:
 1051 0008 4301     		lsls	r3, r0, #5
 1052 000a 1944     		add	r1, r1, r3
 1053              	.LVL115:
 1054 000c 2309     		lsrs	r3, r4, #4
 1055 000e CB70     		strb	r3, [r1, #3]
 287:Drivers/LTC681x/LTC681x.c ****   ic[nIC].config.tx_data[2] = ic[nIC].config.tx_data[2]&0x0F;
 1056              		.loc 1 287 0
 1057 0010 8A78     		ldrb	r2, [r1, #2]	@ zero_extendqisi2
 1058              	.LVL116:
 288:Drivers/LTC681x/LTC681x.c ****   ic[nIC].config.tx_data[2] = ic[nIC].config.tx_data[2]|((0x000F & tmp)<<4);
 1059              		.loc 1 288 0
 1060 0012 02F00F02 		and	r2, r2, #15
 1061 0016 42EA0412 		orr	r2, r2, r4, lsl #4
 1062 001a 8A70     		strb	r2, [r1, #2]
 289:Drivers/LTC681x/LTC681x.c **** }
 1063              		.loc 1 289 0
 1064 001c 10BC     		pop	{r4}
 1065              	.LCFI19:
 1066              		.cfi_restore 4
 1067              		.cfi_def_cfa_offset 0
 1068              	.LVL117:
 1069 001e 7047     		bx	lr
 1070              		.cfi_endproc
 1071              	.LFE14:
 1073              		.section	.text.LTC681x_set_cfgr,"ax",%progbits
 1074              		.align	1
 1075              		.global	LTC681x_set_cfgr
ARM GAS  /tmp/ccMCacDa.s 			page 26


 1076              		.syntax unified
 1077              		.thumb
 1078              		.thumb_func
 1079              		.fpu softvfp
 1081              	LTC681x_set_cfgr:
 1082              	.LFB7:
 214:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_refon(nIC,ic,refon);
 1083              		.loc 1 214 0
 1084              		.cfi_startproc
 1085              		@ args = 20, pretend = 0, frame = 0
 1086              		@ frame_needed = 0, uses_anonymous_args = 0
 1087              	.LVL118:
 1088 0000 70B5     		push	{r4, r5, r6, lr}
 1089              	.LCFI20:
 1090              		.cfi_def_cfa_offset 16
 1091              		.cfi_offset 4, -16
 1092              		.cfi_offset 5, -12
 1093              		.cfi_offset 6, -8
 1094              		.cfi_offset 14, -4
 1095 0002 0446     		mov	r4, r0
 1096 0004 0D46     		mov	r5, r1
 1097 0006 1E46     		mov	r6, r3
 215:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_adcopt(nIC,ic,adcopt);
 1098              		.loc 1 215 0
 1099 0008 FFF7FEFF 		bl	LTC681x_set_cfgr_refon
 1100              	.LVL119:
 216:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_gpio(nIC,ic,gpio);
 1101              		.loc 1 216 0
 1102 000c 3246     		mov	r2, r6
 1103 000e 2946     		mov	r1, r5
 1104 0010 2046     		mov	r0, r4
 1105 0012 FFF7FEFF 		bl	LTC681x_set_cfgr_adcopt
 1106              	.LVL120:
 217:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_dis(nIC,ic,dcc);
 1107              		.loc 1 217 0
 1108 0016 049A     		ldr	r2, [sp, #16]
 1109 0018 2946     		mov	r1, r5
 1110 001a 2046     		mov	r0, r4
 1111 001c FFF7FEFF 		bl	LTC681x_set_cfgr_gpio
 1112              	.LVL121:
 218:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_dcto(nIC,ic,dcto);
 1113              		.loc 1 218 0
 1114 0020 059A     		ldr	r2, [sp, #20]
 1115 0022 2946     		mov	r1, r5
 1116 0024 2046     		mov	r0, r4
 1117 0026 FFF7FEFF 		bl	LTC681x_set_cfgr_dis
 1118              	.LVL122:
 219:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_uv(nIC, ic, uv);
 1119              		.loc 1 219 0
 1120 002a 069A     		ldr	r2, [sp, #24]
 1121 002c 2946     		mov	r1, r5
 1122 002e 2046     		mov	r0, r4
 1123 0030 FFF7FEFF 		bl	LTC681x_set_cfgr_dcto
 1124              	.LVL123:
 220:Drivers/LTC681x/LTC681x.c ****   LTC681x_set_cfgr_ov(nIC, ic, ov);
 1125              		.loc 1 220 0
 1126 0034 BDF81C20 		ldrh	r2, [sp, #28]
ARM GAS  /tmp/ccMCacDa.s 			page 27


 1127 0038 2946     		mov	r1, r5
 1128 003a 2046     		mov	r0, r4
 1129 003c FFF7FEFF 		bl	LTC681x_set_cfgr_uv
 1130              	.LVL124:
 221:Drivers/LTC681x/LTC681x.c **** }
 1131              		.loc 1 221 0
 1132 0040 BDF82020 		ldrh	r2, [sp, #32]
 1133 0044 2946     		mov	r1, r5
 1134 0046 2046     		mov	r0, r4
 1135 0048 FFF7FEFF 		bl	LTC681x_set_cfgr_ov
 1136              	.LVL125:
 222:Drivers/LTC681x/LTC681x.c **** 
 1137              		.loc 1 222 0
 1138 004c 70BD     		pop	{r4, r5, r6, pc}
 1139              		.cfi_endproc
 1140              	.LFE7:
 1142              		.section	.text.LTC681x_adcv,"ax",%progbits
 1143              		.align	1
 1144              		.global	LTC681x_adcv
 1145              		.syntax unified
 1146              		.thumb
 1147              		.thumb_func
 1148              		.fpu softvfp
 1150              	LTC681x_adcv:
 1151              	.LFB15:
 290:Drivers/LTC681x/LTC681x.c **** 
 291:Drivers/LTC681x/LTC681x.c **** //Starts cell voltage conversion
 292:Drivers/LTC681x/LTC681x.c **** void LTC681x_adcv( uint8_t MD, //ADC Mode
 293:Drivers/LTC681x/LTC681x.c **** 				   uint8_t DCP, //Discharge Permit
 294:Drivers/LTC681x/LTC681x.c **** 				   uint8_t CH //Cell Channels to be measured
 295:Drivers/LTC681x/LTC681x.c ****                  )
 296:Drivers/LTC681x/LTC681x.c **** {
 1152              		.loc 1 296 0
 1153              		.cfi_startproc
 1154              		@ args = 0, pretend = 0, frame = 8
 1155              		@ frame_needed = 0, uses_anonymous_args = 0
 1156              	.LVL126:
 1157 0000 00B5     		push	{lr}
 1158              	.LCFI21:
 1159              		.cfi_def_cfa_offset 4
 1160              		.cfi_offset 14, -4
 1161 0002 83B0     		sub	sp, sp, #12
 1162              	.LCFI22:
 1163              		.cfi_def_cfa_offset 16
 297:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd[2];
 298:Drivers/LTC681x/LTC681x.c **** 	uint8_t md_bits;
 299:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x02) >> 1;
 1164              		.loc 1 299 0
 1165 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1166              	.LVL127:
 300:Drivers/LTC681x/LTC681x.c **** 	cmd[0] = md_bits + 0x02;
 1167              		.loc 1 300 0
 1168 0008 0233     		adds	r3, r3, #2
 1169              	.LVL128:
 1170 000a 8DF80430 		strb	r3, [sp, #4]
 301:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x01) << 7;
 1171              		.loc 1 301 0
ARM GAS  /tmp/ccMCacDa.s 			page 28


 1172 000e C001     		lsls	r0, r0, #7
 1173              	.LVL129:
 1174 0010 C0B2     		uxtb	r0, r0
 1175              	.LVL130:
 302:Drivers/LTC681x/LTC681x.c **** 	cmd[1] =  md_bits + 0x60 + (DCP<<4) + CH;
 1176              		.loc 1 302 0
 1177 0012 0901     		lsls	r1, r1, #4
 1178              	.LVL131:
 1179 0014 C9B2     		uxtb	r1, r1
 1180 0016 0144     		add	r1, r1, r0
 1181 0018 C9B2     		uxtb	r1, r1
 1182 001a 0A44     		add	r2, r2, r1
 1183              	.LVL132:
 1184 001c 6032     		adds	r2, r2, #96
 1185 001e 8DF80520 		strb	r2, [sp, #5]
 303:Drivers/LTC681x/LTC681x.c **** 	cmd_68(cmd);
 1186              		.loc 1 303 0
 1187 0022 01A8     		add	r0, sp, #4
 1188              	.LVL133:
 1189 0024 FFF7FEFF 		bl	cmd_68
 1190              	.LVL134:
 304:Drivers/LTC681x/LTC681x.c **** }
 1191              		.loc 1 304 0
 1192 0028 03B0     		add	sp, sp, #12
 1193              	.LCFI23:
 1194              		.cfi_def_cfa_offset 4
 1195              		@ sp needed
 1196 002a 5DF804FB 		ldr	pc, [sp], #4
 1197              		.cfi_endproc
 1198              	.LFE15:
 1200              		.section	.text.LTC681x_adax,"ax",%progbits
 1201              		.align	1
 1202              		.global	LTC681x_adax
 1203              		.syntax unified
 1204              		.thumb
 1205              		.thumb_func
 1206              		.fpu softvfp
 1208              	LTC681x_adax:
 1209              	.LFB16:
 305:Drivers/LTC681x/LTC681x.c **** 
 306:Drivers/LTC681x/LTC681x.c **** //Start a GPIO and Vref2 Conversion
 307:Drivers/LTC681x/LTC681x.c **** void LTC681x_adax(uint8_t MD, //ADC Mode
 308:Drivers/LTC681x/LTC681x.c **** 				  uint8_t CHG //GPIO Channels to be measured)
 309:Drivers/LTC681x/LTC681x.c **** 				  )
 310:Drivers/LTC681x/LTC681x.c **** {
 1210              		.loc 1 310 0
 1211              		.cfi_startproc
 1212              		@ args = 0, pretend = 0, frame = 8
 1213              		@ frame_needed = 0, uses_anonymous_args = 0
 1214              	.LVL135:
 1215 0000 00B5     		push	{lr}
 1216              	.LCFI24:
 1217              		.cfi_def_cfa_offset 4
 1218              		.cfi_offset 14, -4
 1219 0002 83B0     		sub	sp, sp, #12
 1220              	.LCFI25:
 1221              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccMCacDa.s 			page 29


 311:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[4];
 312:Drivers/LTC681x/LTC681x.c ****   uint8_t md_bits;
 313:Drivers/LTC681x/LTC681x.c **** 
 314:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x02) >> 1;
 1222              		.loc 1 314 0
 1223 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1224              	.LVL136:
 315:Drivers/LTC681x/LTC681x.c ****   cmd[0] = md_bits + 0x04;
 1225              		.loc 1 315 0
 1226 0008 0433     		adds	r3, r3, #4
 1227              	.LVL137:
 1228 000a 8DF80430 		strb	r3, [sp, #4]
 316:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x01) << 7;
 1229              		.loc 1 316 0
 1230 000e C001     		lsls	r0, r0, #7
 1231              	.LVL138:
 1232 0010 C0B2     		uxtb	r0, r0
 1233              	.LVL139:
 317:Drivers/LTC681x/LTC681x.c ****   cmd[1] = md_bits + 0x60 + CHG ;
 1234              		.loc 1 317 0
 1235 0012 0844     		add	r0, r0, r1
 1236              	.LVL140:
 1237 0014 6030     		adds	r0, r0, #96
 1238 0016 8DF80500 		strb	r0, [sp, #5]
 318:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 1239              		.loc 1 318 0
 1240 001a 01A8     		add	r0, sp, #4
 1241 001c FFF7FEFF 		bl	cmd_68
 1242              	.LVL141:
 319:Drivers/LTC681x/LTC681x.c **** 
 320:Drivers/LTC681x/LTC681x.c **** }
 1243              		.loc 1 320 0
 1244 0020 03B0     		add	sp, sp, #12
 1245              	.LCFI26:
 1246              		.cfi_def_cfa_offset 4
 1247              		@ sp needed
 1248 0022 5DF804FB 		ldr	pc, [sp], #4
 1249              		.cfi_endproc
 1250              	.LFE16:
 1252              		.section	.text.LTC681x_adaxd,"ax",%progbits
 1253              		.align	1
 1254              		.global	LTC681x_adaxd
 1255              		.syntax unified
 1256              		.thumb
 1257              		.thumb_func
 1258              		.fpu softvfp
 1260              	LTC681x_adaxd:
 1261              	.LFB17:
 321:Drivers/LTC681x/LTC681x.c **** 
 322:Drivers/LTC681x/LTC681x.c **** //Start an GPIO Redundancy test
 323:Drivers/LTC681x/LTC681x.c **** void LTC681x_adaxd(uint8_t MD, //ADC Mode
 324:Drivers/LTC681x/LTC681x.c **** 				   uint8_t CHG //GPIO Channels to be measured)
 325:Drivers/LTC681x/LTC681x.c **** 				   )
 326:Drivers/LTC681x/LTC681x.c **** {
 1262              		.loc 1 326 0
 1263              		.cfi_startproc
 1264              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccMCacDa.s 			page 30


 1265              		@ frame_needed = 0, uses_anonymous_args = 0
 1266              	.LVL142:
 1267 0000 00B5     		push	{lr}
 1268              	.LCFI27:
 1269              		.cfi_def_cfa_offset 4
 1270              		.cfi_offset 14, -4
 1271 0002 83B0     		sub	sp, sp, #12
 1272              	.LCFI28:
 1273              		.cfi_def_cfa_offset 16
 327:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[4];
 328:Drivers/LTC681x/LTC681x.c ****   uint8_t md_bits;
 329:Drivers/LTC681x/LTC681x.c **** 
 330:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x02) >> 1;
 1274              		.loc 1 330 0
 1275 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1276              	.LVL143:
 331:Drivers/LTC681x/LTC681x.c ****   cmd[0] = md_bits + 0x04;
 1277              		.loc 1 331 0
 1278 0008 0433     		adds	r3, r3, #4
 1279              	.LVL144:
 1280 000a 8DF80430 		strb	r3, [sp, #4]
 332:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x01) << 7;
 1281              		.loc 1 332 0
 1282 000e C001     		lsls	r0, r0, #7
 1283              	.LVL145:
 1284 0010 C0B2     		uxtb	r0, r0
 1285              	.LVL146:
 333:Drivers/LTC681x/LTC681x.c ****   cmd[1] = md_bits + CHG ;
 1286              		.loc 1 333 0
 1287 0012 0844     		add	r0, r0, r1
 1288              	.LVL147:
 1289 0014 8DF80500 		strb	r0, [sp, #5]
 334:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 1290              		.loc 1 334 0
 1291 0018 01A8     		add	r0, sp, #4
 1292 001a FFF7FEFF 		bl	cmd_68
 1293              	.LVL148:
 335:Drivers/LTC681x/LTC681x.c **** }
 1294              		.loc 1 335 0
 1295 001e 03B0     		add	sp, sp, #12
 1296              	.LCFI29:
 1297              		.cfi_def_cfa_offset 4
 1298              		@ sp needed
 1299 0020 5DF804FB 		ldr	pc, [sp], #4
 1300              		.cfi_endproc
 1301              	.LFE17:
 1303              		.section	.text.LTC681x_adstat,"ax",%progbits
 1304              		.align	1
 1305              		.global	LTC681x_adstat
 1306              		.syntax unified
 1307              		.thumb
 1308              		.thumb_func
 1309              		.fpu softvfp
 1311              	LTC681x_adstat:
 1312              	.LFB18:
 336:Drivers/LTC681x/LTC681x.c **** 
 337:Drivers/LTC681x/LTC681x.c **** //Start a Status ADC Conversion
ARM GAS  /tmp/ccMCacDa.s 			page 31


 338:Drivers/LTC681x/LTC681x.c **** void LTC681x_adstat(uint8_t MD, //ADC Mode
 339:Drivers/LTC681x/LTC681x.c **** 				    uint8_t CHST //GPIO Channels to be measured
 340:Drivers/LTC681x/LTC681x.c **** 				    )
 341:Drivers/LTC681x/LTC681x.c **** {
 1313              		.loc 1 341 0
 1314              		.cfi_startproc
 1315              		@ args = 0, pretend = 0, frame = 8
 1316              		@ frame_needed = 0, uses_anonymous_args = 0
 1317              	.LVL149:
 1318 0000 00B5     		push	{lr}
 1319              	.LCFI30:
 1320              		.cfi_def_cfa_offset 4
 1321              		.cfi_offset 14, -4
 1322 0002 83B0     		sub	sp, sp, #12
 1323              	.LCFI31:
 1324              		.cfi_def_cfa_offset 16
 342:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[4];
 343:Drivers/LTC681x/LTC681x.c ****   uint8_t md_bits;
 344:Drivers/LTC681x/LTC681x.c **** 
 345:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x02) >> 1;
 1325              		.loc 1 345 0
 1326 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1327              	.LVL150:
 346:Drivers/LTC681x/LTC681x.c ****   cmd[0] = md_bits + 0x04;
 1328              		.loc 1 346 0
 1329 0008 0433     		adds	r3, r3, #4
 1330              	.LVL151:
 1331 000a 8DF80430 		strb	r3, [sp, #4]
 347:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x01) << 7;
 1332              		.loc 1 347 0
 1333 000e C001     		lsls	r0, r0, #7
 1334              	.LVL152:
 1335 0010 C0B2     		uxtb	r0, r0
 1336              	.LVL153:
 348:Drivers/LTC681x/LTC681x.c ****   cmd[1] = md_bits + 0x68 + CHST ;
 1337              		.loc 1 348 0
 1338 0012 0844     		add	r0, r0, r1
 1339              	.LVL154:
 1340 0014 6830     		adds	r0, r0, #104
 1341 0016 8DF80500 		strb	r0, [sp, #5]
 349:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 1342              		.loc 1 349 0
 1343 001a 01A8     		add	r0, sp, #4
 1344 001c FFF7FEFF 		bl	cmd_68
 1345              	.LVL155:
 350:Drivers/LTC681x/LTC681x.c **** }
 1346              		.loc 1 350 0
 1347 0020 03B0     		add	sp, sp, #12
 1348              	.LCFI32:
 1349              		.cfi_def_cfa_offset 4
 1350              		@ sp needed
 1351 0022 5DF804FB 		ldr	pc, [sp], #4
 1352              		.cfi_endproc
 1353              	.LFE18:
 1355              		.section	.text.LTC681x_adstatd,"ax",%progbits
 1356              		.align	1
 1357              		.global	LTC681x_adstatd
ARM GAS  /tmp/ccMCacDa.s 			page 32


 1358              		.syntax unified
 1359              		.thumb
 1360              		.thumb_func
 1361              		.fpu softvfp
 1363              	LTC681x_adstatd:
 1364              	.LFB19:
 351:Drivers/LTC681x/LTC681x.c **** 
 352:Drivers/LTC681x/LTC681x.c **** // Start a Status register redundancy test Conversion
 353:Drivers/LTC681x/LTC681x.c **** void LTC681x_adstatd(uint8_t MD, //ADC Mode
 354:Drivers/LTC681x/LTC681x.c **** 					 uint8_t CHST //GPIO Channels to be measured
 355:Drivers/LTC681x/LTC681x.c **** 					 )
 356:Drivers/LTC681x/LTC681x.c **** {
 1365              		.loc 1 356 0
 1366              		.cfi_startproc
 1367              		@ args = 0, pretend = 0, frame = 8
 1368              		@ frame_needed = 0, uses_anonymous_args = 0
 1369              	.LVL156:
 1370 0000 00B5     		push	{lr}
 1371              	.LCFI33:
 1372              		.cfi_def_cfa_offset 4
 1373              		.cfi_offset 14, -4
 1374 0002 83B0     		sub	sp, sp, #12
 1375              	.LCFI34:
 1376              		.cfi_def_cfa_offset 16
 357:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2];
 358:Drivers/LTC681x/LTC681x.c ****   uint8_t md_bits;
 359:Drivers/LTC681x/LTC681x.c **** 
 360:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x02) >> 1;
 1377              		.loc 1 360 0
 1378 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1379              	.LVL157:
 361:Drivers/LTC681x/LTC681x.c ****   cmd[0] = md_bits + 0x04;
 1380              		.loc 1 361 0
 1381 0008 0433     		adds	r3, r3, #4
 1382              	.LVL158:
 1383 000a 8DF80430 		strb	r3, [sp, #4]
 362:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x01) << 7;
 1384              		.loc 1 362 0
 1385 000e C001     		lsls	r0, r0, #7
 1386              	.LVL159:
 1387 0010 C0B2     		uxtb	r0, r0
 1388              	.LVL160:
 363:Drivers/LTC681x/LTC681x.c ****   cmd[1] = md_bits + 0x08 + CHST ;
 1389              		.loc 1 363 0
 1390 0012 0844     		add	r0, r0, r1
 1391              	.LVL161:
 1392 0014 0830     		adds	r0, r0, #8
 1393 0016 8DF80500 		strb	r0, [sp, #5]
 364:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 1394              		.loc 1 364 0
 1395 001a 01A8     		add	r0, sp, #4
 1396 001c FFF7FEFF 		bl	cmd_68
 1397              	.LVL162:
 365:Drivers/LTC681x/LTC681x.c **** 
 366:Drivers/LTC681x/LTC681x.c **** }
 1398              		.loc 1 366 0
 1399 0020 03B0     		add	sp, sp, #12
ARM GAS  /tmp/ccMCacDa.s 			page 33


 1400              	.LCFI35:
 1401              		.cfi_def_cfa_offset 4
 1402              		@ sp needed
 1403 0022 5DF804FB 		ldr	pc, [sp], #4
 1404              		.cfi_endproc
 1405              	.LFE19:
 1407              		.section	.text.LTC681x_adow,"ax",%progbits
 1408              		.align	1
 1409              		.global	LTC681x_adow
 1410              		.syntax unified
 1411              		.thumb
 1412              		.thumb_func
 1413              		.fpu softvfp
 1415              	LTC681x_adow:
 1416              	.LFB20:
 367:Drivers/LTC681x/LTC681x.c **** 
 368:Drivers/LTC681x/LTC681x.c **** // Start an open wire Conversion
 369:Drivers/LTC681x/LTC681x.c **** void LTC681x_adow(uint8_t MD, //ADC Mode
 370:Drivers/LTC681x/LTC681x.c **** 				  uint8_t PUP,//PULL UP OR DOWN current
 371:Drivers/LTC681x/LTC681x.c **** 				  uint8_t CH, //Channels
 372:Drivers/LTC681x/LTC681x.c **** 				  uint8_t DCP//Discharge Permit
 373:Drivers/LTC681x/LTC681x.c **** 				 )
 374:Drivers/LTC681x/LTC681x.c **** {
 1417              		.loc 1 374 0
 1418              		.cfi_startproc
 1419              		@ args = 0, pretend = 0, frame = 8
 1420              		@ frame_needed = 0, uses_anonymous_args = 0
 1421              	.LVL163:
 1422 0000 10B5     		push	{r4, lr}
 1423              	.LCFI36:
 1424              		.cfi_def_cfa_offset 8
 1425              		.cfi_offset 4, -8
 1426              		.cfi_offset 14, -4
 1427 0002 82B0     		sub	sp, sp, #8
 1428              	.LCFI37:
 1429              		.cfi_def_cfa_offset 16
 375:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2];
 376:Drivers/LTC681x/LTC681x.c ****   uint8_t md_bits;
 377:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x02) >> 1;
 1430              		.loc 1 377 0
 1431 0004 C0F34004 		ubfx	r4, r0, #1, #1
 1432              	.LVL164:
 378:Drivers/LTC681x/LTC681x.c ****   cmd[0] = md_bits + 0x02;
 1433              		.loc 1 378 0
 1434 0008 0234     		adds	r4, r4, #2
 1435              	.LVL165:
 1436 000a 8DF80440 		strb	r4, [sp, #4]
 379:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x01) << 7;
 1437              		.loc 1 379 0
 1438 000e C001     		lsls	r0, r0, #7
 1439              	.LVL166:
 1440 0010 C0B2     		uxtb	r0, r0
 1441              	.LVL167:
 380:Drivers/LTC681x/LTC681x.c ****   cmd[1] =  md_bits + 0x28 + (PUP<<6) + CH+(DCP<<4);
 1442              		.loc 1 380 0
 1443 0012 8901     		lsls	r1, r1, #6
 1444              	.LVL168:
ARM GAS  /tmp/ccMCacDa.s 			page 34


 1445 0014 C9B2     		uxtb	r1, r1
 1446 0016 0144     		add	r1, r1, r0
 1447 0018 C9B2     		uxtb	r1, r1
 1448 001a 0A44     		add	r2, r2, r1
 1449              	.LVL169:
 1450 001c D2B2     		uxtb	r2, r2
 1451 001e 1B01     		lsls	r3, r3, #4
 1452              	.LVL170:
 1453 0020 DBB2     		uxtb	r3, r3
 1454 0022 1A44     		add	r2, r2, r3
 1455 0024 2832     		adds	r2, r2, #40
 1456 0026 8DF80520 		strb	r2, [sp, #5]
 381:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 1457              		.loc 1 381 0
 1458 002a 01A8     		add	r0, sp, #4
 1459              	.LVL171:
 1460 002c FFF7FEFF 		bl	cmd_68
 1461              	.LVL172:
 382:Drivers/LTC681x/LTC681x.c **** }
 1462              		.loc 1 382 0
 1463 0030 02B0     		add	sp, sp, #8
 1464              	.LCFI38:
 1465              		.cfi_def_cfa_offset 8
 1466              		@ sp needed
 1467 0032 10BD     		pop	{r4, pc}
 1468              		.cfi_endproc
 1469              	.LFE20:
 1471              		.section	.text.LTC681x_adcvsc,"ax",%progbits
 1472              		.align	1
 1473              		.global	LTC681x_adcvsc
 1474              		.syntax unified
 1475              		.thumb
 1476              		.thumb_func
 1477              		.fpu softvfp
 1479              	LTC681x_adcvsc:
 1480              	.LFB21:
 383:Drivers/LTC681x/LTC681x.c **** 
 384:Drivers/LTC681x/LTC681x.c **** //Starts cell voltage and SOC conversion
 385:Drivers/LTC681x/LTC681x.c **** void LTC681x_adcvsc(uint8_t MD, //ADC Mode
 386:Drivers/LTC681x/LTC681x.c **** 					uint8_t DCP //Discharge Permit
 387:Drivers/LTC681x/LTC681x.c **** 					)
 388:Drivers/LTC681x/LTC681x.c **** {
 1481              		.loc 1 388 0
 1482              		.cfi_startproc
 1483              		@ args = 0, pretend = 0, frame = 8
 1484              		@ frame_needed = 0, uses_anonymous_args = 0
 1485              	.LVL173:
 1486 0000 00B5     		push	{lr}
 1487              	.LCFI39:
 1488              		.cfi_def_cfa_offset 4
 1489              		.cfi_offset 14, -4
 1490 0002 83B0     		sub	sp, sp, #12
 1491              	.LCFI40:
 1492              		.cfi_def_cfa_offset 16
 389:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd[2];
 390:Drivers/LTC681x/LTC681x.c **** 	uint8_t md_bits;
 391:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x02) >> 1;
ARM GAS  /tmp/ccMCacDa.s 			page 35


 1493              		.loc 1 391 0
 1494 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1495              	.LVL174:
 392:Drivers/LTC681x/LTC681x.c **** 	cmd[0] = md_bits | 0x04;
 1496              		.loc 1 392 0
 1497 0008 43F00403 		orr	r3, r3, #4
 1498              	.LVL175:
 1499 000c 8DF80430 		strb	r3, [sp, #4]
 393:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x01) << 7;
 1500              		.loc 1 393 0
 1501 0010 C001     		lsls	r0, r0, #7
 1502              	.LVL176:
 1503 0012 C0B2     		uxtb	r0, r0
 1504              	.LVL177:
 394:Drivers/LTC681x/LTC681x.c **** 	cmd[1] =  md_bits | 0x60 | (DCP<<4) | 0x07;
 1505              		.loc 1 394 0
 1506 0014 40EA0110 		orr	r0, r0, r1, lsl #4
 1507              	.LVL178:
 1508 0018 C0B2     		uxtb	r0, r0
 1509 001a 40F06700 		orr	r0, r0, #103
 1510 001e 8DF80500 		strb	r0, [sp, #5]
 395:Drivers/LTC681x/LTC681x.c **** 	cmd_68(cmd);
 1511              		.loc 1 395 0
 1512 0022 01A8     		add	r0, sp, #4
 1513 0024 FFF7FEFF 		bl	cmd_68
 1514              	.LVL179:
 396:Drivers/LTC681x/LTC681x.c **** 
 397:Drivers/LTC681x/LTC681x.c **** }
 1515              		.loc 1 397 0
 1516 0028 03B0     		add	sp, sp, #12
 1517              	.LCFI41:
 1518              		.cfi_def_cfa_offset 4
 1519              		@ sp needed
 1520 002a 5DF804FB 		ldr	pc, [sp], #4
 1521              		.cfi_endproc
 1522              	.LFE21:
 1524              		.section	.text.LTC681x_adcvax,"ax",%progbits
 1525              		.align	1
 1526              		.global	LTC681x_adcvax
 1527              		.syntax unified
 1528              		.thumb
 1529              		.thumb_func
 1530              		.fpu softvfp
 1532              	LTC681x_adcvax:
 1533              	.LFB22:
 398:Drivers/LTC681x/LTC681x.c **** 
 399:Drivers/LTC681x/LTC681x.c **** // Starts cell voltage  and GPIO 1&2 conversion
 400:Drivers/LTC681x/LTC681x.c **** void LTC681x_adcvax(uint8_t MD, //ADC Mode
 401:Drivers/LTC681x/LTC681x.c **** 					uint8_t DCP //Discharge Permit
 402:Drivers/LTC681x/LTC681x.c **** 				   )
 403:Drivers/LTC681x/LTC681x.c **** {
 1534              		.loc 1 403 0
 1535              		.cfi_startproc
 1536              		@ args = 0, pretend = 0, frame = 8
 1537              		@ frame_needed = 0, uses_anonymous_args = 0
 1538              	.LVL180:
 1539 0000 00B5     		push	{lr}
ARM GAS  /tmp/ccMCacDa.s 			page 36


 1540              	.LCFI42:
 1541              		.cfi_def_cfa_offset 4
 1542              		.cfi_offset 14, -4
 1543 0002 83B0     		sub	sp, sp, #12
 1544              	.LCFI43:
 1545              		.cfi_def_cfa_offset 16
 404:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd[2];
 405:Drivers/LTC681x/LTC681x.c **** 	uint8_t md_bits;
 406:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x02) >> 1;
 1546              		.loc 1 406 0
 1547 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1548              	.LVL181:
 407:Drivers/LTC681x/LTC681x.c **** 	cmd[0] = md_bits | 0x04;
 1549              		.loc 1 407 0
 1550 0008 43F00403 		orr	r3, r3, #4
 1551              	.LVL182:
 1552 000c 8DF80430 		strb	r3, [sp, #4]
 1553              	.LVL183:
 408:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x01) << 7;
 409:Drivers/LTC681x/LTC681x.c **** 	cmd[1] =  md_bits | ((DCP&0x01)<<4) + 0x6F;
 1554              		.loc 1 409 0
 1555 0010 0901     		lsls	r1, r1, #4
 1556              	.LVL184:
 1557 0012 01F01001 		and	r1, r1, #16
 1558 0016 6F31     		adds	r1, r1, #111
 1559 0018 49B2     		sxtb	r1, r1
 1560 001a 41EAC010 		orr	r0, r1, r0, lsl #7
 1561              	.LVL185:
 1562 001e 8DF80500 		strb	r0, [sp, #5]
 410:Drivers/LTC681x/LTC681x.c **** 	cmd_68(cmd);
 1563              		.loc 1 410 0
 1564 0022 01A8     		add	r0, sp, #4
 1565 0024 FFF7FEFF 		bl	cmd_68
 1566              	.LVL186:
 411:Drivers/LTC681x/LTC681x.c **** }
 1567              		.loc 1 411 0
 1568 0028 03B0     		add	sp, sp, #12
 1569              	.LCFI44:
 1570              		.cfi_def_cfa_offset 4
 1571              		@ sp needed
 1572 002a 5DF804FB 		ldr	pc, [sp], #4
 1573              		.cfi_endproc
 1574              	.LFE22:
 1576              		.section	.text.LTC681x_adol,"ax",%progbits
 1577              		.align	1
 1578              		.global	LTC681x_adol
 1579              		.syntax unified
 1580              		.thumb
 1581              		.thumb_func
 1582              		.fpu softvfp
 1584              	LTC681x_adol:
 1585              	.LFB23:
 412:Drivers/LTC681x/LTC681x.c **** 
 413:Drivers/LTC681x/LTC681x.c **** //Starts cell voltage overlap conversion
 414:Drivers/LTC681x/LTC681x.c **** void LTC681x_adol(uint8_t MD, //ADC Mode
 415:Drivers/LTC681x/LTC681x.c ****                   uint8_t DCP //Discharge Permit
 416:Drivers/LTC681x/LTC681x.c **** 				 )
ARM GAS  /tmp/ccMCacDa.s 			page 37


 417:Drivers/LTC681x/LTC681x.c **** {
 1586              		.loc 1 417 0
 1587              		.cfi_startproc
 1588              		@ args = 0, pretend = 0, frame = 8
 1589              		@ frame_needed = 0, uses_anonymous_args = 0
 1590              	.LVL187:
 1591 0000 00B5     		push	{lr}
 1592              	.LCFI45:
 1593              		.cfi_def_cfa_offset 4
 1594              		.cfi_offset 14, -4
 1595 0002 83B0     		sub	sp, sp, #12
 1596              	.LCFI46:
 1597              		.cfi_def_cfa_offset 16
 418:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd[2];
 419:Drivers/LTC681x/LTC681x.c **** 	uint8_t md_bits;
 420:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x02) >> 1;
 1598              		.loc 1 420 0
 1599 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1600              	.LVL188:
 421:Drivers/LTC681x/LTC681x.c **** 	cmd[0] = md_bits + 0x02;
 1601              		.loc 1 421 0
 1602 0008 0233     		adds	r3, r3, #2
 1603              	.LVL189:
 1604 000a 8DF80430 		strb	r3, [sp, #4]
 422:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x01) << 7;
 1605              		.loc 1 422 0
 1606 000e C001     		lsls	r0, r0, #7
 1607              	.LVL190:
 1608 0010 C0B2     		uxtb	r0, r0
 1609              	.LVL191:
 423:Drivers/LTC681x/LTC681x.c **** 	cmd[1] =  md_bits + (DCP<<4) +0x01;
 1610              		.loc 1 423 0
 1611 0012 0B01     		lsls	r3, r1, #4
 1612 0014 DBB2     		uxtb	r3, r3
 1613 0016 0344     		add	r3, r3, r0
 1614 0018 DBB2     		uxtb	r3, r3
 1615 001a 0133     		adds	r3, r3, #1
 1616 001c 8DF80530 		strb	r3, [sp, #5]
 424:Drivers/LTC681x/LTC681x.c **** 	cmd_68(cmd);
 1617              		.loc 1 424 0
 1618 0020 01A8     		add	r0, sp, #4
 1619              	.LVL192:
 1620 0022 FFF7FEFF 		bl	cmd_68
 1621              	.LVL193:
 425:Drivers/LTC681x/LTC681x.c **** }
 1622              		.loc 1 425 0
 1623 0026 03B0     		add	sp, sp, #12
 1624              	.LCFI47:
 1625              		.cfi_def_cfa_offset 4
 1626              		@ sp needed
 1627 0028 5DF804FB 		ldr	pc, [sp], #4
 1628              		.cfi_endproc
 1629              	.LFE23:
 1631              		.section	.text.LTC681x_cvst,"ax",%progbits
 1632              		.align	1
 1633              		.global	LTC681x_cvst
 1634              		.syntax unified
ARM GAS  /tmp/ccMCacDa.s 			page 38


 1635              		.thumb
 1636              		.thumb_func
 1637              		.fpu softvfp
 1639              	LTC681x_cvst:
 1640              	.LFB24:
 426:Drivers/LTC681x/LTC681x.c **** 
 427:Drivers/LTC681x/LTC681x.c **** //Starts cell voltage self test conversion
 428:Drivers/LTC681x/LTC681x.c **** void LTC681x_cvst(uint8_t MD, //ADC Mode
 429:Drivers/LTC681x/LTC681x.c **** 				  uint8_t ST //Self Test
 430:Drivers/LTC681x/LTC681x.c ****                  )
 431:Drivers/LTC681x/LTC681x.c **** {
 1641              		.loc 1 431 0
 1642              		.cfi_startproc
 1643              		@ args = 0, pretend = 0, frame = 8
 1644              		@ frame_needed = 0, uses_anonymous_args = 0
 1645              	.LVL194:
 1646 0000 00B5     		push	{lr}
 1647              	.LCFI48:
 1648              		.cfi_def_cfa_offset 4
 1649              		.cfi_offset 14, -4
 1650 0002 83B0     		sub	sp, sp, #12
 1651              	.LCFI49:
 1652              		.cfi_def_cfa_offset 16
 432:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd[2];
 433:Drivers/LTC681x/LTC681x.c **** 	uint8_t md_bits;
 434:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x02) >> 1;
 1653              		.loc 1 434 0
 1654 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1655              	.LVL195:
 435:Drivers/LTC681x/LTC681x.c **** 	cmd[0] = md_bits + 0x02;
 1656              		.loc 1 435 0
 1657 0008 0233     		adds	r3, r3, #2
 1658              	.LVL196:
 1659 000a 8DF80430 		strb	r3, [sp, #4]
 436:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x01) << 7;
 1660              		.loc 1 436 0
 1661 000e C001     		lsls	r0, r0, #7
 1662              	.LVL197:
 1663 0010 C0B2     		uxtb	r0, r0
 1664              	.LVL198:
 437:Drivers/LTC681x/LTC681x.c **** 	cmd[1] =  md_bits + ((ST)<<5) +0x07;
 1665              		.loc 1 437 0
 1666 0012 4B01     		lsls	r3, r1, #5
 1667 0014 DBB2     		uxtb	r3, r3
 1668 0016 0344     		add	r3, r3, r0
 1669 0018 DBB2     		uxtb	r3, r3
 1670 001a 0733     		adds	r3, r3, #7
 1671 001c 8DF80530 		strb	r3, [sp, #5]
 438:Drivers/LTC681x/LTC681x.c **** 	cmd_68(cmd);
 1672              		.loc 1 438 0
 1673 0020 01A8     		add	r0, sp, #4
 1674              	.LVL199:
 1675 0022 FFF7FEFF 		bl	cmd_68
 1676              	.LVL200:
 439:Drivers/LTC681x/LTC681x.c **** }
 1677              		.loc 1 439 0
 1678 0026 03B0     		add	sp, sp, #12
ARM GAS  /tmp/ccMCacDa.s 			page 39


 1679              	.LCFI50:
 1680              		.cfi_def_cfa_offset 4
 1681              		@ sp needed
 1682 0028 5DF804FB 		ldr	pc, [sp], #4
 1683              		.cfi_endproc
 1684              	.LFE24:
 1686              		.section	.text.LTC681x_axst,"ax",%progbits
 1687              		.align	1
 1688              		.global	LTC681x_axst
 1689              		.syntax unified
 1690              		.thumb
 1691              		.thumb_func
 1692              		.fpu softvfp
 1694              	LTC681x_axst:
 1695              	.LFB25:
 440:Drivers/LTC681x/LTC681x.c **** 
 441:Drivers/LTC681x/LTC681x.c **** //Start an Auxiliary Register Self Test Conversion
 442:Drivers/LTC681x/LTC681x.c **** void LTC681x_axst(uint8_t MD, //ADC Mode
 443:Drivers/LTC681x/LTC681x.c **** 				  uint8_t ST //Self Test
 444:Drivers/LTC681x/LTC681x.c **** 				  )
 445:Drivers/LTC681x/LTC681x.c **** {
 1696              		.loc 1 445 0
 1697              		.cfi_startproc
 1698              		@ args = 0, pretend = 0, frame = 8
 1699              		@ frame_needed = 0, uses_anonymous_args = 0
 1700              	.LVL201:
 1701 0000 00B5     		push	{lr}
 1702              	.LCFI51:
 1703              		.cfi_def_cfa_offset 4
 1704              		.cfi_offset 14, -4
 1705 0002 83B0     		sub	sp, sp, #12
 1706              	.LCFI52:
 1707              		.cfi_def_cfa_offset 16
 446:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2];
 447:Drivers/LTC681x/LTC681x.c ****   uint8_t md_bits;
 448:Drivers/LTC681x/LTC681x.c **** 
 449:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x02) >> 1;
 1708              		.loc 1 449 0
 1709 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1710              	.LVL202:
 450:Drivers/LTC681x/LTC681x.c ****   cmd[0] = md_bits + 0x04;
 1711              		.loc 1 450 0
 1712 0008 0433     		adds	r3, r3, #4
 1713              	.LVL203:
 1714 000a 8DF80430 		strb	r3, [sp, #4]
 451:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x01) << 7;
 1715              		.loc 1 451 0
 1716 000e C001     		lsls	r0, r0, #7
 1717              	.LVL204:
 1718 0010 C0B2     		uxtb	r0, r0
 1719              	.LVL205:
 452:Drivers/LTC681x/LTC681x.c ****   cmd[1] =  md_bits + ((ST&0x03)<<5) +0x07;
 1720              		.loc 1 452 0
 1721 0012 4B01     		lsls	r3, r1, #5
 1722 0014 03F06003 		and	r3, r3, #96
 1723 0018 0344     		add	r3, r3, r0
 1724 001a DBB2     		uxtb	r3, r3
ARM GAS  /tmp/ccMCacDa.s 			page 40


 1725 001c 0733     		adds	r3, r3, #7
 1726 001e 8DF80530 		strb	r3, [sp, #5]
 453:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 1727              		.loc 1 453 0
 1728 0022 01A8     		add	r0, sp, #4
 1729              	.LVL206:
 1730 0024 FFF7FEFF 		bl	cmd_68
 1731              	.LVL207:
 454:Drivers/LTC681x/LTC681x.c **** 
 455:Drivers/LTC681x/LTC681x.c **** }
 1732              		.loc 1 455 0
 1733 0028 03B0     		add	sp, sp, #12
 1734              	.LCFI53:
 1735              		.cfi_def_cfa_offset 4
 1736              		@ sp needed
 1737 002a 5DF804FB 		ldr	pc, [sp], #4
 1738              		.cfi_endproc
 1739              	.LFE25:
 1741              		.section	.text.LTC681x_statst,"ax",%progbits
 1742              		.align	1
 1743              		.global	LTC681x_statst
 1744              		.syntax unified
 1745              		.thumb
 1746              		.thumb_func
 1747              		.fpu softvfp
 1749              	LTC681x_statst:
 1750              	.LFB26:
 456:Drivers/LTC681x/LTC681x.c **** 
 457:Drivers/LTC681x/LTC681x.c **** //Start a Status Register Self Test Conversion
 458:Drivers/LTC681x/LTC681x.c **** void LTC681x_statst(uint8_t MD, //ADC Mode
 459:Drivers/LTC681x/LTC681x.c **** 				    uint8_t ST //Self Test
 460:Drivers/LTC681x/LTC681x.c **** 					)
 461:Drivers/LTC681x/LTC681x.c **** {
 1751              		.loc 1 461 0
 1752              		.cfi_startproc
 1753              		@ args = 0, pretend = 0, frame = 8
 1754              		@ frame_needed = 0, uses_anonymous_args = 0
 1755              	.LVL208:
 1756 0000 00B5     		push	{lr}
 1757              	.LCFI54:
 1758              		.cfi_def_cfa_offset 4
 1759              		.cfi_offset 14, -4
 1760 0002 83B0     		sub	sp, sp, #12
 1761              	.LCFI55:
 1762              		.cfi_def_cfa_offset 16
 462:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2];
 463:Drivers/LTC681x/LTC681x.c ****   uint8_t md_bits;
 464:Drivers/LTC681x/LTC681x.c **** 
 465:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x02) >> 1;
 1763              		.loc 1 465 0
 1764 0004 C0F34003 		ubfx	r3, r0, #1, #1
 1765              	.LVL209:
 466:Drivers/LTC681x/LTC681x.c ****   cmd[0] = md_bits + 0x04;
 1766              		.loc 1 466 0
 1767 0008 0433     		adds	r3, r3, #4
 1768              	.LVL210:
 1769 000a 8DF80430 		strb	r3, [sp, #4]
ARM GAS  /tmp/ccMCacDa.s 			page 41


 467:Drivers/LTC681x/LTC681x.c ****   md_bits = (MD & 0x01) << 7;
 1770              		.loc 1 467 0
 1771 000e C001     		lsls	r0, r0, #7
 1772              	.LVL211:
 1773 0010 C0B2     		uxtb	r0, r0
 1774              	.LVL212:
 468:Drivers/LTC681x/LTC681x.c ****   cmd[1] =  md_bits + ((ST&0x03)<<5) +0x0F;
 1775              		.loc 1 468 0
 1776 0012 4B01     		lsls	r3, r1, #5
 1777 0014 03F06003 		and	r3, r3, #96
 1778 0018 0344     		add	r3, r3, r0
 1779 001a DBB2     		uxtb	r3, r3
 1780 001c 0F33     		adds	r3, r3, #15
 1781 001e 8DF80530 		strb	r3, [sp, #5]
 469:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 1782              		.loc 1 469 0
 1783 0022 01A8     		add	r0, sp, #4
 1784              	.LVL213:
 1785 0024 FFF7FEFF 		bl	cmd_68
 1786              	.LVL214:
 470:Drivers/LTC681x/LTC681x.c **** 
 471:Drivers/LTC681x/LTC681x.c **** }
 1787              		.loc 1 471 0
 1788 0028 03B0     		add	sp, sp, #12
 1789              	.LCFI56:
 1790              		.cfi_def_cfa_offset 4
 1791              		@ sp needed
 1792 002a 5DF804FB 		ldr	pc, [sp], #4
 1793              		.cfi_endproc
 1794              	.LFE26:
 1796              		.section	.text.LTC681x_pladc,"ax",%progbits
 1797              		.align	1
 1798              		.global	LTC681x_pladc
 1799              		.syntax unified
 1800              		.thumb
 1801              		.thumb_func
 1802              		.fpu softvfp
 1804              	LTC681x_pladc:
 1805              	.LFB27:
 472:Drivers/LTC681x/LTC681x.c **** 
 473:Drivers/LTC681x/LTC681x.c **** //Sends the poll adc command
 474:Drivers/LTC681x/LTC681x.c **** uint8_t LTC681x_pladc()
 475:Drivers/LTC681x/LTC681x.c **** {
 1806              		.loc 1 475 0
 1807              		.cfi_startproc
 1808              		@ args = 0, pretend = 0, frame = 8
 1809              		@ frame_needed = 0, uses_anonymous_args = 0
 1810 0000 10B5     		push	{r4, lr}
 1811              	.LCFI57:
 1812              		.cfi_def_cfa_offset 8
 1813              		.cfi_offset 4, -8
 1814              		.cfi_offset 14, -4
 1815 0002 82B0     		sub	sp, sp, #8
 1816              	.LCFI58:
 1817              		.cfi_def_cfa_offset 16
 1818              	.LVL215:
 476:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[4];
ARM GAS  /tmp/ccMCacDa.s 			page 42


 477:Drivers/LTC681x/LTC681x.c ****   uint8_t adc_state = 0xFF;
 478:Drivers/LTC681x/LTC681x.c ****   uint16_t cmd_pec;
 479:Drivers/LTC681x/LTC681x.c **** 
 480:Drivers/LTC681x/LTC681x.c ****   cmd[0] = 0x07;
 1819              		.loc 1 480 0
 1820 0004 0723     		movs	r3, #7
 1821 0006 8DF80430 		strb	r3, [sp, #4]
 481:Drivers/LTC681x/LTC681x.c ****   cmd[1] = 0x14;
 1822              		.loc 1 481 0
 1823 000a 1423     		movs	r3, #20
 1824 000c 8DF80530 		strb	r3, [sp, #5]
 482:Drivers/LTC681x/LTC681x.c ****   cmd_pec = pec15_calc(2, cmd);
 1825              		.loc 1 482 0
 1826 0010 01A9     		add	r1, sp, #4
 1827 0012 0220     		movs	r0, #2
 1828 0014 FFF7FEFF 		bl	pec15_calc
 1829              	.LVL216:
 483:Drivers/LTC681x/LTC681x.c ****   cmd[2] = (uint8_t)(cmd_pec >> 8);
 1830              		.loc 1 483 0
 1831 0018 C0F30723 		ubfx	r3, r0, #8, #8
 1832 001c 8DF80630 		strb	r3, [sp, #6]
 484:Drivers/LTC681x/LTC681x.c ****   cmd[3] = (uint8_t)(cmd_pec);
 1833              		.loc 1 484 0
 1834 0020 8DF80700 		strb	r0, [sp, #7]
 485:Drivers/LTC681x/LTC681x.c **** 
 486:Drivers/LTC681x/LTC681x.c **** 
 487:Drivers/LTC681x/LTC681x.c ****   cs_low(CS_PIN);
 1835              		.loc 1 487 0
 1836 0024 0A20     		movs	r0, #10
 1837              	.LVL217:
 1838 0026 FFF7FEFF 		bl	cs_low
 1839              	.LVL218:
 488:Drivers/LTC681x/LTC681x.c ****   spi_write_array(4,cmd);
 1840              		.loc 1 488 0
 1841 002a 01A9     		add	r1, sp, #4
 1842 002c 0420     		movs	r0, #4
 1843 002e FFF7FEFF 		bl	spi_write_array
 1844              	.LVL219:
 489:Drivers/LTC681x/LTC681x.c ****   adc_state = spi_read_byte(0xFF);
 1845              		.loc 1 489 0
 1846 0032 FF20     		movs	r0, #255
 1847 0034 FFF7FEFF 		bl	spi_read_byte
 1848              	.LVL220:
 1849 0038 0446     		mov	r4, r0
 1850              	.LVL221:
 490:Drivers/LTC681x/LTC681x.c **** 
 491:Drivers/LTC681x/LTC681x.c ****   cs_high(CS_PIN);
 1851              		.loc 1 491 0
 1852 003a 0A20     		movs	r0, #10
 1853 003c FFF7FEFF 		bl	cs_high
 1854              	.LVL222:
 492:Drivers/LTC681x/LTC681x.c ****   return(adc_state);
 493:Drivers/LTC681x/LTC681x.c **** }
 1855              		.loc 1 493 0
 1856 0040 2046     		mov	r0, r4
 1857 0042 02B0     		add	sp, sp, #8
 1858              	.LCFI59:
ARM GAS  /tmp/ccMCacDa.s 			page 43


 1859              		.cfi_def_cfa_offset 8
 1860              		@ sp needed
 1861 0044 10BD     		pop	{r4, pc}
 1862              		.cfi_endproc
 1863              	.LFE27:
 1865              		.section	.text.LTC681x_pollAdc,"ax",%progbits
 1866              		.align	1
 1867              		.global	LTC681x_pollAdc
 1868              		.syntax unified
 1869              		.thumb
 1870              		.thumb_func
 1871              		.fpu softvfp
 1873              	LTC681x_pollAdc:
 1874              	.LFB28:
 494:Drivers/LTC681x/LTC681x.c **** 
 495:Drivers/LTC681x/LTC681x.c **** //This function will block operation until the ADC has finished it's conversion
 496:Drivers/LTC681x/LTC681x.c **** uint32_t LTC681x_pollAdc()
 497:Drivers/LTC681x/LTC681x.c **** {
 1875              		.loc 1 497 0
 1876              		.cfi_startproc
 1877              		@ args = 0, pretend = 0, frame = 8
 1878              		@ frame_needed = 0, uses_anonymous_args = 0
 1879 0000 30B5     		push	{r4, r5, lr}
 1880              	.LCFI60:
 1881              		.cfi_def_cfa_offset 12
 1882              		.cfi_offset 4, -12
 1883              		.cfi_offset 5, -8
 1884              		.cfi_offset 14, -4
 1885 0002 83B0     		sub	sp, sp, #12
 1886              	.LCFI61:
 1887              		.cfi_def_cfa_offset 24
 1888              	.LVL223:
 498:Drivers/LTC681x/LTC681x.c ****   uint32_t counter = 0;
 499:Drivers/LTC681x/LTC681x.c ****   uint8_t finished = 0;
 500:Drivers/LTC681x/LTC681x.c ****   uint8_t current_time = 0;
 501:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[4];
 502:Drivers/LTC681x/LTC681x.c ****   uint16_t cmd_pec;
 503:Drivers/LTC681x/LTC681x.c **** 
 504:Drivers/LTC681x/LTC681x.c **** 
 505:Drivers/LTC681x/LTC681x.c ****   cmd[0] = 0x07;
 1889              		.loc 1 505 0
 1890 0004 0723     		movs	r3, #7
 1891 0006 8DF80430 		strb	r3, [sp, #4]
 506:Drivers/LTC681x/LTC681x.c ****   cmd[1] = 0x14;
 1892              		.loc 1 506 0
 1893 000a 1423     		movs	r3, #20
 1894 000c 8DF80530 		strb	r3, [sp, #5]
 507:Drivers/LTC681x/LTC681x.c ****   cmd_pec = pec15_calc(2, cmd);
 1895              		.loc 1 507 0
 1896 0010 01A9     		add	r1, sp, #4
 1897 0012 0220     		movs	r0, #2
 1898 0014 FFF7FEFF 		bl	pec15_calc
 1899              	.LVL224:
 508:Drivers/LTC681x/LTC681x.c ****   cmd[2] = (uint8_t)(cmd_pec >> 8);
 1900              		.loc 1 508 0
 1901 0018 C0F30723 		ubfx	r3, r0, #8, #8
 1902 001c 8DF80630 		strb	r3, [sp, #6]
ARM GAS  /tmp/ccMCacDa.s 			page 44


 509:Drivers/LTC681x/LTC681x.c ****   cmd[3] = (uint8_t)(cmd_pec);
 1903              		.loc 1 509 0
 1904 0020 8DF80700 		strb	r0, [sp, #7]
 510:Drivers/LTC681x/LTC681x.c **** 
 511:Drivers/LTC681x/LTC681x.c ****   cs_low(CS_PIN);
 1905              		.loc 1 511 0
 1906 0024 0A20     		movs	r0, #10
 1907              	.LVL225:
 1908 0026 FFF7FEFF 		bl	cs_low
 1909              	.LVL226:
 512:Drivers/LTC681x/LTC681x.c ****   spi_write_array(4,cmd);
 1910              		.loc 1 512 0
 1911 002a 01A9     		add	r1, sp, #4
 1912 002c 0420     		movs	r0, #4
 1913 002e FFF7FEFF 		bl	spi_write_array
 1914              	.LVL227:
 499:Drivers/LTC681x/LTC681x.c ****   uint8_t current_time = 0;
 1915              		.loc 1 499 0
 1916 0032 0025     		movs	r5, #0
 498:Drivers/LTC681x/LTC681x.c ****   uint8_t finished = 0;
 1917              		.loc 1 498 0
 1918 0034 2C46     		mov	r4, r5
 513:Drivers/LTC681x/LTC681x.c **** 
 514:Drivers/LTC681x/LTC681x.c ****   while ((counter<200000)&&(finished == 0))
 1919              		.loc 1 514 0
 1920 0036 00E0     		b	.L112
 1921              	.LVL228:
 1922              	.L116:
 515:Drivers/LTC681x/LTC681x.c ****   {
 516:Drivers/LTC681x/LTC681x.c ****     current_time = spi_read_byte(0xff);
 517:Drivers/LTC681x/LTC681x.c ****     if (current_time>0)
 518:Drivers/LTC681x/LTC681x.c ****     {
 519:Drivers/LTC681x/LTC681x.c ****       finished = 1;
 1923              		.loc 1 519 0
 1924 0038 0125     		movs	r5, #1
 1925              	.LVL229:
 1926              	.L112:
 514:Drivers/LTC681x/LTC681x.c ****   {
 1927              		.loc 1 514 0
 1928 003a 084B     		ldr	r3, .L118
 1929 003c 9C42     		cmp	r4, r3
 1930 003e 07D8     		bhi	.L114
 514:Drivers/LTC681x/LTC681x.c ****   {
 1931              		.loc 1 514 0 is_stmt 0 discriminator 1
 1932 0040 35B9     		cbnz	r5, .L114
 516:Drivers/LTC681x/LTC681x.c ****     if (current_time>0)
 1933              		.loc 1 516 0 is_stmt 1
 1934 0042 FF20     		movs	r0, #255
 1935 0044 FFF7FEFF 		bl	spi_read_byte
 1936              	.LVL230:
 517:Drivers/LTC681x/LTC681x.c ****     {
 1937              		.loc 1 517 0
 1938 0048 0028     		cmp	r0, #0
 1939 004a F5D1     		bne	.L116
 520:Drivers/LTC681x/LTC681x.c ****     }
 521:Drivers/LTC681x/LTC681x.c ****     else
 522:Drivers/LTC681x/LTC681x.c ****     {
ARM GAS  /tmp/ccMCacDa.s 			page 45


 523:Drivers/LTC681x/LTC681x.c ****       counter = counter + 10;
 1940              		.loc 1 523 0
 1941 004c 0A34     		adds	r4, r4, #10
 1942              	.LVL231:
 1943 004e F4E7     		b	.L112
 1944              	.LVL232:
 1945              	.L114:
 524:Drivers/LTC681x/LTC681x.c ****     }
 525:Drivers/LTC681x/LTC681x.c ****   }
 526:Drivers/LTC681x/LTC681x.c **** 
 527:Drivers/LTC681x/LTC681x.c ****   cs_high(CS_PIN);
 1946              		.loc 1 527 0
 1947 0050 0A20     		movs	r0, #10
 1948 0052 FFF7FEFF 		bl	cs_high
 1949              	.LVL233:
 528:Drivers/LTC681x/LTC681x.c **** 
 529:Drivers/LTC681x/LTC681x.c **** 
 530:Drivers/LTC681x/LTC681x.c ****   return(counter);
 531:Drivers/LTC681x/LTC681x.c **** }
 1950              		.loc 1 531 0
 1951 0056 2046     		mov	r0, r4
 1952 0058 03B0     		add	sp, sp, #12
 1953              	.LCFI62:
 1954              		.cfi_def_cfa_offset 12
 1955              		@ sp needed
 1956 005a 30BD     		pop	{r4, r5, pc}
 1957              	.LVL234:
 1958              	.L119:
 1959              		.align	2
 1960              	.L118:
 1961 005c 3F0D0300 		.word	199999
 1962              		.cfi_endproc
 1963              	.LFE28:
 1965              		.section	.text.LTC681x_diagn,"ax",%progbits
 1966              		.align	1
 1967              		.global	LTC681x_diagn
 1968              		.syntax unified
 1969              		.thumb
 1970              		.thumb_func
 1971              		.fpu softvfp
 1973              	LTC681x_diagn:
 1974              	.LFB29:
 532:Drivers/LTC681x/LTC681x.c **** 
 533:Drivers/LTC681x/LTC681x.c **** //Starts the Mux Decoder diagnostic self test
 534:Drivers/LTC681x/LTC681x.c **** void LTC681x_diagn()
 535:Drivers/LTC681x/LTC681x.c **** {
 1975              		.loc 1 535 0
 1976              		.cfi_startproc
 1977              		@ args = 0, pretend = 0, frame = 8
 1978              		@ frame_needed = 0, uses_anonymous_args = 0
 1979 0000 00B5     		push	{lr}
 1980              	.LCFI63:
 1981              		.cfi_def_cfa_offset 4
 1982              		.cfi_offset 14, -4
 1983 0002 83B0     		sub	sp, sp, #12
 1984              	.LCFI64:
 1985              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccMCacDa.s 			page 46


 536:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2] = {0x07 , 0x15};
 1986              		.loc 1 536 0
 1987 0004 044B     		ldr	r3, .L122
 1988 0006 1B88     		ldrh	r3, [r3]
 1989 0008 02A8     		add	r0, sp, #8
 1990 000a 20F8043D 		strh	r3, [r0, #-4]!	@ movhi
 537:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 1991              		.loc 1 537 0
 1992 000e FFF7FEFF 		bl	cmd_68
 1993              	.LVL235:
 538:Drivers/LTC681x/LTC681x.c **** }
 1994              		.loc 1 538 0
 1995 0012 03B0     		add	sp, sp, #12
 1996              	.LCFI65:
 1997              		.cfi_def_cfa_offset 4
 1998              		@ sp needed
 1999 0014 5DF804FB 		ldr	pc, [sp], #4
 2000              	.L123:
 2001              		.align	2
 2002              	.L122:
 2003 0018 00000000 		.word	.LANCHOR1
 2004              		.cfi_endproc
 2005              	.LFE29:
 2007              		.section	.text.parse_cells,"ax",%progbits
 2008              		.align	1
 2009              		.global	parse_cells
 2010              		.syntax unified
 2011              		.thumb
 2012              		.thumb_func
 2013              		.fpu softvfp
 2015              	parse_cells:
 2016              	.LFB30:
 539:Drivers/LTC681x/LTC681x.c **** 
 540:Drivers/LTC681x/LTC681x.c **** //Helper function that parses voltage measurement registers
 541:Drivers/LTC681x/LTC681x.c **** int8_t parse_cells(uint8_t current_ic, 
 542:Drivers/LTC681x/LTC681x.c **** 					uint8_t cell_reg, 
 543:Drivers/LTC681x/LTC681x.c **** 					uint8_t cell_data[], 
 544:Drivers/LTC681x/LTC681x.c **** 					uint16_t *cell_codes, 
 545:Drivers/LTC681x/LTC681x.c **** 					uint8_t *ic_pec
 546:Drivers/LTC681x/LTC681x.c **** 					)
 547:Drivers/LTC681x/LTC681x.c **** {
 2017              		.loc 1 547 0
 2018              		.cfi_startproc
 2019              		@ args = 4, pretend = 0, frame = 0
 2020              		@ frame_needed = 0, uses_anonymous_args = 0
 2021              	.LVL236:
 2022 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2023              	.LCFI66:
 2024              		.cfi_def_cfa_offset 24
 2025              		.cfi_offset 3, -24
 2026              		.cfi_offset 4, -20
 2027              		.cfi_offset 5, -16
 2028              		.cfi_offset 6, -12
 2029              		.cfi_offset 7, -8
 2030              		.cfi_offset 14, -4
 2031 0002 0F46     		mov	r7, r1
 2032              	.LVL237:
ARM GAS  /tmp/ccMCacDa.s 			page 47


 548:Drivers/LTC681x/LTC681x.c **** 
 549:Drivers/LTC681x/LTC681x.c ****   const uint8_t BYT_IN_REG = 6;
 550:Drivers/LTC681x/LTC681x.c ****   const uint8_t CELL_IN_REG = 3;
 551:Drivers/LTC681x/LTC681x.c ****   int8_t pec_error = 0;
 552:Drivers/LTC681x/LTC681x.c ****   uint16_t parsed_cell;
 553:Drivers/LTC681x/LTC681x.c ****   uint16_t received_pec;
 554:Drivers/LTC681x/LTC681x.c ****   uint16_t data_pec;
 555:Drivers/LTC681x/LTC681x.c ****   uint8_t data_counter = current_ic*NUM_RX_BYT; //data counter
 2033              		.loc 1 555 0
 2034 0004 C400     		lsls	r4, r0, #3
 2035 0006 E4B2     		uxtb	r4, r4
 2036              	.LVL238:
 2037              	.LBB23:
 556:Drivers/LTC681x/LTC681x.c **** 
 557:Drivers/LTC681x/LTC681x.c **** 
 558:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_cell = 0; current_cell<CELL_IN_REG; current_cell++)  // This loop parses the
 2038              		.loc 1 558 0
 2039 0008 0026     		movs	r6, #0
 2040 000a 0FE0     		b	.L125
 2041              	.LVL239:
 2042              	.L126:
 559:Drivers/LTC681x/LTC681x.c ****   {																			// loops once for each of the 3 cell voltage codes in the register
 560:Drivers/LTC681x/LTC681x.c **** 																			
 561:Drivers/LTC681x/LTC681x.c **** 
 562:Drivers/LTC681x/LTC681x.c ****     parsed_cell = cell_data[data_counter] + (cell_data[data_counter + 1] << 8);//Each cell code is 
 2043              		.loc 1 562 0 discriminator 3
 2044 000c 12F804C0 		ldrb	ip, [r2, r4]	@ zero_extendqisi2
 2045 0010 1119     		adds	r1, r2, r4
 2046 0012 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 2047 0014 0CEB012C 		add	ip, ip, r1, lsl #8
 2048              	.LVL240:
 563:Drivers/LTC681x/LTC681x.c **** 	
 564:Drivers/LTC681x/LTC681x.c **** 																		  // create the parsed cell voltage code
 565:Drivers/LTC681x/LTC681x.c **** 	
 566:Drivers/LTC681x/LTC681x.c ****     cell_codes[current_cell  + ((cell_reg - 1) * CELL_IN_REG)] = parsed_cell;
 2049              		.loc 1 566 0 discriminator 3
 2050 0018 7D1E     		subs	r5, r7, #1
 2051 001a 05EB4505 		add	r5, r5, r5, lsl #1
 2052 001e 3544     		add	r5, r5, r6
 2053 0020 23F815C0 		strh	ip, [r3, r5, lsl #1]	@ movhi
 567:Drivers/LTC681x/LTC681x.c **** 	
 568:Drivers/LTC681x/LTC681x.c ****     data_counter = data_counter + 2;                       //Because cell voltage codes are two byt
 2054              		.loc 1 568 0 discriminator 3
 2055 0024 0234     		adds	r4, r4, #2
 2056              	.LVL241:
 2057 0026 E4B2     		uxtb	r4, r4
 558:Drivers/LTC681x/LTC681x.c ****   {																			// loops once for each of the 3 cell voltage codes in the register
 2058              		.loc 1 558 0 discriminator 3
 2059 0028 0136     		adds	r6, r6, #1
 2060              	.LVL242:
 2061 002a F6B2     		uxtb	r6, r6
 2062              	.LVL243:
 2063              	.L125:
 558:Drivers/LTC681x/LTC681x.c ****   {																			// loops once for each of the 3 cell voltage codes in the register
 2064              		.loc 1 558 0 is_stmt 0 discriminator 1
 2065 002c 022E     		cmp	r6, #2
 2066 002e EDD9     		bls	.L126
ARM GAS  /tmp/ccMCacDa.s 			page 48


 2067              	.LBE23:
 569:Drivers/LTC681x/LTC681x.c **** 														  //must increment by two for each parsed cell code
 570:Drivers/LTC681x/LTC681x.c ****   }
 571:Drivers/LTC681x/LTC681x.c **** 
 572:Drivers/LTC681x/LTC681x.c ****   received_pec = (cell_data[data_counter] << 8) | cell_data[data_counter+1]; //The received PEC for
 2068              		.loc 1 572 0 is_stmt 1
 2069 0030 135D     		ldrb	r3, [r2, r4]	@ zero_extendqisi2
 2070              	.LVL244:
 2071 0032 1444     		add	r4, r4, r2
 2072              	.LVL245:
 2073 0034 6478     		ldrb	r4, [r4, #1]	@ zero_extendqisi2
 2074 0036 44EA0324 		orr	r4, r4, r3, lsl #8
 2075              	.LVL246:
 573:Drivers/LTC681x/LTC681x.c **** 																			//after the 6 cell voltage data bytes
 574:Drivers/LTC681x/LTC681x.c ****   data_pec = pec15_calc(BYT_IN_REG, &cell_data[(current_ic) * NUM_RX_BYT]);
 2076              		.loc 1 574 0
 2077 003a 02EBC001 		add	r1, r2, r0, lsl #3
 2078 003e 0620     		movs	r0, #6
 2079              	.LVL247:
 2080 0040 FFF7FEFF 		bl	pec15_calc
 2081              	.LVL248:
 575:Drivers/LTC681x/LTC681x.c **** 
 576:Drivers/LTC681x/LTC681x.c ****   if (received_pec != data_pec)
 2082              		.loc 1 576 0
 2083 0044 8442     		cmp	r4, r0
 2084 0046 04D0     		beq	.L127
 2085              	.LVL249:
 577:Drivers/LTC681x/LTC681x.c ****   {
 578:Drivers/LTC681x/LTC681x.c ****     pec_error = 1;                             //The pec_error variable is simply set negative if a
 579:Drivers/LTC681x/LTC681x.c ****     ic_pec[cell_reg-1]=1;
 2086              		.loc 1 579 0
 2087 0048 013F     		subs	r7, r7, #1
 2088 004a 0120     		movs	r0, #1
 2089              	.LVL250:
 2090 004c 069B     		ldr	r3, [sp, #24]
 2091 004e D855     		strb	r0, [r3, r7]
 2092              	.LVL251:
 2093              	.L128:
 580:Drivers/LTC681x/LTC681x.c ****   }
 581:Drivers/LTC681x/LTC681x.c ****   else
 582:Drivers/LTC681x/LTC681x.c ****   {
 583:Drivers/LTC681x/LTC681x.c ****     ic_pec[cell_reg-1]=0;
 584:Drivers/LTC681x/LTC681x.c ****   }
 585:Drivers/LTC681x/LTC681x.c ****   data_counter=data_counter+2;
 586:Drivers/LTC681x/LTC681x.c ****   return(pec_error);
 587:Drivers/LTC681x/LTC681x.c **** }
 2094              		.loc 1 587 0
 2095 0050 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2096              	.LVL252:
 2097              	.L127:
 583:Drivers/LTC681x/LTC681x.c ****   }
 2098              		.loc 1 583 0
 2099 0052 013F     		subs	r7, r7, #1
 2100 0054 0020     		movs	r0, #0
 2101              	.LVL253:
 2102 0056 069B     		ldr	r3, [sp, #24]
 2103 0058 D855     		strb	r0, [r3, r7]
ARM GAS  /tmp/ccMCacDa.s 			page 49


 2104 005a F9E7     		b	.L128
 2105              		.cfi_endproc
 2106              	.LFE30:
 2108              		.section	.text.LTC681x_rdcv_reg,"ax",%progbits
 2109              		.align	1
 2110              		.global	LTC681x_rdcv_reg
 2111              		.syntax unified
 2112              		.thumb
 2113              		.thumb_func
 2114              		.fpu softvfp
 2116              	LTC681x_rdcv_reg:
 2117              	.LFB31:
 588:Drivers/LTC681x/LTC681x.c **** 
 589:Drivers/LTC681x/LTC681x.c **** 
 590:Drivers/LTC681x/LTC681x.c **** // Reads the raw cell voltage register data
 591:Drivers/LTC681x/LTC681x.c **** void LTC681x_rdcv_reg(uint8_t reg, //Determines which cell voltage register is read back
 592:Drivers/LTC681x/LTC681x.c ****                       uint8_t total_ic, //the number of ICs in the
 593:Drivers/LTC681x/LTC681x.c ****                       uint8_t *data //An array of the unparsed cell codes
 594:Drivers/LTC681x/LTC681x.c ****                      )
 595:Drivers/LTC681x/LTC681x.c **** {
 2118              		.loc 1 595 0
 2119              		.cfi_startproc
 2120              		@ args = 0, pretend = 0, frame = 8
 2121              		@ frame_needed = 0, uses_anonymous_args = 0
 2122              	.LVL254:
 2123 0000 30B5     		push	{r4, r5, lr}
 2124              	.LCFI67:
 2125              		.cfi_def_cfa_offset 12
 2126              		.cfi_offset 4, -12
 2127              		.cfi_offset 5, -8
 2128              		.cfi_offset 14, -4
 2129 0002 83B0     		sub	sp, sp, #12
 2130              	.LCFI68:
 2131              		.cfi_def_cfa_offset 24
 2132 0004 0C46     		mov	r4, r1
 2133 0006 1546     		mov	r5, r2
 2134              	.LVL255:
 596:Drivers/LTC681x/LTC681x.c ****   const uint8_t REG_LEN = 8; //number of bytes in each ICs register + 2 bytes for the PEC
 597:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[4];
 598:Drivers/LTC681x/LTC681x.c ****   uint16_t cmd_pec;
 599:Drivers/LTC681x/LTC681x.c **** 
 600:Drivers/LTC681x/LTC681x.c ****   if (reg == 1)     //1: RDCVA
 2135              		.loc 1 600 0
 2136 0008 0128     		cmp	r0, #1
 2137 000a 10D0     		beq	.L138
 601:Drivers/LTC681x/LTC681x.c ****   {
 602:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x04;
 603:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 604:Drivers/LTC681x/LTC681x.c ****   }
 605:Drivers/LTC681x/LTC681x.c ****   else if (reg == 2) //2: RDCVB
 2138              		.loc 1 605 0
 2139 000c 0228     		cmp	r0, #2
 2140 000e 2FD0     		beq	.L139
 606:Drivers/LTC681x/LTC681x.c ****   {
 607:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x06;
 608:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 609:Drivers/LTC681x/LTC681x.c ****   }
ARM GAS  /tmp/ccMCacDa.s 			page 50


 610:Drivers/LTC681x/LTC681x.c ****   else if (reg == 3) //3: RDCVC
 2141              		.loc 1 610 0
 2142 0010 0328     		cmp	r0, #3
 2143 0012 34D0     		beq	.L140
 611:Drivers/LTC681x/LTC681x.c ****   {
 612:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x08;
 613:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 614:Drivers/LTC681x/LTC681x.c ****   }
 615:Drivers/LTC681x/LTC681x.c ****   else if (reg == 4) //4: RDCVD
 2144              		.loc 1 615 0
 2145 0014 0428     		cmp	r0, #4
 2146 0016 39D0     		beq	.L141
 616:Drivers/LTC681x/LTC681x.c ****   {
 617:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x0A;
 618:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 619:Drivers/LTC681x/LTC681x.c ****   }
 620:Drivers/LTC681x/LTC681x.c ****   else if (reg == 5) //4: RDCVE
 2147              		.loc 1 620 0
 2148 0018 0528     		cmp	r0, #5
 2149 001a 3ED0     		beq	.L142
 621:Drivers/LTC681x/LTC681x.c ****   {
 622:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x09;
 623:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 624:Drivers/LTC681x/LTC681x.c ****   }
 625:Drivers/LTC681x/LTC681x.c ****   else if (reg == 6) //4: RDCVF
 2150              		.loc 1 625 0
 2151 001c 0628     		cmp	r0, #6
 2152 001e 0CD1     		bne	.L132
 626:Drivers/LTC681x/LTC681x.c ****   {
 627:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x0B;
 2153              		.loc 1 627 0
 2154 0020 0B23     		movs	r3, #11
 2155 0022 8DF80530 		strb	r3, [sp, #5]
 628:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2156              		.loc 1 628 0
 2157 0026 0023     		movs	r3, #0
 2158 0028 8DF80430 		strb	r3, [sp, #4]
 2159 002c 05E0     		b	.L132
 2160              	.L138:
 602:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2161              		.loc 1 602 0
 2162 002e 0423     		movs	r3, #4
 2163 0030 8DF80530 		strb	r3, [sp, #5]
 603:Drivers/LTC681x/LTC681x.c ****   }
 2164              		.loc 1 603 0
 2165 0034 0023     		movs	r3, #0
 2166 0036 8DF80430 		strb	r3, [sp, #4]
 2167              	.L132:
 629:Drivers/LTC681x/LTC681x.c ****   }
 630:Drivers/LTC681x/LTC681x.c **** 
 631:Drivers/LTC681x/LTC681x.c **** 
 632:Drivers/LTC681x/LTC681x.c ****   cmd_pec = pec15_calc(2, cmd);
 2168              		.loc 1 632 0
 2169 003a 01A9     		add	r1, sp, #4
 2170              	.LVL256:
 2171 003c 0220     		movs	r0, #2
 2172              	.LVL257:
ARM GAS  /tmp/ccMCacDa.s 			page 51


 2173 003e FFF7FEFF 		bl	pec15_calc
 2174              	.LVL258:
 633:Drivers/LTC681x/LTC681x.c ****   cmd[2] = (uint8_t)(cmd_pec >> 8);
 2175              		.loc 1 633 0
 2176 0042 C0F30723 		ubfx	r3, r0, #8, #8
 2177 0046 8DF80630 		strb	r3, [sp, #6]
 634:Drivers/LTC681x/LTC681x.c ****   cmd[3] = (uint8_t)(cmd_pec);
 2178              		.loc 1 634 0
 2179 004a 8DF80700 		strb	r0, [sp, #7]
 635:Drivers/LTC681x/LTC681x.c **** 
 636:Drivers/LTC681x/LTC681x.c ****   cs_low(CS_PIN);
 2180              		.loc 1 636 0
 2181 004e 0A20     		movs	r0, #10
 2182              	.LVL259:
 2183 0050 FFF7FEFF 		bl	cs_low
 2184              	.LVL260:
 637:Drivers/LTC681x/LTC681x.c ****   spi_write_read(cmd,4,data,(REG_LEN*total_ic));
 2185              		.loc 1 637 0
 2186 0054 E300     		lsls	r3, r4, #3
 2187 0056 03F0F803 		and	r3, r3, #248
 2188 005a 2A46     		mov	r2, r5
 2189 005c 0421     		movs	r1, #4
 2190 005e 0DEB0100 		add	r0, sp, r1
 2191 0062 FFF7FEFF 		bl	spi_write_read
 2192              	.LVL261:
 638:Drivers/LTC681x/LTC681x.c ****   cs_high(CS_PIN);
 2193              		.loc 1 638 0
 2194 0066 0A20     		movs	r0, #10
 2195 0068 FFF7FEFF 		bl	cs_high
 2196              	.LVL262:
 639:Drivers/LTC681x/LTC681x.c **** 
 640:Drivers/LTC681x/LTC681x.c **** }
 2197              		.loc 1 640 0
 2198 006c 03B0     		add	sp, sp, #12
 2199              	.LCFI69:
 2200              		.cfi_remember_state
 2201              		.cfi_def_cfa_offset 12
 2202              		@ sp needed
 2203 006e 30BD     		pop	{r4, r5, pc}
 2204              	.LVL263:
 2205              	.L139:
 2206              	.LCFI70:
 2207              		.cfi_restore_state
 607:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2208              		.loc 1 607 0
 2209 0070 0623     		movs	r3, #6
 2210 0072 8DF80530 		strb	r3, [sp, #5]
 608:Drivers/LTC681x/LTC681x.c ****   }
 2211              		.loc 1 608 0
 2212 0076 0023     		movs	r3, #0
 2213 0078 8DF80430 		strb	r3, [sp, #4]
 2214 007c DDE7     		b	.L132
 2215              	.L140:
 612:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2216              		.loc 1 612 0
 2217 007e 0823     		movs	r3, #8
 2218 0080 8DF80530 		strb	r3, [sp, #5]
ARM GAS  /tmp/ccMCacDa.s 			page 52


 613:Drivers/LTC681x/LTC681x.c ****   }
 2219              		.loc 1 613 0
 2220 0084 0023     		movs	r3, #0
 2221 0086 8DF80430 		strb	r3, [sp, #4]
 2222 008a D6E7     		b	.L132
 2223              	.L141:
 617:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2224              		.loc 1 617 0
 2225 008c 0A23     		movs	r3, #10
 2226 008e 8DF80530 		strb	r3, [sp, #5]
 618:Drivers/LTC681x/LTC681x.c ****   }
 2227              		.loc 1 618 0
 2228 0092 0023     		movs	r3, #0
 2229 0094 8DF80430 		strb	r3, [sp, #4]
 2230 0098 CFE7     		b	.L132
 2231              	.L142:
 622:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2232              		.loc 1 622 0
 2233 009a 0923     		movs	r3, #9
 2234 009c 8DF80530 		strb	r3, [sp, #5]
 623:Drivers/LTC681x/LTC681x.c ****   }
 2235              		.loc 1 623 0
 2236 00a0 0023     		movs	r3, #0
 2237 00a2 8DF80430 		strb	r3, [sp, #4]
 2238 00a6 C8E7     		b	.L132
 2239              		.cfi_endproc
 2240              	.LFE31:
 2242              		.section	.text.LTC681x_rdaux_reg,"ax",%progbits
 2243              		.align	1
 2244              		.global	LTC681x_rdaux_reg
 2245              		.syntax unified
 2246              		.thumb
 2247              		.thumb_func
 2248              		.fpu softvfp
 2250              	LTC681x_rdaux_reg:
 2251              	.LFB32:
 641:Drivers/LTC681x/LTC681x.c **** 
 642:Drivers/LTC681x/LTC681x.c **** 
 643:Drivers/LTC681x/LTC681x.c **** /*
 644:Drivers/LTC681x/LTC681x.c **** The function reads a single GPIO voltage register and stores the read data
 645:Drivers/LTC681x/LTC681x.c **** in the *data point as a byte array. This function is rarely used outside of
 646:Drivers/LTC681x/LTC681x.c **** the LTC6811_rdaux() command.
 647:Drivers/LTC681x/LTC681x.c **** */
 648:Drivers/LTC681x/LTC681x.c **** void LTC681x_rdaux_reg(uint8_t reg, //Determines which GPIO voltage register is read back
 649:Drivers/LTC681x/LTC681x.c ****                        uint8_t total_ic, //The number of ICs in the system
 650:Drivers/LTC681x/LTC681x.c ****                        uint8_t *data //Array of the unparsed auxiliary codes
 651:Drivers/LTC681x/LTC681x.c ****                       )
 652:Drivers/LTC681x/LTC681x.c **** {
 2252              		.loc 1 652 0
 2253              		.cfi_startproc
 2254              		@ args = 0, pretend = 0, frame = 8
 2255              		@ frame_needed = 0, uses_anonymous_args = 0
 2256              	.LVL264:
 2257 0000 30B5     		push	{r4, r5, lr}
 2258              	.LCFI71:
 2259              		.cfi_def_cfa_offset 12
 2260              		.cfi_offset 4, -12
ARM GAS  /tmp/ccMCacDa.s 			page 53


 2261              		.cfi_offset 5, -8
 2262              		.cfi_offset 14, -4
 2263 0002 83B0     		sub	sp, sp, #12
 2264              	.LCFI72:
 2265              		.cfi_def_cfa_offset 24
 2266 0004 0C46     		mov	r4, r1
 2267 0006 1546     		mov	r5, r2
 2268              	.LVL265:
 653:Drivers/LTC681x/LTC681x.c ****   const uint8_t REG_LEN = 8; // number of bytes in the register + 2 bytes for the PEC
 654:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[4];
 655:Drivers/LTC681x/LTC681x.c ****   uint16_t cmd_pec;
 656:Drivers/LTC681x/LTC681x.c **** 
 657:Drivers/LTC681x/LTC681x.c **** 
 658:Drivers/LTC681x/LTC681x.c ****   if (reg == 1)     //Read back auxiliary group A
 2269              		.loc 1 658 0
 2270 0008 0128     		cmp	r0, #1
 2271 000a 0CD0     		beq	.L150
 659:Drivers/LTC681x/LTC681x.c ****   {
 660:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x0C;
 661:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 662:Drivers/LTC681x/LTC681x.c ****   }
 663:Drivers/LTC681x/LTC681x.c ****   else if (reg == 2)  //Read back auxiliary group B
 2272              		.loc 1 663 0
 2273 000c 0228     		cmp	r0, #2
 2274 000e 2BD0     		beq	.L151
 664:Drivers/LTC681x/LTC681x.c ****   {
 665:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x0E;
 666:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 667:Drivers/LTC681x/LTC681x.c ****   }
 668:Drivers/LTC681x/LTC681x.c ****   else if (reg == 3)  //Read back auxiliary group C
 2275              		.loc 1 668 0
 2276 0010 0328     		cmp	r0, #3
 2277 0012 30D0     		beq	.L152
 669:Drivers/LTC681x/LTC681x.c ****   {
 670:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x0D;
 671:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 672:Drivers/LTC681x/LTC681x.c ****   }
 673:Drivers/LTC681x/LTC681x.c ****   else if (reg == 4)  //Read back auxiliary group D
 2278              		.loc 1 673 0
 2279 0014 0428     		cmp	r0, #4
 2280 0016 35D0     		beq	.L153
 674:Drivers/LTC681x/LTC681x.c ****   {
 675:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x0F;
 676:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 677:Drivers/LTC681x/LTC681x.c ****   }
 678:Drivers/LTC681x/LTC681x.c ****   else          //Read back auxiliary group A
 679:Drivers/LTC681x/LTC681x.c ****   {
 680:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x0C;
 2281              		.loc 1 680 0
 2282 0018 0C23     		movs	r3, #12
 2283 001a 8DF80530 		strb	r3, [sp, #5]
 681:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2284              		.loc 1 681 0
 2285 001e 0023     		movs	r3, #0
 2286 0020 8DF80430 		strb	r3, [sp, #4]
 2287 0024 05E0     		b	.L145
 2288              	.L150:
ARM GAS  /tmp/ccMCacDa.s 			page 54


 660:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2289              		.loc 1 660 0
 2290 0026 0C23     		movs	r3, #12
 2291 0028 8DF80530 		strb	r3, [sp, #5]
 661:Drivers/LTC681x/LTC681x.c ****   }
 2292              		.loc 1 661 0
 2293 002c 0023     		movs	r3, #0
 2294 002e 8DF80430 		strb	r3, [sp, #4]
 2295              	.L145:
 682:Drivers/LTC681x/LTC681x.c ****   }
 683:Drivers/LTC681x/LTC681x.c **** 
 684:Drivers/LTC681x/LTC681x.c ****   cmd_pec = pec15_calc(2, cmd);
 2296              		.loc 1 684 0
 2297 0032 01A9     		add	r1, sp, #4
 2298              	.LVL266:
 2299 0034 0220     		movs	r0, #2
 2300              	.LVL267:
 2301 0036 FFF7FEFF 		bl	pec15_calc
 2302              	.LVL268:
 685:Drivers/LTC681x/LTC681x.c ****   cmd[2] = (uint8_t)(cmd_pec >> 8);
 2303              		.loc 1 685 0
 2304 003a C0F30723 		ubfx	r3, r0, #8, #8
 2305 003e 8DF80630 		strb	r3, [sp, #6]
 686:Drivers/LTC681x/LTC681x.c ****   cmd[3] = (uint8_t)(cmd_pec);
 2306              		.loc 1 686 0
 2307 0042 8DF80700 		strb	r0, [sp, #7]
 687:Drivers/LTC681x/LTC681x.c **** 
 688:Drivers/LTC681x/LTC681x.c ****   cs_low(CS_PIN);
 2308              		.loc 1 688 0
 2309 0046 0A20     		movs	r0, #10
 2310              	.LVL269:
 2311 0048 FFF7FEFF 		bl	cs_low
 2312              	.LVL270:
 689:Drivers/LTC681x/LTC681x.c ****   spi_write_read(cmd,4,data,(REG_LEN*total_ic));
 2313              		.loc 1 689 0
 2314 004c E300     		lsls	r3, r4, #3
 2315 004e 03F0F803 		and	r3, r3, #248
 2316 0052 2A46     		mov	r2, r5
 2317 0054 0421     		movs	r1, #4
 2318 0056 0DEB0100 		add	r0, sp, r1
 2319 005a FFF7FEFF 		bl	spi_write_read
 2320              	.LVL271:
 690:Drivers/LTC681x/LTC681x.c ****   cs_high(CS_PIN);
 2321              		.loc 1 690 0
 2322 005e 0A20     		movs	r0, #10
 2323 0060 FFF7FEFF 		bl	cs_high
 2324              	.LVL272:
 691:Drivers/LTC681x/LTC681x.c **** 
 692:Drivers/LTC681x/LTC681x.c **** }
 2325              		.loc 1 692 0
 2326 0064 03B0     		add	sp, sp, #12
 2327              	.LCFI73:
 2328              		.cfi_remember_state
 2329              		.cfi_def_cfa_offset 12
 2330              		@ sp needed
 2331 0066 30BD     		pop	{r4, r5, pc}
 2332              	.LVL273:
ARM GAS  /tmp/ccMCacDa.s 			page 55


 2333              	.L151:
 2334              	.LCFI74:
 2335              		.cfi_restore_state
 665:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2336              		.loc 1 665 0
 2337 0068 0E23     		movs	r3, #14
 2338 006a 8DF80530 		strb	r3, [sp, #5]
 666:Drivers/LTC681x/LTC681x.c ****   }
 2339              		.loc 1 666 0
 2340 006e 0023     		movs	r3, #0
 2341 0070 8DF80430 		strb	r3, [sp, #4]
 2342 0074 DDE7     		b	.L145
 2343              	.L152:
 670:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2344              		.loc 1 670 0
 2345 0076 0D23     		movs	r3, #13
 2346 0078 8DF80530 		strb	r3, [sp, #5]
 671:Drivers/LTC681x/LTC681x.c ****   }
 2347              		.loc 1 671 0
 2348 007c 0023     		movs	r3, #0
 2349 007e 8DF80430 		strb	r3, [sp, #4]
 2350 0082 D6E7     		b	.L145
 2351              	.L153:
 675:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2352              		.loc 1 675 0
 2353 0084 0F23     		movs	r3, #15
 2354 0086 8DF80530 		strb	r3, [sp, #5]
 676:Drivers/LTC681x/LTC681x.c ****   }
 2355              		.loc 1 676 0
 2356 008a 0023     		movs	r3, #0
 2357 008c 8DF80430 		strb	r3, [sp, #4]
 2358 0090 CFE7     		b	.L145
 2359              		.cfi_endproc
 2360              	.LFE32:
 2362              		.section	.text.LTC681x_rdstat_reg,"ax",%progbits
 2363              		.align	1
 2364              		.global	LTC681x_rdstat_reg
 2365              		.syntax unified
 2366              		.thumb
 2367              		.thumb_func
 2368              		.fpu softvfp
 2370              	LTC681x_rdstat_reg:
 2371              	.LFB33:
 693:Drivers/LTC681x/LTC681x.c **** 
 694:Drivers/LTC681x/LTC681x.c **** /*
 695:Drivers/LTC681x/LTC681x.c **** The function reads a single stat  register and stores the read data
 696:Drivers/LTC681x/LTC681x.c **** in the *data point as a byte array. This function is rarely used outside of
 697:Drivers/LTC681x/LTC681x.c **** the LTC6811_rdstat() command.
 698:Drivers/LTC681x/LTC681x.c **** */
 699:Drivers/LTC681x/LTC681x.c **** void LTC681x_rdstat_reg(uint8_t reg, //Determines which stat register is read back
 700:Drivers/LTC681x/LTC681x.c ****                         uint8_t total_ic, //The number of ICs in the system
 701:Drivers/LTC681x/LTC681x.c ****                         uint8_t *data //Array of the unparsed stat codes
 702:Drivers/LTC681x/LTC681x.c ****                        )
 703:Drivers/LTC681x/LTC681x.c **** {
 2372              		.loc 1 703 0
 2373              		.cfi_startproc
 2374              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccMCacDa.s 			page 56


 2375              		@ frame_needed = 0, uses_anonymous_args = 0
 2376              	.LVL274:
 2377 0000 30B5     		push	{r4, r5, lr}
 2378              	.LCFI75:
 2379              		.cfi_def_cfa_offset 12
 2380              		.cfi_offset 4, -12
 2381              		.cfi_offset 5, -8
 2382              		.cfi_offset 14, -4
 2383 0002 83B0     		sub	sp, sp, #12
 2384              	.LCFI76:
 2385              		.cfi_def_cfa_offset 24
 2386 0004 0C46     		mov	r4, r1
 2387 0006 1546     		mov	r5, r2
 2388              	.LVL275:
 704:Drivers/LTC681x/LTC681x.c ****   const uint8_t REG_LEN = 8; // number of bytes in the register + 2 bytes for the PEC
 705:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[4];
 706:Drivers/LTC681x/LTC681x.c ****   uint16_t cmd_pec;
 707:Drivers/LTC681x/LTC681x.c **** 
 708:Drivers/LTC681x/LTC681x.c **** 
 709:Drivers/LTC681x/LTC681x.c ****   if (reg == 1)     //Read back status group A
 2389              		.loc 1 709 0
 2390 0008 0128     		cmp	r0, #1
 2391 000a 22D0     		beq	.L159
 710:Drivers/LTC681x/LTC681x.c ****   {
 711:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x10;
 712:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 713:Drivers/LTC681x/LTC681x.c ****   }
 714:Drivers/LTC681x/LTC681x.c ****   else if (reg == 2)  //Read back status group B
 2392              		.loc 1 714 0
 2393 000c 0228     		cmp	r0, #2
 2394 000e 27D0     		beq	.L160
 715:Drivers/LTC681x/LTC681x.c ****   {
 716:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x12;
 717:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 718:Drivers/LTC681x/LTC681x.c ****   }
 719:Drivers/LTC681x/LTC681x.c **** 
 720:Drivers/LTC681x/LTC681x.c ****   else          //Read back status group A
 721:Drivers/LTC681x/LTC681x.c ****   {
 722:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x10;
 2395              		.loc 1 722 0
 2396 0010 1023     		movs	r3, #16
 2397 0012 8DF80530 		strb	r3, [sp, #5]
 723:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2398              		.loc 1 723 0
 2399 0016 0023     		movs	r3, #0
 2400 0018 8DF80430 		strb	r3, [sp, #4]
 2401              	.L156:
 724:Drivers/LTC681x/LTC681x.c ****   }
 725:Drivers/LTC681x/LTC681x.c **** 
 726:Drivers/LTC681x/LTC681x.c ****   cmd_pec = pec15_calc(2, cmd);
 2402              		.loc 1 726 0
 2403 001c 01A9     		add	r1, sp, #4
 2404              	.LVL276:
 2405 001e 0220     		movs	r0, #2
 2406              	.LVL277:
 2407 0020 FFF7FEFF 		bl	pec15_calc
 2408              	.LVL278:
ARM GAS  /tmp/ccMCacDa.s 			page 57


 727:Drivers/LTC681x/LTC681x.c ****   cmd[2] = (uint8_t)(cmd_pec >> 8);
 2409              		.loc 1 727 0
 2410 0024 C0F30723 		ubfx	r3, r0, #8, #8
 2411 0028 8DF80630 		strb	r3, [sp, #6]
 728:Drivers/LTC681x/LTC681x.c ****   cmd[3] = (uint8_t)(cmd_pec);
 2412              		.loc 1 728 0
 2413 002c 8DF80700 		strb	r0, [sp, #7]
 729:Drivers/LTC681x/LTC681x.c **** 
 730:Drivers/LTC681x/LTC681x.c ****   cs_low(CS_PIN);
 2414              		.loc 1 730 0
 2415 0030 0A20     		movs	r0, #10
 2416              	.LVL279:
 2417 0032 FFF7FEFF 		bl	cs_low
 2418              	.LVL280:
 731:Drivers/LTC681x/LTC681x.c ****   spi_write_read(cmd,4,data,(REG_LEN*total_ic));
 2419              		.loc 1 731 0
 2420 0036 E300     		lsls	r3, r4, #3
 2421 0038 03F0F803 		and	r3, r3, #248
 2422 003c 2A46     		mov	r2, r5
 2423 003e 0421     		movs	r1, #4
 2424 0040 0DEB0100 		add	r0, sp, r1
 2425 0044 FFF7FEFF 		bl	spi_write_read
 2426              	.LVL281:
 732:Drivers/LTC681x/LTC681x.c ****   cs_high(CS_PIN);
 2427              		.loc 1 732 0
 2428 0048 0A20     		movs	r0, #10
 2429 004a FFF7FEFF 		bl	cs_high
 2430              	.LVL282:
 733:Drivers/LTC681x/LTC681x.c **** 
 734:Drivers/LTC681x/LTC681x.c **** }
 2431              		.loc 1 734 0
 2432 004e 03B0     		add	sp, sp, #12
 2433              	.LCFI77:
 2434              		.cfi_remember_state
 2435              		.cfi_def_cfa_offset 12
 2436              		@ sp needed
 2437 0050 30BD     		pop	{r4, r5, pc}
 2438              	.LVL283:
 2439              	.L159:
 2440              	.LCFI78:
 2441              		.cfi_restore_state
 711:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2442              		.loc 1 711 0
 2443 0052 1023     		movs	r3, #16
 2444 0054 8DF80530 		strb	r3, [sp, #5]
 712:Drivers/LTC681x/LTC681x.c ****   }
 2445              		.loc 1 712 0
 2446 0058 0023     		movs	r3, #0
 2447 005a 8DF80430 		strb	r3, [sp, #4]
 2448 005e DDE7     		b	.L156
 2449              	.L160:
 716:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2450              		.loc 1 716 0
 2451 0060 1223     		movs	r3, #18
 2452 0062 8DF80530 		strb	r3, [sp, #5]
 717:Drivers/LTC681x/LTC681x.c ****   }
 2453              		.loc 1 717 0
ARM GAS  /tmp/ccMCacDa.s 			page 58


 2454 0066 0023     		movs	r3, #0
 2455 0068 8DF80430 		strb	r3, [sp, #4]
 2456 006c D6E7     		b	.L156
 2457              		.cfi_endproc
 2458              	.LFE33:
 2460              		.section	.text.LTC681x_clrcell,"ax",%progbits
 2461              		.align	1
 2462              		.global	LTC681x_clrcell
 2463              		.syntax unified
 2464              		.thumb
 2465              		.thumb_func
 2466              		.fpu softvfp
 2468              	LTC681x_clrcell:
 2469              	.LFB34:
 735:Drivers/LTC681x/LTC681x.c **** 
 736:Drivers/LTC681x/LTC681x.c **** /*
 737:Drivers/LTC681x/LTC681x.c **** The command clears the cell voltage registers and initializes
 738:Drivers/LTC681x/LTC681x.c **** all values to 1. The register will read back hexadecimal 0xFF
 739:Drivers/LTC681x/LTC681x.c **** after the command is sent.
 740:Drivers/LTC681x/LTC681x.c **** */
 741:Drivers/LTC681x/LTC681x.c **** void LTC681x_clrcell()
 742:Drivers/LTC681x/LTC681x.c **** {
 2470              		.loc 1 742 0
 2471              		.cfi_startproc
 2472              		@ args = 0, pretend = 0, frame = 8
 2473              		@ frame_needed = 0, uses_anonymous_args = 0
 2474 0000 00B5     		push	{lr}
 2475              	.LCFI79:
 2476              		.cfi_def_cfa_offset 4
 2477              		.cfi_offset 14, -4
 2478 0002 83B0     		sub	sp, sp, #12
 2479              	.LCFI80:
 2480              		.cfi_def_cfa_offset 16
 743:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2]= {0x07 , 0x11};
 2481              		.loc 1 743 0
 2482 0004 044B     		ldr	r3, .L163
 2483 0006 9B88     		ldrh	r3, [r3, #4]
 2484 0008 02A8     		add	r0, sp, #8
 2485 000a 20F8043D 		strh	r3, [r0, #-4]!	@ movhi
 744:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 2486              		.loc 1 744 0
 2487 000e FFF7FEFF 		bl	cmd_68
 2488              	.LVL284:
 745:Drivers/LTC681x/LTC681x.c **** }
 2489              		.loc 1 745 0
 2490 0012 03B0     		add	sp, sp, #12
 2491              	.LCFI81:
 2492              		.cfi_def_cfa_offset 4
 2493              		@ sp needed
 2494 0014 5DF804FB 		ldr	pc, [sp], #4
 2495              	.L164:
 2496              		.align	2
 2497              	.L163:
 2498 0018 00000000 		.word	.LANCHOR1
 2499              		.cfi_endproc
 2500              	.LFE34:
 2502              		.section	.text.LTC681x_clraux,"ax",%progbits
ARM GAS  /tmp/ccMCacDa.s 			page 59


 2503              		.align	1
 2504              		.global	LTC681x_clraux
 2505              		.syntax unified
 2506              		.thumb
 2507              		.thumb_func
 2508              		.fpu softvfp
 2510              	LTC681x_clraux:
 2511              	.LFB35:
 746:Drivers/LTC681x/LTC681x.c **** 
 747:Drivers/LTC681x/LTC681x.c **** /*
 748:Drivers/LTC681x/LTC681x.c **** The command clears the Auxiliary registers and initializes
 749:Drivers/LTC681x/LTC681x.c **** all values to 1. The register will read back hexadecimal 0xFF
 750:Drivers/LTC681x/LTC681x.c **** after the command is sent.
 751:Drivers/LTC681x/LTC681x.c **** */
 752:Drivers/LTC681x/LTC681x.c **** void LTC681x_clraux()
 753:Drivers/LTC681x/LTC681x.c **** {
 2512              		.loc 1 753 0
 2513              		.cfi_startproc
 2514              		@ args = 0, pretend = 0, frame = 8
 2515              		@ frame_needed = 0, uses_anonymous_args = 0
 2516 0000 00B5     		push	{lr}
 2517              	.LCFI82:
 2518              		.cfi_def_cfa_offset 4
 2519              		.cfi_offset 14, -4
 2520 0002 83B0     		sub	sp, sp, #12
 2521              	.LCFI83:
 2522              		.cfi_def_cfa_offset 16
 754:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2]= {0x07 , 0x12};
 2523              		.loc 1 754 0
 2524 0004 044B     		ldr	r3, .L167
 2525 0006 1B89     		ldrh	r3, [r3, #8]
 2526 0008 02A8     		add	r0, sp, #8
 2527 000a 20F8043D 		strh	r3, [r0, #-4]!	@ movhi
 755:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 2528              		.loc 1 755 0
 2529 000e FFF7FEFF 		bl	cmd_68
 2530              	.LVL285:
 756:Drivers/LTC681x/LTC681x.c **** }
 2531              		.loc 1 756 0
 2532 0012 03B0     		add	sp, sp, #12
 2533              	.LCFI84:
 2534              		.cfi_def_cfa_offset 4
 2535              		@ sp needed
 2536 0014 5DF804FB 		ldr	pc, [sp], #4
 2537              	.L168:
 2538              		.align	2
 2539              	.L167:
 2540 0018 00000000 		.word	.LANCHOR1
 2541              		.cfi_endproc
 2542              	.LFE35:
 2544              		.section	.text.LTC681x_clrstat,"ax",%progbits
 2545              		.align	1
 2546              		.global	LTC681x_clrstat
 2547              		.syntax unified
 2548              		.thumb
 2549              		.thumb_func
 2550              		.fpu softvfp
ARM GAS  /tmp/ccMCacDa.s 			page 60


 2552              	LTC681x_clrstat:
 2553              	.LFB36:
 757:Drivers/LTC681x/LTC681x.c **** 
 758:Drivers/LTC681x/LTC681x.c **** 
 759:Drivers/LTC681x/LTC681x.c **** /*
 760:Drivers/LTC681x/LTC681x.c **** The command clears the Stat registers and initializes
 761:Drivers/LTC681x/LTC681x.c **** all values to 1. The register will read back hexadecimal 0xFF
 762:Drivers/LTC681x/LTC681x.c **** after the command is sent.
 763:Drivers/LTC681x/LTC681x.c **** 
 764:Drivers/LTC681x/LTC681x.c **** */
 765:Drivers/LTC681x/LTC681x.c **** void LTC681x_clrstat()
 766:Drivers/LTC681x/LTC681x.c **** {
 2554              		.loc 1 766 0
 2555              		.cfi_startproc
 2556              		@ args = 0, pretend = 0, frame = 8
 2557              		@ frame_needed = 0, uses_anonymous_args = 0
 2558 0000 00B5     		push	{lr}
 2559              	.LCFI85:
 2560              		.cfi_def_cfa_offset 4
 2561              		.cfi_offset 14, -4
 2562 0002 83B0     		sub	sp, sp, #12
 2563              	.LCFI86:
 2564              		.cfi_def_cfa_offset 16
 767:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2]= {0x07 , 0x13};
 2565              		.loc 1 767 0
 2566 0004 044B     		ldr	r3, .L171
 2567 0006 9B89     		ldrh	r3, [r3, #12]
 2568 0008 02A8     		add	r0, sp, #8
 2569 000a 20F8043D 		strh	r3, [r0, #-4]!	@ movhi
 768:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 2570              		.loc 1 768 0
 2571 000e FFF7FEFF 		bl	cmd_68
 2572              	.LVL286:
 769:Drivers/LTC681x/LTC681x.c **** }
 2573              		.loc 1 769 0
 2574 0012 03B0     		add	sp, sp, #12
 2575              	.LCFI87:
 2576              		.cfi_def_cfa_offset 4
 2577              		@ sp needed
 2578 0014 5DF804FB 		ldr	pc, [sp], #4
 2579              	.L172:
 2580              		.align	2
 2581              	.L171:
 2582 0018 00000000 		.word	.LANCHOR1
 2583              		.cfi_endproc
 2584              	.LFE36:
 2586              		.section	.text.LTC681x_clrsctrl,"ax",%progbits
 2587              		.align	1
 2588              		.global	LTC681x_clrsctrl
 2589              		.syntax unified
 2590              		.thumb
 2591              		.thumb_func
 2592              		.fpu softvfp
 2594              	LTC681x_clrsctrl:
 2595              	.LFB37:
 770:Drivers/LTC681x/LTC681x.c **** 
 771:Drivers/LTC681x/LTC681x.c **** /*
ARM GAS  /tmp/ccMCacDa.s 			page 61


 772:Drivers/LTC681x/LTC681x.c **** The command clears the Sctrl registers and initializes
 773:Drivers/LTC681x/LTC681x.c **** all values to 0. The register will read back hexadecimal 0x00
 774:Drivers/LTC681x/LTC681x.c **** after the command is sent.
 775:Drivers/LTC681x/LTC681x.c **** */
 776:Drivers/LTC681x/LTC681x.c **** void LTC681x_clrsctrl()
 777:Drivers/LTC681x/LTC681x.c **** {
 2596              		.loc 1 777 0
 2597              		.cfi_startproc
 2598              		@ args = 0, pretend = 0, frame = 8
 2599              		@ frame_needed = 0, uses_anonymous_args = 0
 2600 0000 00B5     		push	{lr}
 2601              	.LCFI88:
 2602              		.cfi_def_cfa_offset 4
 2603              		.cfi_offset 14, -4
 2604 0002 83B0     		sub	sp, sp, #12
 2605              	.LCFI89:
 2606              		.cfi_def_cfa_offset 16
 778:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2]= {0x00 , 0x18};
 2607              		.loc 1 778 0
 2608 0004 0023     		movs	r3, #0
 2609 0006 8DF80430 		strb	r3, [sp, #4]
 2610 000a 1823     		movs	r3, #24
 2611 000c 8DF80530 		strb	r3, [sp, #5]
 779:Drivers/LTC681x/LTC681x.c ****   cmd_68(cmd);
 2612              		.loc 1 779 0
 2613 0010 01A8     		add	r0, sp, #4
 2614 0012 FFF7FEFF 		bl	cmd_68
 2615              	.LVL287:
 780:Drivers/LTC681x/LTC681x.c **** }
 2616              		.loc 1 780 0
 2617 0016 03B0     		add	sp, sp, #12
 2618              	.LCFI90:
 2619              		.cfi_def_cfa_offset 4
 2620              		@ sp needed
 2621 0018 5DF804FB 		ldr	pc, [sp], #4
 2622              		.cfi_endproc
 2623              	.LFE37:
 2625              		.section	.text.LTC681x_wrcfg,"ax",%progbits
 2626              		.align	1
 2627              		.global	LTC681x_wrcfg
 2628              		.syntax unified
 2629              		.thumb
 2630              		.thumb_func
 2631              		.fpu softvfp
 2633              	LTC681x_wrcfg:
 2634              	.LFB41:
 781:Drivers/LTC681x/LTC681x.c **** 
 782:Drivers/LTC681x/LTC681x.c **** //Reads and parses the LTC681x cell voltage registers.
 783:Drivers/LTC681x/LTC681x.c **** uint8_t LTC681x_rdcv(uint8_t reg, // Controls which cell voltage register is read back.
 784:Drivers/LTC681x/LTC681x.c ****                      uint8_t total_ic, // the number of ICs in the system
 785:Drivers/LTC681x/LTC681x.c ****                      cell_asic *ic // Array of the parsed cell codes
 786:Drivers/LTC681x/LTC681x.c ****                     )
 787:Drivers/LTC681x/LTC681x.c **** {
 788:Drivers/LTC681x/LTC681x.c ****   int8_t pec_error = 0;
 789:Drivers/LTC681x/LTC681x.c ****   uint8_t *cell_data;
 790:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic = 0;
 791:Drivers/LTC681x/LTC681x.c ****   cell_data = (uint8_t *) malloc((NUM_RX_BYT*total_ic)*sizeof(uint8_t));
ARM GAS  /tmp/ccMCacDa.s 			page 62


 792:Drivers/LTC681x/LTC681x.c **** 
 793:Drivers/LTC681x/LTC681x.c ****   if (reg == 0)
 794:Drivers/LTC681x/LTC681x.c ****   {
 795:Drivers/LTC681x/LTC681x.c ****     for (uint8_t cell_reg = 1; cell_reg<ic[0].ic_reg.num_cv_reg+1; cell_reg++) //executes once for 
 796:Drivers/LTC681x/LTC681x.c ****     {
 797:Drivers/LTC681x/LTC681x.c ****       LTC681x_rdcv_reg(cell_reg, total_ic,cell_data );
 798:Drivers/LTC681x/LTC681x.c ****       for (int current_ic = 0; current_ic<total_ic; current_ic++)
 799:Drivers/LTC681x/LTC681x.c ****       {
 800:Drivers/LTC681x/LTC681x.c ****         if (ic->isospi_reverse == false)
 801:Drivers/LTC681x/LTC681x.c ****         {
 802:Drivers/LTC681x/LTC681x.c ****           c_ic = current_ic;
 803:Drivers/LTC681x/LTC681x.c ****         }
 804:Drivers/LTC681x/LTC681x.c ****         else
 805:Drivers/LTC681x/LTC681x.c ****         {
 806:Drivers/LTC681x/LTC681x.c ****           c_ic = total_ic - current_ic - 1;
 807:Drivers/LTC681x/LTC681x.c ****         }
 808:Drivers/LTC681x/LTC681x.c ****         pec_error = pec_error + parse_cells(current_ic,cell_reg, cell_data,
 809:Drivers/LTC681x/LTC681x.c ****                                             &ic[c_ic].cells.c_codes[0],
 810:Drivers/LTC681x/LTC681x.c ****                                             &ic[c_ic].cells.pec_match[0]);
 811:Drivers/LTC681x/LTC681x.c ****       }
 812:Drivers/LTC681x/LTC681x.c ****     }
 813:Drivers/LTC681x/LTC681x.c ****    }
 814:Drivers/LTC681x/LTC681x.c **** 
 815:Drivers/LTC681x/LTC681x.c ****   else
 816:Drivers/LTC681x/LTC681x.c ****   {
 817:Drivers/LTC681x/LTC681x.c ****     LTC681x_rdcv_reg(reg, total_ic,cell_data);
 818:Drivers/LTC681x/LTC681x.c **** 
 819:Drivers/LTC681x/LTC681x.c ****     for (int current_ic = 0; current_ic<total_ic; current_ic++)
 820:Drivers/LTC681x/LTC681x.c ****     {
 821:Drivers/LTC681x/LTC681x.c ****       if (ic->isospi_reverse == false)
 822:Drivers/LTC681x/LTC681x.c ****       {
 823:Drivers/LTC681x/LTC681x.c ****         c_ic = current_ic;
 824:Drivers/LTC681x/LTC681x.c ****       }
 825:Drivers/LTC681x/LTC681x.c ****       else
 826:Drivers/LTC681x/LTC681x.c ****       {
 827:Drivers/LTC681x/LTC681x.c ****         c_ic = total_ic - current_ic - 1;
 828:Drivers/LTC681x/LTC681x.c ****       }
 829:Drivers/LTC681x/LTC681x.c ****       pec_error = pec_error + parse_cells(current_ic,reg, &cell_data[8*c_ic],
 830:Drivers/LTC681x/LTC681x.c ****                                           &ic[c_ic].cells.c_codes[0],
 831:Drivers/LTC681x/LTC681x.c ****                                           &ic[c_ic].cells.pec_match[0]);
 832:Drivers/LTC681x/LTC681x.c ****     }
 833:Drivers/LTC681x/LTC681x.c ****   }
 834:Drivers/LTC681x/LTC681x.c ****   LTC681x_check_pec(total_ic,CELL,ic);
 835:Drivers/LTC681x/LTC681x.c ****   free(cell_data);
 836:Drivers/LTC681x/LTC681x.c ****   return(pec_error);
 837:Drivers/LTC681x/LTC681x.c **** }
 838:Drivers/LTC681x/LTC681x.c **** 
 839:Drivers/LTC681x/LTC681x.c **** /*
 840:Drivers/LTC681x/LTC681x.c **** The function is used
 841:Drivers/LTC681x/LTC681x.c **** to read the  parsed GPIO codes of the LTC6811. This function will send the requested
 842:Drivers/LTC681x/LTC681x.c **** read commands parse the data and store the gpio voltages in aux_codes variable
 843:Drivers/LTC681x/LTC681x.c **** */
 844:Drivers/LTC681x/LTC681x.c **** int8_t LTC681x_rdaux(uint8_t reg, //Determines which GPIO voltage register is read back.
 845:Drivers/LTC681x/LTC681x.c ****                      uint8_t total_ic,//the number of ICs in the system
 846:Drivers/LTC681x/LTC681x.c ****                      cell_asic *ic//A two dimensional array of the gpio voltage codes.
 847:Drivers/LTC681x/LTC681x.c ****                     )
 848:Drivers/LTC681x/LTC681x.c **** {
ARM GAS  /tmp/ccMCacDa.s 			page 63


 849:Drivers/LTC681x/LTC681x.c ****   uint8_t *data;
 850:Drivers/LTC681x/LTC681x.c ****   int8_t pec_error = 0;
 851:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic =0;
 852:Drivers/LTC681x/LTC681x.c ****   data = (uint8_t *) malloc((NUM_RX_BYT*total_ic)*sizeof(uint8_t));
 853:Drivers/LTC681x/LTC681x.c **** 
 854:Drivers/LTC681x/LTC681x.c ****   if (reg == 0)
 855:Drivers/LTC681x/LTC681x.c ****   {
 856:Drivers/LTC681x/LTC681x.c ****     for (uint8_t gpio_reg = 1; gpio_reg<ic[0].ic_reg.num_gpio_reg+1; gpio_reg++) //executes once fo
 857:Drivers/LTC681x/LTC681x.c ****     {
 858:Drivers/LTC681x/LTC681x.c ****       LTC681x_rdaux_reg(gpio_reg, total_ic,data);                 //Reads the raw auxiliary registe
 859:Drivers/LTC681x/LTC681x.c ****       for (int current_ic = 0; current_ic<total_ic; current_ic++)
 860:Drivers/LTC681x/LTC681x.c ****       {
 861:Drivers/LTC681x/LTC681x.c ****         if (ic->isospi_reverse == false)
 862:Drivers/LTC681x/LTC681x.c ****         {
 863:Drivers/LTC681x/LTC681x.c ****           c_ic = current_ic;
 864:Drivers/LTC681x/LTC681x.c ****         }
 865:Drivers/LTC681x/LTC681x.c ****         else
 866:Drivers/LTC681x/LTC681x.c ****         {
 867:Drivers/LTC681x/LTC681x.c ****           c_ic = total_ic - current_ic - 1;
 868:Drivers/LTC681x/LTC681x.c ****         }
 869:Drivers/LTC681x/LTC681x.c ****         pec_error = parse_cells(current_ic,gpio_reg, data,
 870:Drivers/LTC681x/LTC681x.c ****                                 &ic[c_ic].aux.a_codes[0],
 871:Drivers/LTC681x/LTC681x.c ****                                 &ic[c_ic].aux.pec_match[0]);
 872:Drivers/LTC681x/LTC681x.c **** 
 873:Drivers/LTC681x/LTC681x.c ****       }
 874:Drivers/LTC681x/LTC681x.c ****     }
 875:Drivers/LTC681x/LTC681x.c ****   }
 876:Drivers/LTC681x/LTC681x.c ****   else
 877:Drivers/LTC681x/LTC681x.c ****   {
 878:Drivers/LTC681x/LTC681x.c ****     LTC681x_rdaux_reg(reg, total_ic, data);
 879:Drivers/LTC681x/LTC681x.c **** 
 880:Drivers/LTC681x/LTC681x.c ****     for (int current_ic = 0; current_ic<total_ic; current_ic++)
 881:Drivers/LTC681x/LTC681x.c ****     {
 882:Drivers/LTC681x/LTC681x.c ****       if (ic->isospi_reverse == false)
 883:Drivers/LTC681x/LTC681x.c ****       {
 884:Drivers/LTC681x/LTC681x.c ****         c_ic = current_ic;
 885:Drivers/LTC681x/LTC681x.c ****       }
 886:Drivers/LTC681x/LTC681x.c ****       else
 887:Drivers/LTC681x/LTC681x.c ****       {
 888:Drivers/LTC681x/LTC681x.c ****         c_ic = total_ic - current_ic - 1;
 889:Drivers/LTC681x/LTC681x.c ****       }
 890:Drivers/LTC681x/LTC681x.c ****       pec_error = parse_cells(current_ic,reg, data,
 891:Drivers/LTC681x/LTC681x.c ****                               &ic[c_ic].aux.a_codes[0],
 892:Drivers/LTC681x/LTC681x.c ****                               &ic[c_ic].aux.pec_match[0]);
 893:Drivers/LTC681x/LTC681x.c ****     }
 894:Drivers/LTC681x/LTC681x.c **** 
 895:Drivers/LTC681x/LTC681x.c ****   }
 896:Drivers/LTC681x/LTC681x.c ****   LTC681x_check_pec(total_ic,AUX,ic);
 897:Drivers/LTC681x/LTC681x.c ****   free(data);
 898:Drivers/LTC681x/LTC681x.c ****   return (pec_error);
 899:Drivers/LTC681x/LTC681x.c **** }
 900:Drivers/LTC681x/LTC681x.c **** 
 901:Drivers/LTC681x/LTC681x.c **** // Reads and parses the LTC681x stat registers.
 902:Drivers/LTC681x/LTC681x.c **** int8_t LTC681x_rdstat(uint8_t reg, //Determines which Stat  register is read back.
 903:Drivers/LTC681x/LTC681x.c ****                       uint8_t total_ic,//the number of ICs in the system
 904:Drivers/LTC681x/LTC681x.c ****                       cell_asic *ic
 905:Drivers/LTC681x/LTC681x.c ****                      )
ARM GAS  /tmp/ccMCacDa.s 			page 64


 906:Drivers/LTC681x/LTC681x.c **** 
 907:Drivers/LTC681x/LTC681x.c **** {
 908:Drivers/LTC681x/LTC681x.c ****   const uint8_t BYT_IN_REG = 6;
 909:Drivers/LTC681x/LTC681x.c ****   const uint8_t GPIO_IN_REG = 3;
 910:Drivers/LTC681x/LTC681x.c **** 
 911:Drivers/LTC681x/LTC681x.c ****   uint8_t *data;
 912:Drivers/LTC681x/LTC681x.c ****   uint8_t data_counter = 0;
 913:Drivers/LTC681x/LTC681x.c ****   int8_t pec_error = 0;
 914:Drivers/LTC681x/LTC681x.c ****   uint16_t parsed_stat;
 915:Drivers/LTC681x/LTC681x.c ****   uint16_t received_pec;
 916:Drivers/LTC681x/LTC681x.c ****   uint16_t data_pec;
 917:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic = 0;
 918:Drivers/LTC681x/LTC681x.c ****   data = (uint8_t *) malloc((12*total_ic)*sizeof(uint8_t));
 919:Drivers/LTC681x/LTC681x.c **** 
 920:Drivers/LTC681x/LTC681x.c ****   if (reg == 0)
 921:Drivers/LTC681x/LTC681x.c ****   {
 922:Drivers/LTC681x/LTC681x.c **** 
 923:Drivers/LTC681x/LTC681x.c ****     for (uint8_t stat_reg = 1; stat_reg< 3; stat_reg++)                      //executes once for ea
 924:Drivers/LTC681x/LTC681x.c ****     {
 925:Drivers/LTC681x/LTC681x.c ****       data_counter = 0;
 926:Drivers/LTC681x/LTC681x.c ****       LTC681x_rdstat_reg(stat_reg, total_ic,data);                            //Reads the raw statu
 927:Drivers/LTC681x/LTC681x.c **** 
 928:Drivers/LTC681x/LTC681x.c ****       for (uint8_t current_ic = 0 ; current_ic < total_ic; current_ic++)      // executes for every
 929:Drivers/LTC681x/LTC681x.c ****       {
 930:Drivers/LTC681x/LTC681x.c ****         if (ic->isospi_reverse == false)
 931:Drivers/LTC681x/LTC681x.c ****         {
 932:Drivers/LTC681x/LTC681x.c ****           c_ic = current_ic;
 933:Drivers/LTC681x/LTC681x.c ****         }
 934:Drivers/LTC681x/LTC681x.c ****         else
 935:Drivers/LTC681x/LTC681x.c ****         {
 936:Drivers/LTC681x/LTC681x.c ****           c_ic = total_ic - current_ic - 1;
 937:Drivers/LTC681x/LTC681x.c ****         }
 938:Drivers/LTC681x/LTC681x.c ****         // current_ic is used as the IC counter
 939:Drivers/LTC681x/LTC681x.c ****         if (stat_reg ==1)
 940:Drivers/LTC681x/LTC681x.c ****         {
 941:Drivers/LTC681x/LTC681x.c ****           for (uint8_t current_gpio = 0; current_gpio< GPIO_IN_REG; current_gpio++) // This loop pa
 942:Drivers/LTC681x/LTC681x.c ****           {
 943:Drivers/LTC681x/LTC681x.c ****             // loops once for each of the 3 gpio voltage codes in the register
 944:Drivers/LTC681x/LTC681x.c **** 
 945:Drivers/LTC681x/LTC681x.c ****             parsed_stat = data[data_counter] + (data[data_counter+1]<<8);              //Each gpio 
 946:Drivers/LTC681x/LTC681x.c ****             ic[c_ic].stat.stat_codes[current_gpio] = parsed_stat;
 947:Drivers/LTC681x/LTC681x.c ****             data_counter=data_counter+2;                                               //Because gp
 948:Drivers/LTC681x/LTC681x.c **** 
 949:Drivers/LTC681x/LTC681x.c ****           }
 950:Drivers/LTC681x/LTC681x.c ****         }
 951:Drivers/LTC681x/LTC681x.c ****         else if (stat_reg == 2)
 952:Drivers/LTC681x/LTC681x.c ****         {
 953:Drivers/LTC681x/LTC681x.c ****           parsed_stat = data[data_counter] + (data[data_counter+1]<<8);              //Each gpio co
 954:Drivers/LTC681x/LTC681x.c ****           data_counter = data_counter +2;
 955:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.stat_codes[3] = parsed_stat;
 956:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.flags[0] = data[data_counter++];
 957:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.flags[1] = data[data_counter++];
 958:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.flags[2] = data[data_counter++];
 959:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.mux_fail[0] = (data[data_counter] & 0x02)>>1;
 960:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.thsd[0] = data[data_counter++] & 0x01;
 961:Drivers/LTC681x/LTC681x.c ****         }
 962:Drivers/LTC681x/LTC681x.c **** 
ARM GAS  /tmp/ccMCacDa.s 			page 65


 963:Drivers/LTC681x/LTC681x.c ****         received_pec = (data[data_counter]<<8)+ data[data_counter+1];          //The received PEC f
 964:Drivers/LTC681x/LTC681x.c **** 																			  //after the 6 gpio voltage data bytes
 965:Drivers/LTC681x/LTC681x.c ****         data_pec = pec15_calc(BYT_IN_REG, &data[current_ic*NUM_RX_BYT]);
 966:Drivers/LTC681x/LTC681x.c **** 
 967:Drivers/LTC681x/LTC681x.c ****         if (received_pec != data_pec)
 968:Drivers/LTC681x/LTC681x.c ****         {
 969:Drivers/LTC681x/LTC681x.c ****           pec_error = -1; //The pec_error variable is simply set negative if any PEC errors
 970:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.pec_match[stat_reg-1]=1;  //are detected in the received serial data
 971:Drivers/LTC681x/LTC681x.c ****           
 972:Drivers/LTC681x/LTC681x.c ****         }
 973:Drivers/LTC681x/LTC681x.c ****         else
 974:Drivers/LTC681x/LTC681x.c ****         {
 975:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.pec_match[stat_reg-1]=0;
 976:Drivers/LTC681x/LTC681x.c ****         }
 977:Drivers/LTC681x/LTC681x.c **** 
 978:Drivers/LTC681x/LTC681x.c ****         data_counter=data_counter+2;                        //Because the transmitted PEC code is 2
 979:Drivers/LTC681x/LTC681x.c **** 															//must be incremented by 2 bytes to point to the next ICs gpio voltage data
 980:Drivers/LTC681x/LTC681x.c ****       }
 981:Drivers/LTC681x/LTC681x.c **** 
 982:Drivers/LTC681x/LTC681x.c **** 
 983:Drivers/LTC681x/LTC681x.c ****     }
 984:Drivers/LTC681x/LTC681x.c **** 
 985:Drivers/LTC681x/LTC681x.c ****   }
 986:Drivers/LTC681x/LTC681x.c ****   else
 987:Drivers/LTC681x/LTC681x.c ****   {
 988:Drivers/LTC681x/LTC681x.c **** 
 989:Drivers/LTC681x/LTC681x.c ****     LTC681x_rdstat_reg(reg, total_ic, data);
 990:Drivers/LTC681x/LTC681x.c ****     for (int current_ic = 0 ; current_ic < total_ic; current_ic++)            // executes for every
 991:Drivers/LTC681x/LTC681x.c ****     {																		  // current_ic is used as an IC counter
 992:Drivers/LTC681x/LTC681x.c **** 																				
 993:Drivers/LTC681x/LTC681x.c ****       if (ic->isospi_reverse == false)
 994:Drivers/LTC681x/LTC681x.c ****       {
 995:Drivers/LTC681x/LTC681x.c ****         c_ic = current_ic;
 996:Drivers/LTC681x/LTC681x.c ****       }
 997:Drivers/LTC681x/LTC681x.c ****       else
 998:Drivers/LTC681x/LTC681x.c ****       {
 999:Drivers/LTC681x/LTC681x.c ****         c_ic = total_ic - current_ic - 1;
1000:Drivers/LTC681x/LTC681x.c ****       }
1001:Drivers/LTC681x/LTC681x.c ****       if (reg ==1)
1002:Drivers/LTC681x/LTC681x.c ****       {
1003:Drivers/LTC681x/LTC681x.c ****         for (uint8_t current_gpio = 0; current_gpio< GPIO_IN_REG; current_gpio++) // This loop pars
1004:Drivers/LTC681x/LTC681x.c ****         {																		  // loops once for each of the 3 gpio voltage codes in the register
1005:Drivers/LTC681x/LTC681x.c ****           
1006:Drivers/LTC681x/LTC681x.c ****           parsed_stat = data[data_counter] + (data[data_counter+1]<<8);              //Each gpio co
1007:Drivers/LTC681x/LTC681x.c **** 																					 // create the parsed gpio voltage code
1008:Drivers/LTC681x/LTC681x.c **** 
1009:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.stat_codes[current_gpio] = parsed_stat;
1010:Drivers/LTC681x/LTC681x.c ****           data_counter=data_counter+2;                        //Because gpio voltage codes are two 
1011:Drivers/LTC681x/LTC681x.c **** 															 //must increment by two for each parsed gpio voltage code
1012:Drivers/LTC681x/LTC681x.c **** 
1013:Drivers/LTC681x/LTC681x.c ****         }
1014:Drivers/LTC681x/LTC681x.c ****       }
1015:Drivers/LTC681x/LTC681x.c ****       else if (reg == 2)
1016:Drivers/LTC681x/LTC681x.c ****       {
1017:Drivers/LTC681x/LTC681x.c ****         parsed_stat = data[data_counter++] + (data[data_counter++]<<8);              //Each gpio co
1018:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.stat_codes[3] = parsed_stat;
1019:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.flags[0] = data[data_counter++];
ARM GAS  /tmp/ccMCacDa.s 			page 66


1020:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.flags[1] = data[data_counter++];
1021:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.flags[2] = data[data_counter++];
1022:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.mux_fail[0] = (data[data_counter] & 0x02)>>1;
1023:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.thsd[0] = data[data_counter++] & 0x01;
1024:Drivers/LTC681x/LTC681x.c ****       }
1025:Drivers/LTC681x/LTC681x.c **** 
1026:Drivers/LTC681x/LTC681x.c **** 
1027:Drivers/LTC681x/LTC681x.c ****       received_pec = (data[data_counter]<<8)+ data[data_counter+1];          //The received PEC for
1028:Drivers/LTC681x/LTC681x.c **** 																			//after the 6 gpio voltage data bytes
1029:Drivers/LTC681x/LTC681x.c ****       data_pec = pec15_calc(BYT_IN_REG, &data[current_ic*NUM_RX_BYT]);
1030:Drivers/LTC681x/LTC681x.c ****       if (received_pec != data_pec)
1031:Drivers/LTC681x/LTC681x.c ****       {
1032:Drivers/LTC681x/LTC681x.c ****         pec_error = -1;                             //The pec_error variable is simply set negative
1033:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.pec_match[reg-1]=1;
1034:Drivers/LTC681x/LTC681x.c **** 
1035:Drivers/LTC681x/LTC681x.c ****       }
1036:Drivers/LTC681x/LTC681x.c **** 
1037:Drivers/LTC681x/LTC681x.c ****       data_counter=data_counter+2;
1038:Drivers/LTC681x/LTC681x.c ****     }
1039:Drivers/LTC681x/LTC681x.c ****   }
1040:Drivers/LTC681x/LTC681x.c ****   LTC681x_check_pec(total_ic,STAT,ic);
1041:Drivers/LTC681x/LTC681x.c ****   free(data);
1042:Drivers/LTC681x/LTC681x.c ****   return (pec_error);
1043:Drivers/LTC681x/LTC681x.c **** }
1044:Drivers/LTC681x/LTC681x.c **** 
1045:Drivers/LTC681x/LTC681x.c **** //Write the LTC681x CFGRA
1046:Drivers/LTC681x/LTC681x.c **** void LTC681x_wrcfg(uint8_t total_ic, //The number of ICs being written to
1047:Drivers/LTC681x/LTC681x.c ****                    cell_asic ic[]
1048:Drivers/LTC681x/LTC681x.c ****                   )
1049:Drivers/LTC681x/LTC681x.c **** {
 2635              		.loc 1 1049 0
 2636              		.cfi_startproc
 2637              		@ args = 0, pretend = 0, frame = 264
 2638              		@ frame_needed = 0, uses_anonymous_args = 0
 2639              	.LVL288:
 2640 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2641              	.LCFI91:
 2642              		.cfi_def_cfa_offset 20
 2643              		.cfi_offset 4, -20
 2644              		.cfi_offset 5, -16
 2645              		.cfi_offset 6, -12
 2646              		.cfi_offset 7, -8
 2647              		.cfi_offset 14, -4
 2648 0002 C3B0     		sub	sp, sp, #268
 2649              	.LCFI92:
 2650              		.cfi_def_cfa_offset 288
1050:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2] = {0x00 , 0x01} ;
 2651              		.loc 1 1050 0
 2652 0004 0022     		movs	r2, #0
 2653 0006 8DF80421 		strb	r2, [sp, #260]
 2654 000a 0123     		movs	r3, #1
 2655 000c 8DF80531 		strb	r3, [sp, #261]
 2656              	.LVL289:
 2657              	.LBB24:
1051:Drivers/LTC681x/LTC681x.c ****   uint8_t write_buffer[256];
1052:Drivers/LTC681x/LTC681x.c ****   uint8_t write_count = 0;
1053:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic = 0;
ARM GAS  /tmp/ccMCacDa.s 			page 67


1054:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_ic = 0; current_ic<total_ic; current_ic++)
 2658              		.loc 1 1054 0
 2659 0010 1746     		mov	r7, r2
 2660 0012 10E0     		b	.L176
 2661              	.LVL290:
 2662              	.L181:
1055:Drivers/LTC681x/LTC681x.c ****   {
1056:Drivers/LTC681x/LTC681x.c ****     if (ic->isospi_reverse == true)
1057:Drivers/LTC681x/LTC681x.c ****     {
1058:Drivers/LTC681x/LTC681x.c ****       c_ic = current_ic;
 2663              		.loc 1 1058 0
 2664 0014 3E46     		mov	r6, r7
 2665 0016 18E0     		b	.L177
 2666              	.LVL291:
 2667              	.L179:
 2668              	.LBB25:
1059:Drivers/LTC681x/LTC681x.c ****     }
1060:Drivers/LTC681x/LTC681x.c ****     else
1061:Drivers/LTC681x/LTC681x.c ****     {
1062:Drivers/LTC681x/LTC681x.c ****       c_ic = total_ic - current_ic - 1;
1063:Drivers/LTC681x/LTC681x.c ****     }
1064:Drivers/LTC681x/LTC681x.c **** 
1065:Drivers/LTC681x/LTC681x.c ****     for (uint8_t data = 0; data<6; data++)
1066:Drivers/LTC681x/LTC681x.c ****     {
1067:Drivers/LTC681x/LTC681x.c ****       write_buffer[write_count] = ic[c_ic].config.tx_data[data];
 2669              		.loc 1 1067 0 discriminator 3
 2670 0018 C6EBC605 		rsb	r5, r6, r6, lsl #3
 2671 001c 6C01     		lsls	r4, r5, #5
 2672 001e 0C44     		add	r4, r4, r1
 2673 0020 E55C     		ldrb	r5, [r4, r3]	@ zero_extendqisi2
 2674 0022 01AC     		add	r4, sp, #4
 2675 0024 A554     		strb	r5, [r4, r2]
1068:Drivers/LTC681x/LTC681x.c ****       write_count++;
 2676              		.loc 1 1068 0 discriminator 3
 2677 0026 0132     		adds	r2, r2, #1
 2678              	.LVL292:
 2679 0028 D2B2     		uxtb	r2, r2
 2680              	.LVL293:
1065:Drivers/LTC681x/LTC681x.c ****     {
 2681              		.loc 1 1065 0 discriminator 3
 2682 002a 0133     		adds	r3, r3, #1
 2683              	.LVL294:
 2684 002c DBB2     		uxtb	r3, r3
 2685              	.LVL295:
 2686              	.L178:
1065:Drivers/LTC681x/LTC681x.c ****     {
 2687              		.loc 1 1065 0 is_stmt 0 discriminator 1
 2688 002e 052B     		cmp	r3, #5
 2689 0030 F2D9     		bls	.L179
 2690              	.LBE25:
1054:Drivers/LTC681x/LTC681x.c ****   {
 2691              		.loc 1 1054 0 is_stmt 1 discriminator 2
 2692 0032 0137     		adds	r7, r7, #1
 2693              	.LVL296:
 2694 0034 FFB2     		uxtb	r7, r7
 2695              	.LVL297:
 2696              	.L176:
ARM GAS  /tmp/ccMCacDa.s 			page 68


1054:Drivers/LTC681x/LTC681x.c ****   {
 2697              		.loc 1 1054 0 is_stmt 0 discriminator 1
 2698 0036 8742     		cmp	r7, r0
 2699 0038 09D2     		bcs	.L183
1056:Drivers/LTC681x/LTC681x.c ****     {
 2700              		.loc 1 1056 0 is_stmt 1
 2701 003a 91F8B930 		ldrb	r3, [r1, #185]	@ zero_extendqisi2
 2702 003e 002B     		cmp	r3, #0
 2703 0040 E8D1     		bne	.L181
1062:Drivers/LTC681x/LTC681x.c ****     }
 2704              		.loc 1 1062 0
 2705 0042 C61B     		subs	r6, r0, r7
 2706 0044 F6B2     		uxtb	r6, r6
 2707 0046 013E     		subs	r6, r6, #1
 2708 0048 F6B2     		uxtb	r6, r6
 2709              	.LVL298:
 2710              	.L177:
 2711              	.LBB26:
1065:Drivers/LTC681x/LTC681x.c ****     {
 2712              		.loc 1 1065 0
 2713 004a 0023     		movs	r3, #0
 2714 004c EFE7     		b	.L178
 2715              	.LVL299:
 2716              	.L183:
 2717              	.LBE26:
 2718              	.LBE24:
1069:Drivers/LTC681x/LTC681x.c ****     }
1070:Drivers/LTC681x/LTC681x.c ****   }
1071:Drivers/LTC681x/LTC681x.c ****   write_68(total_ic, cmd, write_buffer);
 2719              		.loc 1 1071 0
 2720 004e 01AA     		add	r2, sp, #4
 2721              	.LVL300:
 2722 0050 41A9     		add	r1, sp, #260
 2723              	.LVL301:
 2724 0052 FFF7FEFF 		bl	write_68
 2725              	.LVL302:
1072:Drivers/LTC681x/LTC681x.c **** }
 2726              		.loc 1 1072 0
 2727 0056 43B0     		add	sp, sp, #268
 2728              	.LCFI93:
 2729              		.cfi_def_cfa_offset 20
 2730              		@ sp needed
 2731 0058 F0BD     		pop	{r4, r5, r6, r7, pc}
 2732              		.cfi_endproc
 2733              	.LFE41:
 2735              		.section	.text.LTC681x_wrcfgb,"ax",%progbits
 2736              		.align	1
 2737              		.global	LTC681x_wrcfgb
 2738              		.syntax unified
 2739              		.thumb
 2740              		.thumb_func
 2741              		.fpu softvfp
 2743              	LTC681x_wrcfgb:
 2744              	.LFB42:
1073:Drivers/LTC681x/LTC681x.c **** 
1074:Drivers/LTC681x/LTC681x.c **** //Write the LTC681x CFGRB
1075:Drivers/LTC681x/LTC681x.c **** void LTC681x_wrcfgb(uint8_t total_ic, //The number of ICs being written to
ARM GAS  /tmp/ccMCacDa.s 			page 69


1076:Drivers/LTC681x/LTC681x.c ****                     cell_asic ic[]
1077:Drivers/LTC681x/LTC681x.c ****                    )
1078:Drivers/LTC681x/LTC681x.c **** {
 2745              		.loc 1 1078 0
 2746              		.cfi_startproc
 2747              		@ args = 0, pretend = 0, frame = 264
 2748              		@ frame_needed = 0, uses_anonymous_args = 0
 2749              	.LVL303:
 2750 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2751              	.LCFI94:
 2752              		.cfi_def_cfa_offset 20
 2753              		.cfi_offset 4, -20
 2754              		.cfi_offset 5, -16
 2755              		.cfi_offset 6, -12
 2756              		.cfi_offset 7, -8
 2757              		.cfi_offset 14, -4
 2758 0002 C3B0     		sub	sp, sp, #268
 2759              	.LCFI95:
 2760              		.cfi_def_cfa_offset 288
1079:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2] = {0x00 , 0x24} ;
 2761              		.loc 1 1079 0
 2762 0004 0024     		movs	r4, #0
 2763 0006 8DF80441 		strb	r4, [sp, #260]
 2764 000a 2423     		movs	r3, #36
 2765 000c 8DF80531 		strb	r3, [sp, #261]
 2766              	.LVL304:
 2767              	.LBB27:
1080:Drivers/LTC681x/LTC681x.c ****   uint8_t write_buffer[256];
1081:Drivers/LTC681x/LTC681x.c ****   uint8_t write_count = 0;
1082:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic = 0;
1083:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_ic = 0; current_ic<total_ic; current_ic++)
 2768              		.loc 1 1083 0
 2769 0010 2746     		mov	r7, r4
 2770 0012 11E0     		b	.L185
 2771              	.LVL305:
 2772              	.L190:
1084:Drivers/LTC681x/LTC681x.c ****   {
1085:Drivers/LTC681x/LTC681x.c ****     if (ic->isospi_reverse == true)
1086:Drivers/LTC681x/LTC681x.c ****     {
1087:Drivers/LTC681x/LTC681x.c ****       c_ic = current_ic;
 2773              		.loc 1 1087 0
 2774 0014 3E46     		mov	r6, r7
 2775 0016 19E0     		b	.L186
 2776              	.LVL306:
 2777              	.L188:
 2778              	.LBB28:
1088:Drivers/LTC681x/LTC681x.c ****     }
1089:Drivers/LTC681x/LTC681x.c ****     else
1090:Drivers/LTC681x/LTC681x.c ****     {
1091:Drivers/LTC681x/LTC681x.c ****       c_ic = total_ic - current_ic - 1;
1092:Drivers/LTC681x/LTC681x.c ****     }
1093:Drivers/LTC681x/LTC681x.c **** 
1094:Drivers/LTC681x/LTC681x.c ****     for (uint8_t data = 0; data<6; data++)
1095:Drivers/LTC681x/LTC681x.c ****     {
1096:Drivers/LTC681x/LTC681x.c ****       write_buffer[write_count] = ic[c_ic].configb.tx_data[data];
 2779              		.loc 1 1096 0 discriminator 3
 2780 0018 C6EBC605 		rsb	r5, r6, r6, lsl #3
ARM GAS  /tmp/ccMCacDa.s 			page 70


 2781 001c 6B01     		lsls	r3, r5, #5
 2782 001e 0B44     		add	r3, r3, r1
 2783 0020 1344     		add	r3, r3, r2
 2784 0022 DD7B     		ldrb	r5, [r3, #15]	@ zero_extendqisi2
 2785 0024 01AB     		add	r3, sp, #4
 2786 0026 1D55     		strb	r5, [r3, r4]
1097:Drivers/LTC681x/LTC681x.c ****       write_count++;
 2787              		.loc 1 1097 0 discriminator 3
 2788 0028 0134     		adds	r4, r4, #1
 2789              	.LVL307:
 2790 002a E4B2     		uxtb	r4, r4
 2791              	.LVL308:
1094:Drivers/LTC681x/LTC681x.c ****     {
 2792              		.loc 1 1094 0 discriminator 3
 2793 002c 0132     		adds	r2, r2, #1
 2794              	.LVL309:
 2795 002e D2B2     		uxtb	r2, r2
 2796              	.LVL310:
 2797              	.L187:
1094:Drivers/LTC681x/LTC681x.c ****     {
 2798              		.loc 1 1094 0 is_stmt 0 discriminator 1
 2799 0030 052A     		cmp	r2, #5
 2800 0032 F1D9     		bls	.L188
 2801              	.LBE28:
1083:Drivers/LTC681x/LTC681x.c ****   {
 2802              		.loc 1 1083 0 is_stmt 1 discriminator 2
 2803 0034 0137     		adds	r7, r7, #1
 2804              	.LVL311:
 2805 0036 FFB2     		uxtb	r7, r7
 2806              	.LVL312:
 2807              	.L185:
1083:Drivers/LTC681x/LTC681x.c ****   {
 2808              		.loc 1 1083 0 is_stmt 0 discriminator 1
 2809 0038 8742     		cmp	r7, r0
 2810 003a 09D2     		bcs	.L192
1085:Drivers/LTC681x/LTC681x.c ****     {
 2811              		.loc 1 1085 0 is_stmt 1
 2812 003c 91F8B930 		ldrb	r3, [r1, #185]	@ zero_extendqisi2
 2813 0040 002B     		cmp	r3, #0
 2814 0042 E7D1     		bne	.L190
1091:Drivers/LTC681x/LTC681x.c ****     }
 2815              		.loc 1 1091 0
 2816 0044 C61B     		subs	r6, r0, r7
 2817 0046 F6B2     		uxtb	r6, r6
 2818 0048 013E     		subs	r6, r6, #1
 2819 004a F6B2     		uxtb	r6, r6
 2820              	.LVL313:
 2821              	.L186:
 2822              	.LBB29:
1094:Drivers/LTC681x/LTC681x.c ****     {
 2823              		.loc 1 1094 0
 2824 004c 0022     		movs	r2, #0
 2825 004e EFE7     		b	.L187
 2826              	.LVL314:
 2827              	.L192:
 2828              	.LBE29:
 2829              	.LBE27:
ARM GAS  /tmp/ccMCacDa.s 			page 71


1098:Drivers/LTC681x/LTC681x.c ****     }
1099:Drivers/LTC681x/LTC681x.c ****   }
1100:Drivers/LTC681x/LTC681x.c ****   write_68(total_ic, cmd, write_buffer);
 2830              		.loc 1 1100 0
 2831 0050 01AA     		add	r2, sp, #4
 2832 0052 41A9     		add	r1, sp, #260
 2833              	.LVL315:
 2834 0054 FFF7FEFF 		bl	write_68
 2835              	.LVL316:
1101:Drivers/LTC681x/LTC681x.c **** }
 2836              		.loc 1 1101 0
 2837 0058 43B0     		add	sp, sp, #268
 2838              	.LCFI96:
 2839              		.cfi_def_cfa_offset 20
 2840              		@ sp needed
 2841 005a F0BD     		pop	{r4, r5, r6, r7, pc}
 2842              		.cfi_endproc
 2843              	.LFE42:
 2845              		.section	.text.LTC681x_wrpwm,"ax",%progbits
 2846              		.align	1
 2847              		.global	LTC681x_wrpwm
 2848              		.syntax unified
 2849              		.thumb
 2850              		.thumb_func
 2851              		.fpu softvfp
 2853              	LTC681x_wrpwm:
 2854              	.LFB45:
1102:Drivers/LTC681x/LTC681x.c **** 
1103:Drivers/LTC681x/LTC681x.c **** //Read CFGA
1104:Drivers/LTC681x/LTC681x.c **** int8_t LTC681x_rdcfg(uint8_t total_ic, //Number of ICs in the system
1105:Drivers/LTC681x/LTC681x.c ****                      cell_asic ic[]
1106:Drivers/LTC681x/LTC681x.c ****                     )
1107:Drivers/LTC681x/LTC681x.c **** {
1108:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2]= {0x00 , 0x02};
1109:Drivers/LTC681x/LTC681x.c ****   uint8_t read_buffer[256];
1110:Drivers/LTC681x/LTC681x.c ****   int8_t pec_error = 0;
1111:Drivers/LTC681x/LTC681x.c ****   uint16_t data_pec;
1112:Drivers/LTC681x/LTC681x.c ****   uint16_t calc_pec;
1113:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic = 0;
1114:Drivers/LTC681x/LTC681x.c ****   pec_error = read_68(total_ic, cmd, read_buffer);
1115:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_ic = 0; current_ic<total_ic; current_ic++)
1116:Drivers/LTC681x/LTC681x.c ****   {
1117:Drivers/LTC681x/LTC681x.c ****     if (ic->isospi_reverse == false)
1118:Drivers/LTC681x/LTC681x.c ****     {
1119:Drivers/LTC681x/LTC681x.c ****       c_ic = current_ic;
1120:Drivers/LTC681x/LTC681x.c ****     }
1121:Drivers/LTC681x/LTC681x.c ****     else
1122:Drivers/LTC681x/LTC681x.c ****     {
1123:Drivers/LTC681x/LTC681x.c ****       c_ic = total_ic - current_ic - 1;
1124:Drivers/LTC681x/LTC681x.c ****     }
1125:Drivers/LTC681x/LTC681x.c **** 
1126:Drivers/LTC681x/LTC681x.c ****     for (int byte=0; byte<8; byte++)
1127:Drivers/LTC681x/LTC681x.c ****     {
1128:Drivers/LTC681x/LTC681x.c ****       ic[c_ic].config.rx_data[byte] = read_buffer[byte+(8*current_ic)];
1129:Drivers/LTC681x/LTC681x.c ****     }
1130:Drivers/LTC681x/LTC681x.c ****     calc_pec = pec15_calc(6,&read_buffer[8*current_ic]);
1131:Drivers/LTC681x/LTC681x.c ****     data_pec = read_buffer[7+(8*current_ic)] | (read_buffer[6+(8*current_ic)]<<8);
ARM GAS  /tmp/ccMCacDa.s 			page 72


1132:Drivers/LTC681x/LTC681x.c ****     if (calc_pec != data_pec )
1133:Drivers/LTC681x/LTC681x.c ****     {
1134:Drivers/LTC681x/LTC681x.c ****       ic[c_ic].config.rx_pec_match = 1;
1135:Drivers/LTC681x/LTC681x.c ****     }
1136:Drivers/LTC681x/LTC681x.c ****     else ic[c_ic].config.rx_pec_match = 0;
1137:Drivers/LTC681x/LTC681x.c ****   }
1138:Drivers/LTC681x/LTC681x.c ****   LTC681x_check_pec(total_ic,CFGR,ic);
1139:Drivers/LTC681x/LTC681x.c ****   return(pec_error);
1140:Drivers/LTC681x/LTC681x.c **** }
1141:Drivers/LTC681x/LTC681x.c **** 
1142:Drivers/LTC681x/LTC681x.c **** //Reads CFGB
1143:Drivers/LTC681x/LTC681x.c **** int8_t LTC681x_rdcfgb(uint8_t total_ic, //Number of ICs in the system
1144:Drivers/LTC681x/LTC681x.c ****                       cell_asic ic[]
1145:Drivers/LTC681x/LTC681x.c ****                      )
1146:Drivers/LTC681x/LTC681x.c **** {
1147:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2]= {0x00 , 0x26};
1148:Drivers/LTC681x/LTC681x.c ****   uint8_t read_buffer[256];
1149:Drivers/LTC681x/LTC681x.c ****   int8_t pec_error = 0;
1150:Drivers/LTC681x/LTC681x.c ****   uint16_t data_pec;
1151:Drivers/LTC681x/LTC681x.c ****   uint16_t calc_pec;
1152:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic = 0;
1153:Drivers/LTC681x/LTC681x.c ****   pec_error = read_68(total_ic, cmd, read_buffer);
1154:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_ic = 0; current_ic<total_ic; current_ic++)
1155:Drivers/LTC681x/LTC681x.c ****   {
1156:Drivers/LTC681x/LTC681x.c ****     if (ic->isospi_reverse == false)
1157:Drivers/LTC681x/LTC681x.c ****     {
1158:Drivers/LTC681x/LTC681x.c ****       c_ic = current_ic;
1159:Drivers/LTC681x/LTC681x.c ****     }
1160:Drivers/LTC681x/LTC681x.c ****     else
1161:Drivers/LTC681x/LTC681x.c ****     {
1162:Drivers/LTC681x/LTC681x.c ****       c_ic = total_ic - current_ic - 1;
1163:Drivers/LTC681x/LTC681x.c ****     }
1164:Drivers/LTC681x/LTC681x.c **** 
1165:Drivers/LTC681x/LTC681x.c ****     for (int byte=0; byte<8; byte++)
1166:Drivers/LTC681x/LTC681x.c ****     {
1167:Drivers/LTC681x/LTC681x.c ****       ic[c_ic].configb.rx_data[byte] = read_buffer[byte+(8*current_ic)];
1168:Drivers/LTC681x/LTC681x.c ****     }
1169:Drivers/LTC681x/LTC681x.c ****     calc_pec = pec15_calc(6,&read_buffer[8*current_ic]);
1170:Drivers/LTC681x/LTC681x.c ****     data_pec = read_buffer[7+(8*current_ic)] | (read_buffer[6+(8*current_ic)]<<8);
1171:Drivers/LTC681x/LTC681x.c ****     if (calc_pec != data_pec )
1172:Drivers/LTC681x/LTC681x.c ****     {
1173:Drivers/LTC681x/LTC681x.c ****       ic[c_ic].configb.rx_pec_match = 1;
1174:Drivers/LTC681x/LTC681x.c ****     }
1175:Drivers/LTC681x/LTC681x.c ****     else ic[c_ic].configb.rx_pec_match = 0;
1176:Drivers/LTC681x/LTC681x.c ****   }
1177:Drivers/LTC681x/LTC681x.c ****   LTC681x_check_pec(total_ic,CFGRB,ic);
1178:Drivers/LTC681x/LTC681x.c ****   return(pec_error);
1179:Drivers/LTC681x/LTC681x.c **** }
1180:Drivers/LTC681x/LTC681x.c **** 
1181:Drivers/LTC681x/LTC681x.c **** // Writes the pwm register
1182:Drivers/LTC681x/LTC681x.c **** void LTC681x_wrpwm(uint8_t total_ic,
1183:Drivers/LTC681x/LTC681x.c ****                    uint8_t pwmReg,
1184:Drivers/LTC681x/LTC681x.c ****                    cell_asic ic[]
1185:Drivers/LTC681x/LTC681x.c ****                   )
1186:Drivers/LTC681x/LTC681x.c **** {
 2855              		.loc 1 1186 0
 2856              		.cfi_startproc
ARM GAS  /tmp/ccMCacDa.s 			page 73


 2857              		@ args = 0, pretend = 0, frame = 264
 2858              		@ frame_needed = 0, uses_anonymous_args = 0
 2859              	.LVL317:
 2860 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2861              	.LCFI97:
 2862              		.cfi_def_cfa_offset 20
 2863              		.cfi_offset 4, -20
 2864              		.cfi_offset 5, -16
 2865              		.cfi_offset 6, -12
 2866              		.cfi_offset 7, -8
 2867              		.cfi_offset 14, -4
 2868 0002 C3B0     		sub	sp, sp, #268
 2869              	.LCFI98:
 2870              		.cfi_def_cfa_offset 288
 2871              	.LVL318:
1187:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2];
1188:Drivers/LTC681x/LTC681x.c ****   uint8_t write_buffer[256];
1189:Drivers/LTC681x/LTC681x.c ****   uint8_t write_count = 0;
1190:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic = 0;
1191:Drivers/LTC681x/LTC681x.c ****   if (pwmReg == 0)
 2872              		.loc 1 1191 0
 2873 0004 41B9     		cbnz	r1, .L194
1192:Drivers/LTC681x/LTC681x.c ****   {
1193:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 2874              		.loc 1 1193 0
 2875 0006 0023     		movs	r3, #0
 2876 0008 8DF80431 		strb	r3, [sp, #260]
1194:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x20;
 2877              		.loc 1 1194 0
 2878 000c 2023     		movs	r3, #32
 2879 000e 8DF80531 		strb	r3, [sp, #261]
 2880              	.L196:
 2881              	.LBB30:
 2882              	.LBB31:
1195:Drivers/LTC681x/LTC681x.c ****   }
1196:Drivers/LTC681x/LTC681x.c ****   else
1197:Drivers/LTC681x/LTC681x.c ****   {
1198:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
1199:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x1C;
1200:Drivers/LTC681x/LTC681x.c ****   }
1201:Drivers/LTC681x/LTC681x.c **** 
1202:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_ic = 0; current_ic<total_ic; current_ic++)
1203:Drivers/LTC681x/LTC681x.c ****   {
1204:Drivers/LTC681x/LTC681x.c ****     if (ic->isospi_reverse == true)
1205:Drivers/LTC681x/LTC681x.c ****     {
1206:Drivers/LTC681x/LTC681x.c ****       c_ic = current_ic;
1207:Drivers/LTC681x/LTC681x.c ****     }
1208:Drivers/LTC681x/LTC681x.c ****     else
1209:Drivers/LTC681x/LTC681x.c ****     {
1210:Drivers/LTC681x/LTC681x.c ****       c_ic = total_ic - current_ic - 1;
1211:Drivers/LTC681x/LTC681x.c ****     }
1212:Drivers/LTC681x/LTC681x.c ****     for (uint8_t data = 0; data<6; data++)
 2883              		.loc 1 1212 0 discriminator 1
 2884 0012 0027     		movs	r7, #0
 2885 0014 3C46     		mov	r4, r7
 2886 0016 19E0     		b	.L195
 2887              	.L194:
ARM GAS  /tmp/ccMCacDa.s 			page 74


 2888              	.LBE31:
 2889              	.LBE30:
1198:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x1C;
 2890              		.loc 1 1198 0
 2891 0018 0023     		movs	r3, #0
 2892 001a 8DF80431 		strb	r3, [sp, #260]
1199:Drivers/LTC681x/LTC681x.c ****   }
 2893              		.loc 1 1199 0
 2894 001e 1C23     		movs	r3, #28
 2895 0020 8DF80531 		strb	r3, [sp, #261]
 2896 0024 F5E7     		b	.L196
 2897              	.LVL319:
 2898              	.L201:
 2899              	.LBB34:
1206:Drivers/LTC681x/LTC681x.c ****     }
 2900              		.loc 1 1206 0
 2901 0026 3E46     		mov	r6, r7
 2902 0028 1AE0     		b	.L197
 2903              	.LVL320:
 2904              	.L199:
 2905              	.LBB32:
1213:Drivers/LTC681x/LTC681x.c ****     {
1214:Drivers/LTC681x/LTC681x.c ****       write_buffer[write_count] = ic[c_ic].pwm.tx_data[data];
 2906              		.loc 1 1214 0 discriminator 3
 2907 002a C6EBC605 		rsb	r5, r6, r6, lsl #3
 2908 002e 6B01     		lsls	r3, r5, #5
 2909 0030 1344     		add	r3, r3, r2
 2910 0032 0B44     		add	r3, r3, r1
 2911 0034 93F87D50 		ldrb	r5, [r3, #125]	@ zero_extendqisi2
 2912 0038 01AB     		add	r3, sp, #4
 2913 003a 1D55     		strb	r5, [r3, r4]
1215:Drivers/LTC681x/LTC681x.c ****       write_count++;
 2914              		.loc 1 1215 0 discriminator 3
 2915 003c 0134     		adds	r4, r4, #1
 2916              	.LVL321:
 2917 003e E4B2     		uxtb	r4, r4
 2918              	.LVL322:
1212:Drivers/LTC681x/LTC681x.c ****     {
 2919              		.loc 1 1212 0 discriminator 3
 2920 0040 0131     		adds	r1, r1, #1
 2921              	.LVL323:
 2922 0042 C9B2     		uxtb	r1, r1
 2923              	.LVL324:
 2924              	.L198:
1212:Drivers/LTC681x/LTC681x.c ****     {
 2925              		.loc 1 1212 0 is_stmt 0 discriminator 1
 2926 0044 0529     		cmp	r1, #5
 2927 0046 F0D9     		bls	.L199
 2928              	.LBE32:
1202:Drivers/LTC681x/LTC681x.c ****   {
 2929              		.loc 1 1202 0 is_stmt 1 discriminator 2
 2930 0048 0137     		adds	r7, r7, #1
 2931              	.LVL325:
 2932 004a FFB2     		uxtb	r7, r7
 2933              	.LVL326:
 2934              	.L195:
1202:Drivers/LTC681x/LTC681x.c ****   {
ARM GAS  /tmp/ccMCacDa.s 			page 75


 2935              		.loc 1 1202 0 is_stmt 0 discriminator 1
 2936 004c 8742     		cmp	r7, r0
 2937 004e 09D2     		bcs	.L203
1204:Drivers/LTC681x/LTC681x.c ****     {
 2938              		.loc 1 1204 0 is_stmt 1
 2939 0050 92F8B930 		ldrb	r3, [r2, #185]	@ zero_extendqisi2
 2940 0054 002B     		cmp	r3, #0
 2941 0056 E6D1     		bne	.L201
1210:Drivers/LTC681x/LTC681x.c ****     }
 2942              		.loc 1 1210 0
 2943 0058 C61B     		subs	r6, r0, r7
 2944 005a F6B2     		uxtb	r6, r6
 2945 005c 013E     		subs	r6, r6, #1
 2946 005e F6B2     		uxtb	r6, r6
 2947              	.LVL327:
 2948              	.L197:
 2949              	.LBB33:
1212:Drivers/LTC681x/LTC681x.c ****     {
 2950              		.loc 1 1212 0
 2951 0060 0021     		movs	r1, #0
 2952 0062 EFE7     		b	.L198
 2953              	.LVL328:
 2954              	.L203:
 2955              	.LBE33:
 2956              	.LBE34:
1216:Drivers/LTC681x/LTC681x.c ****     }
1217:Drivers/LTC681x/LTC681x.c ****   }
1218:Drivers/LTC681x/LTC681x.c ****   write_68(total_ic, cmd, write_buffer);
 2957              		.loc 1 1218 0
 2958 0064 01AA     		add	r2, sp, #4
 2959              	.LVL329:
 2960 0066 41A9     		add	r1, sp, #260
 2961 0068 FFF7FEFF 		bl	write_68
 2962              	.LVL330:
1219:Drivers/LTC681x/LTC681x.c **** }
 2963              		.loc 1 1219 0
 2964 006c 43B0     		add	sp, sp, #268
 2965              	.LCFI99:
 2966              		.cfi_def_cfa_offset 20
 2967              		@ sp needed
 2968 006e F0BD     		pop	{r4, r5, r6, r7, pc}
 2969              		.cfi_endproc
 2970              	.LFE45:
 2972              		.section	.text.LTC681x_rdpwm,"ax",%progbits
 2973              		.align	1
 2974              		.global	LTC681x_rdpwm
 2975              		.syntax unified
 2976              		.thumb
 2977              		.thumb_func
 2978              		.fpu softvfp
 2980              	LTC681x_rdpwm:
 2981              	.LFB46:
1220:Drivers/LTC681x/LTC681x.c **** 
1221:Drivers/LTC681x/LTC681x.c **** 
1222:Drivers/LTC681x/LTC681x.c **** //Reads pwm registers of a LTC6811 daisy chain
1223:Drivers/LTC681x/LTC681x.c **** int8_t LTC681x_rdpwm(uint8_t total_ic, //Number of ICs in the system
1224:Drivers/LTC681x/LTC681x.c ****                      uint8_t pwmReg,
ARM GAS  /tmp/ccMCacDa.s 			page 76


1225:Drivers/LTC681x/LTC681x.c ****                      cell_asic ic[]
1226:Drivers/LTC681x/LTC681x.c ****                     )
1227:Drivers/LTC681x/LTC681x.c **** {
 2982              		.loc 1 1227 0
 2983              		.cfi_startproc
 2984              		@ args = 0, pretend = 0, frame = 264
 2985              		@ frame_needed = 0, uses_anonymous_args = 0
 2986              	.LVL331:
 2987 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2988              	.LCFI100:
 2989              		.cfi_def_cfa_offset 32
 2990              		.cfi_offset 4, -32
 2991              		.cfi_offset 5, -28
 2992              		.cfi_offset 6, -24
 2993              		.cfi_offset 7, -20
 2994              		.cfi_offset 8, -16
 2995              		.cfi_offset 9, -12
 2996              		.cfi_offset 10, -8
 2997              		.cfi_offset 14, -4
 2998 0004 C2B0     		sub	sp, sp, #264
 2999              	.LCFI101:
 3000              		.cfi_def_cfa_offset 296
 3001 0006 0746     		mov	r7, r0
 3002 0008 1646     		mov	r6, r2
 3003              	.LVL332:
1228:Drivers/LTC681x/LTC681x.c ****   const uint8_t BYTES_IN_REG = 8;
1229:Drivers/LTC681x/LTC681x.c **** 
1230:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[4];
1231:Drivers/LTC681x/LTC681x.c ****   uint8_t read_buffer[256];
1232:Drivers/LTC681x/LTC681x.c ****   int8_t pec_error = 0;
1233:Drivers/LTC681x/LTC681x.c ****   uint16_t data_pec;
1234:Drivers/LTC681x/LTC681x.c ****   uint16_t calc_pec;
1235:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic = 0;
1236:Drivers/LTC681x/LTC681x.c **** 
1237:Drivers/LTC681x/LTC681x.c ****   if (pwmReg == 0)
 3004              		.loc 1 1237 0
 3005 000a 69B9     		cbnz	r1, .L205
1238:Drivers/LTC681x/LTC681x.c ****   {
1239:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 3006              		.loc 1 1239 0
 3007 000c 0023     		movs	r3, #0
 3008 000e 8DF80431 		strb	r3, [sp, #260]
1240:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x22;
 3009              		.loc 1 1240 0
 3010 0012 2223     		movs	r3, #34
 3011 0014 8DF80531 		strb	r3, [sp, #261]
 3012              	.L206:
1241:Drivers/LTC681x/LTC681x.c ****   }
1242:Drivers/LTC681x/LTC681x.c ****   else
1243:Drivers/LTC681x/LTC681x.c ****   {
1244:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
1245:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x1E;
1246:Drivers/LTC681x/LTC681x.c ****   }
1247:Drivers/LTC681x/LTC681x.c **** 
1248:Drivers/LTC681x/LTC681x.c **** 
1249:Drivers/LTC681x/LTC681x.c ****   pec_error = read_68(total_ic, cmd, read_buffer);
 3013              		.loc 1 1249 0
ARM GAS  /tmp/ccMCacDa.s 			page 77


 3014 0018 01AA     		add	r2, sp, #4
 3015              	.LVL333:
 3016 001a 41A9     		add	r1, sp, #260
 3017              	.LVL334:
 3018 001c 3846     		mov	r0, r7
 3019              	.LVL335:
 3020 001e FFF7FEFF 		bl	read_68
 3021              	.LVL336:
 3022 0022 8046     		mov	r8, r0
 3023              	.LVL337:
 3024              	.LBB35:
1250:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_ic =0; current_ic<total_ic; current_ic++)
 3025              		.loc 1 1250 0
 3026 0024 0025     		movs	r5, #0
 3027 0026 34E0     		b	.L207
 3028              	.LVL338:
 3029              	.L205:
 3030              	.LBE35:
1244:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x1E;
 3031              		.loc 1 1244 0
 3032 0028 0023     		movs	r3, #0
 3033 002a 8DF80431 		strb	r3, [sp, #260]
1245:Drivers/LTC681x/LTC681x.c ****   }
 3034              		.loc 1 1245 0
 3035 002e 1E23     		movs	r3, #30
 3036 0030 8DF80531 		strb	r3, [sp, #261]
 3037 0034 F0E7     		b	.L206
 3038              	.LVL339:
 3039              	.L214:
 3040              	.LBB38:
1251:Drivers/LTC681x/LTC681x.c ****   {
1252:Drivers/LTC681x/LTC681x.c ****     if (ic->isospi_reverse == false)
1253:Drivers/LTC681x/LTC681x.c ****     {
1254:Drivers/LTC681x/LTC681x.c ****       c_ic = current_ic;
 3041              		.loc 1 1254 0
 3042 0036 2C46     		mov	r4, r5
 3043 0038 35E0     		b	.L208
 3044              	.LVL340:
 3045              	.L210:
 3046              	.LBB36:
1255:Drivers/LTC681x/LTC681x.c ****     }
1256:Drivers/LTC681x/LTC681x.c ****     else
1257:Drivers/LTC681x/LTC681x.c ****     {
1258:Drivers/LTC681x/LTC681x.c ****       c_ic = total_ic - current_ic - 1;
1259:Drivers/LTC681x/LTC681x.c ****     }
1260:Drivers/LTC681x/LTC681x.c ****     for (int byte=0; byte<8; byte++)
1261:Drivers/LTC681x/LTC681x.c ****     {
1262:Drivers/LTC681x/LTC681x.c ****       ic[c_ic].pwm.rx_data[byte] = read_buffer[byte+(8*current_ic)];
 3047              		.loc 1 1262 0 discriminator 3
 3048 003a 02EBC500 		add	r0, r2, r5, lsl #3
 3049 003e C4EBC401 		rsb	r1, r4, r4, lsl #3
 3050 0042 4B01     		lsls	r3, r1, #5
 3051 0044 3344     		add	r3, r3, r6
 3052 0046 01A9     		add	r1, sp, #4
 3053 0048 095C     		ldrb	r1, [r1, r0]	@ zero_extendqisi2
 3054 004a 1344     		add	r3, r3, r2
 3055 004c 83F88310 		strb	r1, [r3, #131]
ARM GAS  /tmp/ccMCacDa.s 			page 78


1260:Drivers/LTC681x/LTC681x.c ****     {
 3056              		.loc 1 1260 0 discriminator 3
 3057 0050 0132     		adds	r2, r2, #1
 3058              	.LVL341:
 3059              	.L209:
1260:Drivers/LTC681x/LTC681x.c ****     {
 3060              		.loc 1 1260 0 is_stmt 0 discriminator 1
 3061 0052 072A     		cmp	r2, #7
 3062 0054 F1DD     		ble	.L210
 3063              	.LBE36:
1263:Drivers/LTC681x/LTC681x.c ****     }
1264:Drivers/LTC681x/LTC681x.c ****     calc_pec = pec15_calc(6,&read_buffer[8*current_ic]);
 3064              		.loc 1 1264 0 is_stmt 1
 3065 0056 4FEAC509 		lsl	r9, r5, #3
 3066 005a 0DF1040A 		add	r10, sp, #4
 3067 005e 0AEB0901 		add	r1, r10, r9
 3068 0062 0620     		movs	r0, #6
 3069 0064 FFF7FEFF 		bl	pec15_calc
 3070              	.LVL342:
1265:Drivers/LTC681x/LTC681x.c ****     data_pec = read_buffer[7+(8*current_ic)] | (read_buffer[6+(8*current_ic)]<<8);
 3071              		.loc 1 1265 0
 3072 0068 09F10703 		add	r3, r9, #7
 3073 006c 1AF80330 		ldrb	r3, [r10, r3]	@ zero_extendqisi2
 3074 0070 09F10609 		add	r9, r9, #6
 3075 0074 1AF80920 		ldrb	r2, [r10, r9]	@ zero_extendqisi2
 3076 0078 43EA0223 		orr	r3, r3, r2, lsl #8
 3077              	.LVL343:
1266:Drivers/LTC681x/LTC681x.c ****     if (calc_pec != data_pec )
 3078              		.loc 1 1266 0
 3079 007c 9842     		cmp	r0, r3
 3080 007e 14D0     		beq	.L211
1267:Drivers/LTC681x/LTC681x.c ****     {
1268:Drivers/LTC681x/LTC681x.c ****       ic[c_ic].pwm.rx_pec_match = 1;
 3081              		.loc 1 1268 0
 3082 0080 C4EBC404 		rsb	r4, r4, r4, lsl #3
 3083              	.LVL344:
 3084 0084 6301     		lsls	r3, r4, #5
 3085              	.LVL345:
 3086 0086 3344     		add	r3, r3, r6
 3087 0088 0122     		movs	r2, #1
 3088              	.LVL346:
 3089 008a 83F88B20 		strb	r2, [r3, #139]
 3090              	.LVL347:
 3091              	.L212:
1250:Drivers/LTC681x/LTC681x.c ****   {
 3092              		.loc 1 1250 0 discriminator 2
 3093 008e 0135     		adds	r5, r5, #1
 3094              	.LVL348:
 3095 0090 EDB2     		uxtb	r5, r5
 3096              	.LVL349:
 3097              	.L207:
1250:Drivers/LTC681x/LTC681x.c ****   {
 3098              		.loc 1 1250 0 is_stmt 0 discriminator 1
 3099 0092 BD42     		cmp	r5, r7
 3100 0094 11D2     		bcs	.L216
1252:Drivers/LTC681x/LTC681x.c ****     {
 3101              		.loc 1 1252 0 is_stmt 1
ARM GAS  /tmp/ccMCacDa.s 			page 79


 3102 0096 96F8B930 		ldrb	r3, [r6, #185]	@ zero_extendqisi2
 3103 009a 002B     		cmp	r3, #0
 3104 009c CBD0     		beq	.L214
1258:Drivers/LTC681x/LTC681x.c ****     }
 3105              		.loc 1 1258 0
 3106 009e 7C1B     		subs	r4, r7, r5
 3107 00a0 E4B2     		uxtb	r4, r4
 3108 00a2 013C     		subs	r4, r4, #1
 3109 00a4 E4B2     		uxtb	r4, r4
 3110              	.LVL350:
 3111              	.L208:
 3112              	.LBB37:
1260:Drivers/LTC681x/LTC681x.c ****     {
 3113              		.loc 1 1260 0
 3114 00a6 0022     		movs	r2, #0
 3115 00a8 D3E7     		b	.L209
 3116              	.LVL351:
 3117              	.L211:
 3118              	.LBE37:
1269:Drivers/LTC681x/LTC681x.c ****     }
1270:Drivers/LTC681x/LTC681x.c ****     else ic[c_ic].pwm.rx_pec_match = 0;
 3119              		.loc 1 1270 0
 3120 00aa C4EBC404 		rsb	r4, r4, r4, lsl #3
 3121              	.LVL352:
 3122 00ae 6301     		lsls	r3, r4, #5
 3123              	.LVL353:
 3124 00b0 3344     		add	r3, r3, r6
 3125 00b2 0022     		movs	r2, #0
 3126              	.LVL354:
 3127 00b4 83F88B20 		strb	r2, [r3, #139]
 3128              	.LVL355:
 3129 00b8 E9E7     		b	.L212
 3130              	.LVL356:
 3131              	.L216:
 3132              	.LBE38:
1271:Drivers/LTC681x/LTC681x.c ****   }
1272:Drivers/LTC681x/LTC681x.c ****   return(pec_error);
1273:Drivers/LTC681x/LTC681x.c **** }
 3133              		.loc 1 1273 0
 3134 00ba 4046     		mov	r0, r8
 3135 00bc 42B0     		add	sp, sp, #264
 3136              	.LCFI102:
 3137              		.cfi_def_cfa_offset 32
 3138              		@ sp needed
 3139 00be BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3140              		.cfi_endproc
 3141              	.LFE46:
 3143              		.section	.text.LTC681x_wrcomm,"ax",%progbits
 3144              		.align	1
 3145              		.global	LTC681x_wrcomm
 3146              		.syntax unified
 3147              		.thumb
 3148              		.thumb_func
 3149              		.fpu softvfp
 3151              	LTC681x_wrcomm:
 3152              	.LFB47:
1274:Drivers/LTC681x/LTC681x.c **** 
ARM GAS  /tmp/ccMCacDa.s 			page 80


1275:Drivers/LTC681x/LTC681x.c **** //Writes the comm register
1276:Drivers/LTC681x/LTC681x.c **** void LTC681x_wrcomm(uint8_t total_ic, //The number of ICs being written to
1277:Drivers/LTC681x/LTC681x.c ****                     cell_asic ic[]
1278:Drivers/LTC681x/LTC681x.c ****                    )
1279:Drivers/LTC681x/LTC681x.c **** {
 3153              		.loc 1 1279 0
 3154              		.cfi_startproc
 3155              		@ args = 0, pretend = 0, frame = 264
 3156              		@ frame_needed = 0, uses_anonymous_args = 0
 3157              	.LVL357:
 3158 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3159              	.LCFI103:
 3160              		.cfi_def_cfa_offset 20
 3161              		.cfi_offset 4, -20
 3162              		.cfi_offset 5, -16
 3163              		.cfi_offset 6, -12
 3164              		.cfi_offset 7, -8
 3165              		.cfi_offset 14, -4
 3166 0002 C3B0     		sub	sp, sp, #268
 3167              	.LCFI104:
 3168              		.cfi_def_cfa_offset 288
1280:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2]= {0x07 , 0x21};
 3169              		.loc 1 1280 0
 3170 0004 154B     		ldr	r3, .L226
 3171 0006 1B8A     		ldrh	r3, [r3, #16]
 3172 0008 ADF80431 		strh	r3, [sp, #260]	@ movhi
 3173              	.LVL358:
 3174              	.LBB39:
1281:Drivers/LTC681x/LTC681x.c ****   uint8_t write_buffer[256];
1282:Drivers/LTC681x/LTC681x.c ****   uint8_t write_count = 0;
1283:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic = 0;
1284:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_ic = 0; current_ic<total_ic; current_ic++)
 3175              		.loc 1 1284 0
 3176 000c 0027     		movs	r7, #0
 3177              	.LBE39:
1282:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic = 0;
 3178              		.loc 1 1282 0
 3179 000e 3C46     		mov	r4, r7
 3180              	.LBB42:
 3181              		.loc 1 1284 0
 3182 0010 12E0     		b	.L218
 3183              	.LVL359:
 3184              	.L223:
1285:Drivers/LTC681x/LTC681x.c ****   {
1286:Drivers/LTC681x/LTC681x.c ****     if (ic->isospi_reverse == true)
1287:Drivers/LTC681x/LTC681x.c ****     {
1288:Drivers/LTC681x/LTC681x.c ****       c_ic = current_ic;
 3185              		.loc 1 1288 0
 3186 0012 3E46     		mov	r6, r7
 3187 0014 1AE0     		b	.L219
 3188              	.LVL360:
 3189              	.L221:
 3190              	.LBB40:
1289:Drivers/LTC681x/LTC681x.c ****     }
1290:Drivers/LTC681x/LTC681x.c ****     else
1291:Drivers/LTC681x/LTC681x.c ****     {
1292:Drivers/LTC681x/LTC681x.c ****       c_ic = total_ic - current_ic - 1;
ARM GAS  /tmp/ccMCacDa.s 			page 81


1293:Drivers/LTC681x/LTC681x.c ****     }
1294:Drivers/LTC681x/LTC681x.c **** 
1295:Drivers/LTC681x/LTC681x.c ****     for (uint8_t data = 0; data<6; data++)
1296:Drivers/LTC681x/LTC681x.c ****     {
1297:Drivers/LTC681x/LTC681x.c ****       write_buffer[write_count] = ic[c_ic].com.tx_data[data];
 3191              		.loc 1 1297 0 discriminator 3
 3192 0016 C6EBC605 		rsb	r5, r6, r6, lsl #3
 3193 001a 6B01     		lsls	r3, r5, #5
 3194 001c 0B44     		add	r3, r3, r1
 3195 001e 1344     		add	r3, r3, r2
 3196 0020 93F86E50 		ldrb	r5, [r3, #110]	@ zero_extendqisi2
 3197 0024 01AB     		add	r3, sp, #4
 3198 0026 1D55     		strb	r5, [r3, r4]
1298:Drivers/LTC681x/LTC681x.c ****       write_count++;
 3199              		.loc 1 1298 0 discriminator 3
 3200 0028 0134     		adds	r4, r4, #1
 3201              	.LVL361:
 3202 002a E4B2     		uxtb	r4, r4
 3203              	.LVL362:
1295:Drivers/LTC681x/LTC681x.c ****     {
 3204              		.loc 1 1295 0 discriminator 3
 3205 002c 0132     		adds	r2, r2, #1
 3206              	.LVL363:
 3207 002e D2B2     		uxtb	r2, r2
 3208              	.LVL364:
 3209              	.L220:
1295:Drivers/LTC681x/LTC681x.c ****     {
 3210              		.loc 1 1295 0 is_stmt 0 discriminator 1
 3211 0030 052A     		cmp	r2, #5
 3212 0032 F0D9     		bls	.L221
 3213              	.LBE40:
1284:Drivers/LTC681x/LTC681x.c ****   {
 3214              		.loc 1 1284 0 is_stmt 1 discriminator 2
 3215 0034 0137     		adds	r7, r7, #1
 3216              	.LVL365:
 3217 0036 FFB2     		uxtb	r7, r7
 3218              	.LVL366:
 3219              	.L218:
1284:Drivers/LTC681x/LTC681x.c ****   {
 3220              		.loc 1 1284 0 is_stmt 0 discriminator 1
 3221 0038 8742     		cmp	r7, r0
 3222 003a 09D2     		bcs	.L225
1286:Drivers/LTC681x/LTC681x.c ****     {
 3223              		.loc 1 1286 0 is_stmt 1
 3224 003c 91F8B930 		ldrb	r3, [r1, #185]	@ zero_extendqisi2
 3225 0040 002B     		cmp	r3, #0
 3226 0042 E6D1     		bne	.L223
1292:Drivers/LTC681x/LTC681x.c ****     }
 3227              		.loc 1 1292 0
 3228 0044 C61B     		subs	r6, r0, r7
 3229 0046 F6B2     		uxtb	r6, r6
 3230 0048 013E     		subs	r6, r6, #1
 3231 004a F6B2     		uxtb	r6, r6
 3232              	.LVL367:
 3233              	.L219:
 3234              	.LBB41:
1295:Drivers/LTC681x/LTC681x.c ****     {
ARM GAS  /tmp/ccMCacDa.s 			page 82


 3235              		.loc 1 1295 0
 3236 004c 0022     		movs	r2, #0
 3237 004e EFE7     		b	.L220
 3238              	.LVL368:
 3239              	.L225:
 3240              	.LBE41:
 3241              	.LBE42:
1299:Drivers/LTC681x/LTC681x.c ****     }
1300:Drivers/LTC681x/LTC681x.c ****   }
1301:Drivers/LTC681x/LTC681x.c ****   write_68(total_ic, cmd, write_buffer);
 3242              		.loc 1 1301 0
 3243 0050 01AA     		add	r2, sp, #4
 3244 0052 41A9     		add	r1, sp, #260
 3245              	.LVL369:
 3246 0054 FFF7FEFF 		bl	write_68
 3247              	.LVL370:
1302:Drivers/LTC681x/LTC681x.c **** }
 3248              		.loc 1 1302 0
 3249 0058 43B0     		add	sp, sp, #268
 3250              	.LCFI105:
 3251              		.cfi_def_cfa_offset 20
 3252              		@ sp needed
 3253 005a F0BD     		pop	{r4, r5, r6, r7, pc}
 3254              	.LVL371:
 3255              	.L227:
 3256              		.align	2
 3257              	.L226:
 3258 005c 00000000 		.word	.LANCHOR1
 3259              		.cfi_endproc
 3260              	.LFE47:
 3262              		.section	.text.LTC681x_rdcomm,"ax",%progbits
 3263              		.align	1
 3264              		.global	LTC681x_rdcomm
 3265              		.syntax unified
 3266              		.thumb
 3267              		.thumb_func
 3268              		.fpu softvfp
 3270              	LTC681x_rdcomm:
 3271              	.LFB48:
1303:Drivers/LTC681x/LTC681x.c **** 
1304:Drivers/LTC681x/LTC681x.c **** //Reads COMM registers of a LTC6811 daisy chain
1305:Drivers/LTC681x/LTC681x.c **** int8_t LTC681x_rdcomm(uint8_t total_ic, //Number of ICs in the system
1306:Drivers/LTC681x/LTC681x.c ****                       cell_asic ic[]
1307:Drivers/LTC681x/LTC681x.c ****                      )
1308:Drivers/LTC681x/LTC681x.c **** {
 3272              		.loc 1 1308 0
 3273              		.cfi_startproc
 3274              		@ args = 0, pretend = 0, frame = 264
 3275              		@ frame_needed = 0, uses_anonymous_args = 0
 3276              	.LVL372:
 3277 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3278              	.LCFI106:
 3279              		.cfi_def_cfa_offset 32
 3280              		.cfi_offset 4, -32
 3281              		.cfi_offset 5, -28
 3282              		.cfi_offset 6, -24
 3283              		.cfi_offset 7, -20
ARM GAS  /tmp/ccMCacDa.s 			page 83


 3284              		.cfi_offset 8, -16
 3285              		.cfi_offset 9, -12
 3286              		.cfi_offset 10, -8
 3287              		.cfi_offset 14, -4
 3288 0004 C2B0     		sub	sp, sp, #264
 3289              	.LCFI107:
 3290              		.cfi_def_cfa_offset 296
 3291 0006 0746     		mov	r7, r0
 3292 0008 0E46     		mov	r6, r1
1309:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2]= {0x07 , 0x22};
 3293              		.loc 1 1309 0
 3294 000a 284B     		ldr	r3, .L239
 3295 000c 9B8A     		ldrh	r3, [r3, #20]
 3296 000e ADF80431 		strh	r3, [sp, #260]	@ movhi
 3297              	.LVL373:
1310:Drivers/LTC681x/LTC681x.c ****   uint8_t read_buffer[256];
1311:Drivers/LTC681x/LTC681x.c ****   int8_t pec_error = 0;
1312:Drivers/LTC681x/LTC681x.c ****   uint16_t data_pec;
1313:Drivers/LTC681x/LTC681x.c ****   uint16_t calc_pec;
1314:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic=0;
1315:Drivers/LTC681x/LTC681x.c ****   pec_error = read_68(total_ic, cmd, read_buffer);
 3298              		.loc 1 1315 0
 3299 0012 01AA     		add	r2, sp, #4
 3300 0014 41A9     		add	r1, sp, #260
 3301              	.LVL374:
 3302 0016 FFF7FEFF 		bl	read_68
 3303              	.LVL375:
 3304 001a 8046     		mov	r8, r0
 3305              	.LVL376:
 3306              	.LBB43:
1316:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_ic = 0; current_ic<total_ic; current_ic++)
 3307              		.loc 1 1316 0
 3308 001c 0025     		movs	r5, #0
 3309 001e 2DE0     		b	.L229
 3310              	.LVL377:
 3311              	.L236:
1317:Drivers/LTC681x/LTC681x.c ****   {
1318:Drivers/LTC681x/LTC681x.c ****     if (ic->isospi_reverse == false)
1319:Drivers/LTC681x/LTC681x.c ****     {
1320:Drivers/LTC681x/LTC681x.c ****       c_ic = current_ic;
 3312              		.loc 1 1320 0
 3313 0020 2C46     		mov	r4, r5
 3314 0022 35E0     		b	.L230
 3315              	.LVL378:
 3316              	.L232:
 3317              	.LBB44:
1321:Drivers/LTC681x/LTC681x.c ****     }
1322:Drivers/LTC681x/LTC681x.c ****     else
1323:Drivers/LTC681x/LTC681x.c ****     {
1324:Drivers/LTC681x/LTC681x.c ****       c_ic = total_ic - current_ic - 1;
1325:Drivers/LTC681x/LTC681x.c ****     }
1326:Drivers/LTC681x/LTC681x.c **** 
1327:Drivers/LTC681x/LTC681x.c ****     for (int byte=0; byte<8; byte++)
1328:Drivers/LTC681x/LTC681x.c ****     {
1329:Drivers/LTC681x/LTC681x.c ****       ic[c_ic].com.rx_data[byte] = read_buffer[byte+(8*current_ic)];
 3318              		.loc 1 1329 0 discriminator 3
 3319 0024 02EBC500 		add	r0, r2, r5, lsl #3
ARM GAS  /tmp/ccMCacDa.s 			page 84


 3320 0028 C4EBC401 		rsb	r1, r4, r4, lsl #3
 3321 002c 4B01     		lsls	r3, r1, #5
 3322 002e 3344     		add	r3, r3, r6
 3323 0030 01A9     		add	r1, sp, #4
 3324 0032 095C     		ldrb	r1, [r1, r0]	@ zero_extendqisi2
 3325 0034 1344     		add	r3, r3, r2
 3326 0036 83F87410 		strb	r1, [r3, #116]
1327:Drivers/LTC681x/LTC681x.c ****     {
 3327              		.loc 1 1327 0 discriminator 3
 3328 003a 0132     		adds	r2, r2, #1
 3329              	.LVL379:
 3330              	.L231:
1327:Drivers/LTC681x/LTC681x.c ****     {
 3331              		.loc 1 1327 0 is_stmt 0 discriminator 1
 3332 003c 072A     		cmp	r2, #7
 3333 003e F1DD     		ble	.L232
 3334              	.LBE44:
1330:Drivers/LTC681x/LTC681x.c ****     }
1331:Drivers/LTC681x/LTC681x.c ****     calc_pec = pec15_calc(6,&read_buffer[8*current_ic]);
 3335              		.loc 1 1331 0 is_stmt 1
 3336 0040 4FEAC509 		lsl	r9, r5, #3
 3337 0044 0DF1040A 		add	r10, sp, #4
 3338 0048 0AEB0901 		add	r1, r10, r9
 3339 004c 0620     		movs	r0, #6
 3340 004e FFF7FEFF 		bl	pec15_calc
 3341              	.LVL380:
1332:Drivers/LTC681x/LTC681x.c ****     data_pec = read_buffer[7+(8*current_ic)] | (read_buffer[6+(8*current_ic)]<<8);
 3342              		.loc 1 1332 0
 3343 0052 09F10703 		add	r3, r9, #7
 3344 0056 1AF80330 		ldrb	r3, [r10, r3]	@ zero_extendqisi2
 3345 005a 09F10609 		add	r9, r9, #6
 3346 005e 1AF80920 		ldrb	r2, [r10, r9]	@ zero_extendqisi2
 3347 0062 43EA0223 		orr	r3, r3, r2, lsl #8
 3348              	.LVL381:
1333:Drivers/LTC681x/LTC681x.c ****     if (calc_pec != data_pec )
 3349              		.loc 1 1333 0
 3350 0066 9842     		cmp	r0, r3
 3351 0068 14D0     		beq	.L233
1334:Drivers/LTC681x/LTC681x.c ****     {
1335:Drivers/LTC681x/LTC681x.c ****       ic[c_ic].com.rx_pec_match = 1;
 3352              		.loc 1 1335 0
 3353 006a C4EBC404 		rsb	r4, r4, r4, lsl #3
 3354              	.LVL382:
 3355 006e 6301     		lsls	r3, r4, #5
 3356              	.LVL383:
 3357 0070 3344     		add	r3, r3, r6
 3358 0072 0122     		movs	r2, #1
 3359              	.LVL384:
 3360 0074 83F87C20 		strb	r2, [r3, #124]
 3361              	.LVL385:
 3362              	.L234:
1316:Drivers/LTC681x/LTC681x.c ****   {
 3363              		.loc 1 1316 0 discriminator 2
 3364 0078 0135     		adds	r5, r5, #1
 3365              	.LVL386:
 3366 007a EDB2     		uxtb	r5, r5
 3367              	.LVL387:
ARM GAS  /tmp/ccMCacDa.s 			page 85


 3368              	.L229:
1316:Drivers/LTC681x/LTC681x.c ****   {
 3369              		.loc 1 1316 0 is_stmt 0 discriminator 1
 3370 007c BD42     		cmp	r5, r7
 3371 007e 11D2     		bcs	.L238
1318:Drivers/LTC681x/LTC681x.c ****     {
 3372              		.loc 1 1318 0 is_stmt 1
 3373 0080 96F8B930 		ldrb	r3, [r6, #185]	@ zero_extendqisi2
 3374 0084 002B     		cmp	r3, #0
 3375 0086 CBD0     		beq	.L236
1324:Drivers/LTC681x/LTC681x.c ****     }
 3376              		.loc 1 1324 0
 3377 0088 7C1B     		subs	r4, r7, r5
 3378 008a E4B2     		uxtb	r4, r4
 3379 008c 013C     		subs	r4, r4, #1
 3380 008e E4B2     		uxtb	r4, r4
 3381              	.LVL388:
 3382              	.L230:
 3383              	.LBB45:
1327:Drivers/LTC681x/LTC681x.c ****     {
 3384              		.loc 1 1327 0
 3385 0090 0022     		movs	r2, #0
 3386 0092 D3E7     		b	.L231
 3387              	.LVL389:
 3388              	.L233:
 3389              	.LBE45:
1336:Drivers/LTC681x/LTC681x.c ****     }
1337:Drivers/LTC681x/LTC681x.c ****     else ic[c_ic].com.rx_pec_match = 0;
 3390              		.loc 1 1337 0
 3391 0094 C4EBC404 		rsb	r4, r4, r4, lsl #3
 3392              	.LVL390:
 3393 0098 6301     		lsls	r3, r4, #5
 3394              	.LVL391:
 3395 009a 3344     		add	r3, r3, r6
 3396 009c 0022     		movs	r2, #0
 3397              	.LVL392:
 3398 009e 83F87C20 		strb	r2, [r3, #124]
 3399              	.LVL393:
 3400 00a2 E9E7     		b	.L234
 3401              	.LVL394:
 3402              	.L238:
 3403              	.LBE43:
1338:Drivers/LTC681x/LTC681x.c ****   }
1339:Drivers/LTC681x/LTC681x.c ****   return(pec_error);
1340:Drivers/LTC681x/LTC681x.c **** }
 3404              		.loc 1 1340 0
 3405 00a4 4046     		mov	r0, r8
 3406 00a6 42B0     		add	sp, sp, #264
 3407              	.LCFI108:
 3408              		.cfi_def_cfa_offset 32
 3409              		@ sp needed
 3410 00a8 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3411              	.LVL395:
 3412              	.L240:
 3413              		.align	2
 3414              	.L239:
 3415 00ac 00000000 		.word	.LANCHOR1
ARM GAS  /tmp/ccMCacDa.s 			page 86


 3416              		.cfi_endproc
 3417              	.LFE48:
 3419              		.section	.text.LTC681x_stcomm,"ax",%progbits
 3420              		.align	1
 3421              		.global	LTC681x_stcomm
 3422              		.syntax unified
 3423              		.thumb
 3424              		.thumb_func
 3425              		.fpu softvfp
 3427              	LTC681x_stcomm:
 3428              	.LFB49:
1341:Drivers/LTC681x/LTC681x.c **** 
1342:Drivers/LTC681x/LTC681x.c **** //Shifts data in COMM register out over LTC6811 SPI/I2C port
1343:Drivers/LTC681x/LTC681x.c **** void LTC681x_stcomm()
1344:Drivers/LTC681x/LTC681x.c **** {
 3429              		.loc 1 1344 0
 3430              		.cfi_startproc
 3431              		@ args = 0, pretend = 0, frame = 8
 3432              		@ frame_needed = 0, uses_anonymous_args = 0
 3433 0000 10B5     		push	{r4, lr}
 3434              	.LCFI109:
 3435              		.cfi_def_cfa_offset 8
 3436              		.cfi_offset 4, -8
 3437              		.cfi_offset 14, -4
 3438 0002 82B0     		sub	sp, sp, #8
 3439              	.LCFI110:
 3440              		.cfi_def_cfa_offset 16
1345:Drivers/LTC681x/LTC681x.c **** 
1346:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[4];
1347:Drivers/LTC681x/LTC681x.c ****   uint16_t cmd_pec;
1348:Drivers/LTC681x/LTC681x.c **** 
1349:Drivers/LTC681x/LTC681x.c ****   cmd[0] = 0x07;
 3441              		.loc 1 1349 0
 3442 0004 0723     		movs	r3, #7
 3443 0006 8DF80430 		strb	r3, [sp, #4]
1350:Drivers/LTC681x/LTC681x.c ****   cmd[1] = 0x23;
 3444              		.loc 1 1350 0
 3445 000a 2323     		movs	r3, #35
 3446 000c 8DF80530 		strb	r3, [sp, #5]
1351:Drivers/LTC681x/LTC681x.c ****   cmd_pec = pec15_calc(2, cmd);
 3447              		.loc 1 1351 0
 3448 0010 01A9     		add	r1, sp, #4
 3449 0012 0220     		movs	r0, #2
 3450 0014 FFF7FEFF 		bl	pec15_calc
 3451              	.LVL396:
1352:Drivers/LTC681x/LTC681x.c ****   cmd[2] = (uint8_t)(cmd_pec >> 8);
 3452              		.loc 1 1352 0
 3453 0018 C0F30723 		ubfx	r3, r0, #8, #8
 3454 001c 8DF80630 		strb	r3, [sp, #6]
1353:Drivers/LTC681x/LTC681x.c ****   cmd[3] = (uint8_t)(cmd_pec);
 3455              		.loc 1 1353 0
 3456 0020 8DF80700 		strb	r0, [sp, #7]
1354:Drivers/LTC681x/LTC681x.c **** 
1355:Drivers/LTC681x/LTC681x.c ****   cs_low(CS_PIN);
 3457              		.loc 1 1355 0
 3458 0024 0A20     		movs	r0, #10
 3459              	.LVL397:
ARM GAS  /tmp/ccMCacDa.s 			page 87


 3460 0026 FFF7FEFF 		bl	cs_low
 3461              	.LVL398:
1356:Drivers/LTC681x/LTC681x.c ****   spi_write_array(4,cmd);
 3462              		.loc 1 1356 0
 3463 002a 01A9     		add	r1, sp, #4
 3464 002c 0420     		movs	r0, #4
 3465 002e FFF7FEFF 		bl	spi_write_array
 3466              	.LVL399:
 3467              	.LBB46:
1357:Drivers/LTC681x/LTC681x.c ****   for (int i = 0; i<9; i++)
 3468              		.loc 1 1357 0
 3469 0032 0024     		movs	r4, #0
 3470 0034 03E0     		b	.L242
 3471              	.LVL400:
 3472              	.L243:
1358:Drivers/LTC681x/LTC681x.c ****   {
1359:Drivers/LTC681x/LTC681x.c ****     spi_read_byte(0xFF);
 3473              		.loc 1 1359 0 discriminator 3
 3474 0036 FF20     		movs	r0, #255
 3475 0038 FFF7FEFF 		bl	spi_read_byte
 3476              	.LVL401:
1357:Drivers/LTC681x/LTC681x.c ****   for (int i = 0; i<9; i++)
 3477              		.loc 1 1357 0 discriminator 3
 3478 003c 0134     		adds	r4, r4, #1
 3479              	.LVL402:
 3480              	.L242:
1357:Drivers/LTC681x/LTC681x.c ****   for (int i = 0; i<9; i++)
 3481              		.loc 1 1357 0 is_stmt 0 discriminator 1
 3482 003e 082C     		cmp	r4, #8
 3483 0040 F9DD     		ble	.L243
 3484              	.LBE46:
1360:Drivers/LTC681x/LTC681x.c ****   }
1361:Drivers/LTC681x/LTC681x.c ****   cs_high(CS_PIN);
 3485              		.loc 1 1361 0 is_stmt 1
 3486 0042 0A20     		movs	r0, #10
 3487 0044 FFF7FEFF 		bl	cs_high
 3488              	.LVL403:
1362:Drivers/LTC681x/LTC681x.c **** 
1363:Drivers/LTC681x/LTC681x.c **** }
 3489              		.loc 1 1363 0
 3490 0048 02B0     		add	sp, sp, #8
 3491              	.LCFI111:
 3492              		.cfi_def_cfa_offset 8
 3493              		@ sp needed
 3494 004a 10BD     		pop	{r4, pc}
 3495              		.cfi_endproc
 3496              	.LFE49:
 3498              		.section	.text.LTC681x_wrsctrl,"ax",%progbits
 3499              		.align	1
 3500              		.global	LTC681x_wrsctrl
 3501              		.syntax unified
 3502              		.thumb
 3503              		.thumb_func
 3504              		.fpu softvfp
 3506              	LTC681x_wrsctrl:
 3507              	.LFB50:
1364:Drivers/LTC681x/LTC681x.c **** 
ARM GAS  /tmp/ccMCacDa.s 			page 88


1365:Drivers/LTC681x/LTC681x.c **** // Write the ltc6811 Sctrl register 
1366:Drivers/LTC681x/LTC681x.c **** void LTC681x_wrsctrl(uint8_t total_ic, // number of ICs in the daisy chain
1367:Drivers/LTC681x/LTC681x.c ****                      uint8_t sctrl_reg,
1368:Drivers/LTC681x/LTC681x.c ****                      cell_asic *ic
1369:Drivers/LTC681x/LTC681x.c ****                     )
1370:Drivers/LTC681x/LTC681x.c **** {
 3508              		.loc 1 1370 0
 3509              		.cfi_startproc
 3510              		@ args = 0, pretend = 0, frame = 264
 3511              		@ frame_needed = 0, uses_anonymous_args = 0
 3512              	.LVL404:
 3513 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3514              	.LCFI112:
 3515              		.cfi_def_cfa_offset 20
 3516              		.cfi_offset 4, -20
 3517              		.cfi_offset 5, -16
 3518              		.cfi_offset 6, -12
 3519              		.cfi_offset 7, -8
 3520              		.cfi_offset 14, -4
 3521 0002 C3B0     		sub	sp, sp, #268
 3522              	.LCFI113:
 3523              		.cfi_def_cfa_offset 288
 3524              	.LVL405:
1371:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd[2];
1372:Drivers/LTC681x/LTC681x.c ****     uint8_t write_buffer[256];
1373:Drivers/LTC681x/LTC681x.c ****     uint8_t write_count = 0;
1374:Drivers/LTC681x/LTC681x.c ****     uint8_t c_ic = 0;
1375:Drivers/LTC681x/LTC681x.c ****     if (sctrl_reg == 0)
 3525              		.loc 1 1375 0
 3526 0004 41B9     		cbnz	r1, .L246
1376:Drivers/LTC681x/LTC681x.c ****     {
1377:Drivers/LTC681x/LTC681x.c ****       cmd[0] = 0x00;
 3527              		.loc 1 1377 0
 3528 0006 0023     		movs	r3, #0
 3529 0008 8DF80431 		strb	r3, [sp, #260]
1378:Drivers/LTC681x/LTC681x.c ****       cmd[1] = 0x14;
 3530              		.loc 1 1378 0
 3531 000c 1423     		movs	r3, #20
 3532 000e 8DF80531 		strb	r3, [sp, #261]
 3533              	.L248:
 3534              	.LBB47:
 3535              	.LBB48:
1379:Drivers/LTC681x/LTC681x.c ****     }
1380:Drivers/LTC681x/LTC681x.c ****     else
1381:Drivers/LTC681x/LTC681x.c ****     {
1382:Drivers/LTC681x/LTC681x.c ****       cmd[0] = 0x00;
1383:Drivers/LTC681x/LTC681x.c ****       cmd[1] = 0x1C;
1384:Drivers/LTC681x/LTC681x.c ****     }
1385:Drivers/LTC681x/LTC681x.c ****     
1386:Drivers/LTC681x/LTC681x.c ****     for(uint8_t current_ic = 0; current_ic<total_ic;current_ic++)
1387:Drivers/LTC681x/LTC681x.c ****     {
1388:Drivers/LTC681x/LTC681x.c ****         if(ic->isospi_reverse == true){c_ic = current_ic;}
1389:Drivers/LTC681x/LTC681x.c ****         else{c_ic = total_ic - current_ic - 1;}
1390:Drivers/LTC681x/LTC681x.c **** 		
1391:Drivers/LTC681x/LTC681x.c **** 
1392:Drivers/LTC681x/LTC681x.c ****         for(uint8_t data = 0; data<6;data++)
 3536              		.loc 1 1392 0 discriminator 1
ARM GAS  /tmp/ccMCacDa.s 			page 89


 3537 0012 0027     		movs	r7, #0
 3538 0014 3C46     		mov	r4, r7
 3539 0016 19E0     		b	.L247
 3540              	.L246:
 3541              	.LBE48:
 3542              	.LBE47:
1382:Drivers/LTC681x/LTC681x.c ****       cmd[1] = 0x1C;
 3543              		.loc 1 1382 0
 3544 0018 0023     		movs	r3, #0
 3545 001a 8DF80431 		strb	r3, [sp, #260]
1383:Drivers/LTC681x/LTC681x.c ****     }
 3546              		.loc 1 1383 0
 3547 001e 1C23     		movs	r3, #28
 3548 0020 8DF80531 		strb	r3, [sp, #261]
 3549 0024 F5E7     		b	.L248
 3550              	.LVL406:
 3551              	.L253:
 3552              	.LBB51:
1388:Drivers/LTC681x/LTC681x.c ****         else{c_ic = total_ic - current_ic - 1;}
 3553              		.loc 1 1388 0
 3554 0026 3E46     		mov	r6, r7
 3555 0028 1AE0     		b	.L249
 3556              	.LVL407:
 3557              	.L251:
 3558              	.LBB49:
1393:Drivers/LTC681x/LTC681x.c ****         {
1394:Drivers/LTC681x/LTC681x.c ****             write_buffer[write_count] = ic[c_ic].sctrl.tx_data[data];
 3559              		.loc 1 1394 0 discriminator 3
 3560 002a C6EBC605 		rsb	r5, r6, r6, lsl #3
 3561 002e 6B01     		lsls	r3, r5, #5
 3562 0030 1344     		add	r3, r3, r2
 3563 0032 0B44     		add	r3, r3, r1
 3564 0034 93F89B50 		ldrb	r5, [r3, #155]	@ zero_extendqisi2
 3565 0038 01AB     		add	r3, sp, #4
 3566 003a 1D55     		strb	r5, [r3, r4]
1395:Drivers/LTC681x/LTC681x.c **** 			
1396:Drivers/LTC681x/LTC681x.c ****             write_count++;
 3567              		.loc 1 1396 0 discriminator 3
 3568 003c 0134     		adds	r4, r4, #1
 3569              	.LVL408:
 3570 003e E4B2     		uxtb	r4, r4
 3571              	.LVL409:
1392:Drivers/LTC681x/LTC681x.c ****         {
 3572              		.loc 1 1392 0 discriminator 3
 3573 0040 0131     		adds	r1, r1, #1
 3574              	.LVL410:
 3575 0042 C9B2     		uxtb	r1, r1
 3576              	.LVL411:
 3577              	.L250:
1392:Drivers/LTC681x/LTC681x.c ****         {
 3578              		.loc 1 1392 0 is_stmt 0 discriminator 1
 3579 0044 0529     		cmp	r1, #5
 3580 0046 F0D9     		bls	.L251
 3581              	.LBE49:
1386:Drivers/LTC681x/LTC681x.c ****     {
 3582              		.loc 1 1386 0 is_stmt 1 discriminator 2
 3583 0048 0137     		adds	r7, r7, #1
ARM GAS  /tmp/ccMCacDa.s 			page 90


 3584              	.LVL412:
 3585 004a FFB2     		uxtb	r7, r7
 3586              	.LVL413:
 3587              	.L247:
1386:Drivers/LTC681x/LTC681x.c ****     {
 3588              		.loc 1 1386 0 is_stmt 0 discriminator 1
 3589 004c 8742     		cmp	r7, r0
 3590 004e 09D2     		bcs	.L255
1388:Drivers/LTC681x/LTC681x.c ****         else{c_ic = total_ic - current_ic - 1;}
 3591              		.loc 1 1388 0 is_stmt 1
 3592 0050 92F8B930 		ldrb	r3, [r2, #185]	@ zero_extendqisi2
 3593 0054 002B     		cmp	r3, #0
 3594 0056 E6D1     		bne	.L253
1389:Drivers/LTC681x/LTC681x.c **** 		
 3595              		.loc 1 1389 0
 3596 0058 C61B     		subs	r6, r0, r7
 3597 005a F6B2     		uxtb	r6, r6
 3598 005c 013E     		subs	r6, r6, #1
 3599 005e F6B2     		uxtb	r6, r6
 3600              	.LVL414:
 3601              	.L249:
 3602              	.LBB50:
1392:Drivers/LTC681x/LTC681x.c ****         {
 3603              		.loc 1 1392 0
 3604 0060 0021     		movs	r1, #0
 3605 0062 EFE7     		b	.L250
 3606              	.LVL415:
 3607              	.L255:
 3608              	.LBE50:
 3609              	.LBE51:
1397:Drivers/LTC681x/LTC681x.c ****         }
1398:Drivers/LTC681x/LTC681x.c ****     }
1399:Drivers/LTC681x/LTC681x.c ****     write_68(total_ic, cmd, write_buffer);
 3610              		.loc 1 1399 0
 3611 0064 01AA     		add	r2, sp, #4
 3612              	.LVL416:
 3613 0066 41A9     		add	r1, sp, #260
 3614 0068 FFF7FEFF 		bl	write_68
 3615              	.LVL417:
1400:Drivers/LTC681x/LTC681x.c **** }					
 3616              		.loc 1 1400 0
 3617 006c 43B0     		add	sp, sp, #268
 3618              	.LCFI114:
 3619              		.cfi_def_cfa_offset 20
 3620              		@ sp needed
 3621 006e F0BD     		pop	{r4, r5, r6, r7, pc}
 3622              		.cfi_endproc
 3623              	.LFE50:
 3625              		.section	.text.LTC681x_rdsctrl,"ax",%progbits
 3626              		.align	1
 3627              		.global	LTC681x_rdsctrl
 3628              		.syntax unified
 3629              		.thumb
 3630              		.thumb_func
 3631              		.fpu softvfp
 3633              	LTC681x_rdsctrl:
 3634              	.LFB51:
ARM GAS  /tmp/ccMCacDa.s 			page 91


1401:Drivers/LTC681x/LTC681x.c **** 					
1402:Drivers/LTC681x/LTC681x.c **** /* Reads sctrl registers of a ltc6811 daisy chain    
1403:Drivers/LTC681x/LTC681x.c **** @return int8_t, PEC Status.
1404:Drivers/LTC681x/LTC681x.c ****   0: Data read back has matching PEC
1405:Drivers/LTC681x/LTC681x.c ****   -1: Data read back has incorrect PEC
1406:Drivers/LTC681x/LTC681x.c **** */
1407:Drivers/LTC681x/LTC681x.c **** int8_t LTC681x_rdsctrl(uint8_t total_ic, // number of ICs in the daisy chain
1408:Drivers/LTC681x/LTC681x.c ****                        uint8_t sctrl_reg,
1409:Drivers/LTC681x/LTC681x.c ****                        cell_asic *ic // a two dimensional array that the function stores the read p
1410:Drivers/LTC681x/LTC681x.c ****                       )	
1411:Drivers/LTC681x/LTC681x.c **** {
 3635              		.loc 1 1411 0
 3636              		.cfi_startproc
 3637              		@ args = 0, pretend = 0, frame = 264
 3638              		@ frame_needed = 0, uses_anonymous_args = 0
 3639              	.LVL418:
 3640 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3641              	.LCFI115:
 3642              		.cfi_def_cfa_offset 32
 3643              		.cfi_offset 4, -32
 3644              		.cfi_offset 5, -28
 3645              		.cfi_offset 6, -24
 3646              		.cfi_offset 7, -20
 3647              		.cfi_offset 8, -16
 3648              		.cfi_offset 9, -12
 3649              		.cfi_offset 10, -8
 3650              		.cfi_offset 14, -4
 3651 0004 C2B0     		sub	sp, sp, #264
 3652              	.LCFI116:
 3653              		.cfi_def_cfa_offset 296
 3654 0006 0746     		mov	r7, r0
 3655 0008 1646     		mov	r6, r2
 3656              	.LVL419:
1412:Drivers/LTC681x/LTC681x.c ****     uint8_t cmd[4];
1413:Drivers/LTC681x/LTC681x.c ****     uint8_t read_buffer[256];
1414:Drivers/LTC681x/LTC681x.c ****     int8_t pec_error = 0;
1415:Drivers/LTC681x/LTC681x.c ****     uint16_t data_pec;
1416:Drivers/LTC681x/LTC681x.c ****     uint16_t calc_pec;
1417:Drivers/LTC681x/LTC681x.c ****     uint8_t c_ic = 0;
1418:Drivers/LTC681x/LTC681x.c ****     
1419:Drivers/LTC681x/LTC681x.c ****     if (sctrl_reg == 0)
 3657              		.loc 1 1419 0
 3658 000a 69B9     		cbnz	r1, .L257
1420:Drivers/LTC681x/LTC681x.c ****     {
1421:Drivers/LTC681x/LTC681x.c ****       cmd[0] = 0x00;
 3659              		.loc 1 1421 0
 3660 000c 0023     		movs	r3, #0
 3661 000e 8DF80431 		strb	r3, [sp, #260]
1422:Drivers/LTC681x/LTC681x.c ****       cmd[1] = 0x16;
 3662              		.loc 1 1422 0
 3663 0012 1623     		movs	r3, #22
 3664 0014 8DF80531 		strb	r3, [sp, #261]
 3665              	.L258:
1423:Drivers/LTC681x/LTC681x.c **** 	  }
1424:Drivers/LTC681x/LTC681x.c ****     else
1425:Drivers/LTC681x/LTC681x.c ****     {
1426:Drivers/LTC681x/LTC681x.c ****       cmd[0] = 0x00;
ARM GAS  /tmp/ccMCacDa.s 			page 92


1427:Drivers/LTC681x/LTC681x.c ****       cmd[1] = 0x1E;
1428:Drivers/LTC681x/LTC681x.c **** 	  }
1429:Drivers/LTC681x/LTC681x.c ****     
1430:Drivers/LTC681x/LTC681x.c ****     pec_error = read_68(total_ic, cmd, read_buffer);
 3666              		.loc 1 1430 0
 3667 0018 01AA     		add	r2, sp, #4
 3668              	.LVL420:
 3669 001a 41A9     		add	r1, sp, #260
 3670              	.LVL421:
 3671 001c 3846     		mov	r0, r7
 3672              	.LVL422:
 3673 001e FFF7FEFF 		bl	read_68
 3674              	.LVL423:
 3675 0022 8046     		mov	r8, r0
 3676              	.LVL424:
 3677              	.LBB52:
1431:Drivers/LTC681x/LTC681x.c **** 
1432:Drivers/LTC681x/LTC681x.c ****     for(uint8_t current_ic =0; current_ic<total_ic; current_ic++)
 3678              		.loc 1 1432 0
 3679 0024 0025     		movs	r5, #0
 3680 0026 34E0     		b	.L259
 3681              	.LVL425:
 3682              	.L257:
 3683              	.LBE52:
1426:Drivers/LTC681x/LTC681x.c ****       cmd[1] = 0x1E;
 3684              		.loc 1 1426 0
 3685 0028 0023     		movs	r3, #0
 3686 002a 8DF80431 		strb	r3, [sp, #260]
1427:Drivers/LTC681x/LTC681x.c **** 	  }
 3687              		.loc 1 1427 0
 3688 002e 1E23     		movs	r3, #30
 3689 0030 8DF80531 		strb	r3, [sp, #261]
 3690 0034 F0E7     		b	.L258
 3691              	.LVL426:
 3692              	.L266:
 3693              	.LBB55:
1433:Drivers/LTC681x/LTC681x.c ****     {	
1434:Drivers/LTC681x/LTC681x.c ****         if(ic->isospi_reverse == false){c_ic = current_ic;}
 3694              		.loc 1 1434 0
 3695 0036 2C46     		mov	r4, r5
 3696 0038 35E0     		b	.L260
 3697              	.LVL427:
 3698              	.L262:
 3699              	.LBB53:
1435:Drivers/LTC681x/LTC681x.c ****         else{c_ic = total_ic - current_ic - 1;}
1436:Drivers/LTC681x/LTC681x.c **** 	
1437:Drivers/LTC681x/LTC681x.c **** 		
1438:Drivers/LTC681x/LTC681x.c ****         for(int byte=0; byte<8;byte++)
1439:Drivers/LTC681x/LTC681x.c ****         {
1440:Drivers/LTC681x/LTC681x.c ****             ic[c_ic].sctrl.rx_data[byte] = read_buffer[byte+(8*current_ic)]; 	
 3700              		.loc 1 1440 0 discriminator 3
 3701 003a 02EBC500 		add	r0, r2, r5, lsl #3
 3702 003e C4EBC401 		rsb	r1, r4, r4, lsl #3
 3703 0042 4B01     		lsls	r3, r1, #5
 3704 0044 3344     		add	r3, r3, r6
 3705 0046 01A9     		add	r1, sp, #4
 3706 0048 095C     		ldrb	r1, [r1, r0]	@ zero_extendqisi2
ARM GAS  /tmp/ccMCacDa.s 			page 93


 3707 004a 1344     		add	r3, r3, r2
 3708 004c 83F8A110 		strb	r1, [r3, #161]
1438:Drivers/LTC681x/LTC681x.c ****         {
 3709              		.loc 1 1438 0 discriminator 3
 3710 0050 0132     		adds	r2, r2, #1
 3711              	.LVL428:
 3712              	.L261:
1438:Drivers/LTC681x/LTC681x.c ****         {
 3713              		.loc 1 1438 0 is_stmt 0 discriminator 1
 3714 0052 072A     		cmp	r2, #7
 3715 0054 F1DD     		ble	.L262
 3716              	.LBE53:
1441:Drivers/LTC681x/LTC681x.c ****         }
1442:Drivers/LTC681x/LTC681x.c **** 		
1443:Drivers/LTC681x/LTC681x.c ****         calc_pec = pec15_calc(6,&read_buffer[8*current_ic]);
 3717              		.loc 1 1443 0 is_stmt 1
 3718 0056 4FEAC509 		lsl	r9, r5, #3
 3719 005a 0DF1040A 		add	r10, sp, #4
 3720 005e 0AEB0901 		add	r1, r10, r9
 3721 0062 0620     		movs	r0, #6
 3722 0064 FFF7FEFF 		bl	pec15_calc
 3723              	.LVL429:
1444:Drivers/LTC681x/LTC681x.c ****         data_pec = read_buffer[7+(8*current_ic)] | (read_buffer[6+(8*current_ic)]<<8);
 3724              		.loc 1 1444 0
 3725 0068 09F10703 		add	r3, r9, #7
 3726 006c 1AF80330 		ldrb	r3, [r10, r3]	@ zero_extendqisi2
 3727 0070 09F10609 		add	r9, r9, #6
 3728 0074 1AF80920 		ldrb	r2, [r10, r9]	@ zero_extendqisi2
 3729 0078 43EA0223 		orr	r3, r3, r2, lsl #8
 3730              	.LVL430:
1445:Drivers/LTC681x/LTC681x.c ****         if(calc_pec != data_pec )
 3731              		.loc 1 1445 0
 3732 007c 9842     		cmp	r0, r3
 3733 007e 14D0     		beq	.L263
1446:Drivers/LTC681x/LTC681x.c ****         {
1447:Drivers/LTC681x/LTC681x.c ****             ic[c_ic].sctrl.rx_pec_match = 1;
 3734              		.loc 1 1447 0
 3735 0080 C4EBC404 		rsb	r4, r4, r4, lsl #3
 3736              	.LVL431:
 3737 0084 6301     		lsls	r3, r4, #5
 3738              	.LVL432:
 3739 0086 3344     		add	r3, r3, r6
 3740 0088 0122     		movs	r2, #1
 3741              	.LVL433:
 3742 008a 83F8A920 		strb	r2, [r3, #169]
 3743              	.LVL434:
 3744              	.L264:
1432:Drivers/LTC681x/LTC681x.c ****     {	
 3745              		.loc 1 1432 0 discriminator 2
 3746 008e 0135     		adds	r5, r5, #1
 3747              	.LVL435:
 3748 0090 EDB2     		uxtb	r5, r5
 3749              	.LVL436:
 3750              	.L259:
1432:Drivers/LTC681x/LTC681x.c ****     {	
 3751              		.loc 1 1432 0 is_stmt 0 discriminator 1
 3752 0092 BD42     		cmp	r5, r7
ARM GAS  /tmp/ccMCacDa.s 			page 94


 3753 0094 11D2     		bcs	.L268
1434:Drivers/LTC681x/LTC681x.c ****         else{c_ic = total_ic - current_ic - 1;}
 3754              		.loc 1 1434 0 is_stmt 1
 3755 0096 96F8B930 		ldrb	r3, [r6, #185]	@ zero_extendqisi2
 3756 009a 002B     		cmp	r3, #0
 3757 009c CBD0     		beq	.L266
1435:Drivers/LTC681x/LTC681x.c **** 	
 3758              		.loc 1 1435 0
 3759 009e 7C1B     		subs	r4, r7, r5
 3760 00a0 E4B2     		uxtb	r4, r4
 3761 00a2 013C     		subs	r4, r4, #1
 3762 00a4 E4B2     		uxtb	r4, r4
 3763              	.LVL437:
 3764              	.L260:
 3765              	.LBB54:
1438:Drivers/LTC681x/LTC681x.c ****         {
 3766              		.loc 1 1438 0
 3767 00a6 0022     		movs	r2, #0
 3768 00a8 D3E7     		b	.L261
 3769              	.LVL438:
 3770              	.L263:
 3771              	.LBE54:
1448:Drivers/LTC681x/LTC681x.c ****         }
1449:Drivers/LTC681x/LTC681x.c ****         else ic[c_ic].sctrl.rx_pec_match = 0;
 3772              		.loc 1 1449 0
 3773 00aa C4EBC404 		rsb	r4, r4, r4, lsl #3
 3774              	.LVL439:
 3775 00ae 6301     		lsls	r3, r4, #5
 3776              	.LVL440:
 3777 00b0 3344     		add	r3, r3, r6
 3778 00b2 0022     		movs	r2, #0
 3779              	.LVL441:
 3780 00b4 83F8A920 		strb	r2, [r3, #169]
 3781              	.LVL442:
 3782 00b8 E9E7     		b	.L264
 3783              	.LVL443:
 3784              	.L268:
 3785              	.LBE55:
1450:Drivers/LTC681x/LTC681x.c **** 		
1451:Drivers/LTC681x/LTC681x.c ****     }
1452:Drivers/LTC681x/LTC681x.c ****     return(pec_error);
1453:Drivers/LTC681x/LTC681x.c **** }
 3786              		.loc 1 1453 0
 3787 00ba 4046     		mov	r0, r8
 3788 00bc 42B0     		add	sp, sp, #264
 3789              	.LCFI117:
 3790              		.cfi_def_cfa_offset 32
 3791              		@ sp needed
 3792 00be BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3793              		.cfi_endproc
 3794              	.LFE51:
 3796              		.section	.text.LTC681x_stsctrl,"ax",%progbits
 3797              		.align	1
 3798              		.global	LTC681x_stsctrl
 3799              		.syntax unified
 3800              		.thumb
 3801              		.thumb_func
ARM GAS  /tmp/ccMCacDa.s 			page 95


 3802              		.fpu softvfp
 3804              	LTC681x_stsctrl:
 3805              	.LFB52:
1454:Drivers/LTC681x/LTC681x.c **** 
1455:Drivers/LTC681x/LTC681x.c **** /* Start Sctrl data communication       
1456:Drivers/LTC681x/LTC681x.c **** This command will start the sctrl pulse communication over the spins
1457:Drivers/LTC681x/LTC681x.c **** */
1458:Drivers/LTC681x/LTC681x.c **** void LTC681x_stsctrl()
1459:Drivers/LTC681x/LTC681x.c **** {
 3806              		.loc 1 1459 0
 3807              		.cfi_startproc
 3808              		@ args = 0, pretend = 0, frame = 8
 3809              		@ frame_needed = 0, uses_anonymous_args = 0
 3810 0000 00B5     		push	{lr}
 3811              	.LCFI118:
 3812              		.cfi_def_cfa_offset 4
 3813              		.cfi_offset 14, -4
 3814 0002 83B0     		sub	sp, sp, #12
 3815              	.LCFI119:
 3816              		.cfi_def_cfa_offset 16
1460:Drivers/LTC681x/LTC681x.c **** 	 uint8_t cmd[4];
1461:Drivers/LTC681x/LTC681x.c ****     uint16_t cmd_pec;
1462:Drivers/LTC681x/LTC681x.c ****     
1463:Drivers/LTC681x/LTC681x.c ****     cmd[0] = 0x00;
 3817              		.loc 1 1463 0
 3818 0004 0023     		movs	r3, #0
 3819 0006 8DF80430 		strb	r3, [sp, #4]
1464:Drivers/LTC681x/LTC681x.c ****     cmd[1] = 0x19;
 3820              		.loc 1 1464 0
 3821 000a 1923     		movs	r3, #25
 3822 000c 8DF80530 		strb	r3, [sp, #5]
1465:Drivers/LTC681x/LTC681x.c ****     cmd_pec = pec15_calc(2, cmd);
 3823              		.loc 1 1465 0
 3824 0010 01A9     		add	r1, sp, #4
 3825 0012 0220     		movs	r0, #2
 3826 0014 FFF7FEFF 		bl	pec15_calc
 3827              	.LVL444:
1466:Drivers/LTC681x/LTC681x.c ****     cmd[2] = (uint8_t)(cmd_pec >> 8);
 3828              		.loc 1 1466 0
 3829 0018 C0F30723 		ubfx	r3, r0, #8, #8
 3830 001c 8DF80630 		strb	r3, [sp, #6]
1467:Drivers/LTC681x/LTC681x.c ****     cmd[3] = (uint8_t)(cmd_pec);
 3831              		.loc 1 1467 0
 3832 0020 8DF80700 		strb	r0, [sp, #7]
1468:Drivers/LTC681x/LTC681x.c ****     
1469:Drivers/LTC681x/LTC681x.c ****     cs_low(CS_PIN);
 3833              		.loc 1 1469 0
 3834 0024 0A20     		movs	r0, #10
 3835              	.LVL445:
 3836 0026 FFF7FEFF 		bl	cs_low
 3837              	.LVL446:
1470:Drivers/LTC681x/LTC681x.c ****     spi_write_array(4,cmd);         
 3838              		.loc 1 1470 0
 3839 002a 01A9     		add	r1, sp, #4
 3840 002c 0420     		movs	r0, #4
 3841 002e FFF7FEFF 		bl	spi_write_array
 3842              	.LVL447:
ARM GAS  /tmp/ccMCacDa.s 			page 96


1471:Drivers/LTC681x/LTC681x.c ****     
1472:Drivers/LTC681x/LTC681x.c ****     cs_high(CS_PIN);
 3843              		.loc 1 1472 0
 3844 0032 0A20     		movs	r0, #10
 3845 0034 FFF7FEFF 		bl	cs_high
 3846              	.LVL448:
1473:Drivers/LTC681x/LTC681x.c **** 
1474:Drivers/LTC681x/LTC681x.c **** }
 3847              		.loc 1 1474 0
 3848 0038 03B0     		add	sp, sp, #12
 3849              	.LCFI120:
 3850              		.cfi_def_cfa_offset 4
 3851              		@ sp needed
 3852 003a 5DF804FB 		ldr	pc, [sp], #4
 3853              		.cfi_endproc
 3854              	.LFE52:
 3856              		.section	.text.LTC681x_clear_discharge,"ax",%progbits
 3857              		.align	1
 3858              		.global	LTC681x_clear_discharge
 3859              		.syntax unified
 3860              		.thumb
 3861              		.thumb_func
 3862              		.fpu softvfp
 3864              	LTC681x_clear_discharge:
 3865              	.LFB53:
1475:Drivers/LTC681x/LTC681x.c **** 
1476:Drivers/LTC681x/LTC681x.c **** //Clears all of the DCC bits in the configuration registers
1477:Drivers/LTC681x/LTC681x.c **** void LTC681x_clear_discharge(uint8_t total_ic, 
1478:Drivers/LTC681x/LTC681x.c **** 							 cell_asic *ic
1479:Drivers/LTC681x/LTC681x.c **** 							 )
1480:Drivers/LTC681x/LTC681x.c **** {
 3866              		.loc 1 1480 0
 3867              		.cfi_startproc
 3868              		@ args = 0, pretend = 0, frame = 0
 3869              		@ frame_needed = 0, uses_anonymous_args = 0
 3870              		@ link register save eliminated.
 3871              	.LVL449:
 3872              	.LBB56:
1481:Drivers/LTC681x/LTC681x.c ****   for (int i=0; i<total_ic; i++)
 3873              		.loc 1 1481 0
 3874 0000 0022     		movs	r2, #0
 3875              	.LVL450:
 3876 0002 9042     		cmp	r0, r2
 3877 0004 17DD     		ble	.L277
 3878              	.LBE56:
1480:Drivers/LTC681x/LTC681x.c ****   for (int i=0; i<total_ic; i++)
 3879              		.loc 1 1480 0
 3880 0006 10B4     		push	{r4}
 3881              	.LCFI121:
 3882              		.cfi_def_cfa_offset 4
 3883              		.cfi_offset 4, -4
 3884              	.L273:
 3885              	.LBB57:
1482:Drivers/LTC681x/LTC681x.c ****   {
1483:Drivers/LTC681x/LTC681x.c ****     ic[i].config.tx_data[4] = 0;
 3886              		.loc 1 1483 0 discriminator 3
 3887 0008 C2EBC204 		rsb	r4, r2, r2, lsl #3
ARM GAS  /tmp/ccMCacDa.s 			page 97


 3888 000c 6301     		lsls	r3, r4, #5
 3889 000e 0B44     		add	r3, r3, r1
 3890 0010 0024     		movs	r4, #0
 3891 0012 1C71     		strb	r4, [r3, #4]
1484:Drivers/LTC681x/LTC681x.c **** 	ic[i].config.tx_data[5] =ic[i].config.tx_data[5]&(0xF0);
 3892              		.loc 1 1484 0 discriminator 3
 3893 0014 5C79     		ldrb	r4, [r3, #5]	@ zero_extendqisi2
 3894 0016 04F0F004 		and	r4, r4, #240
 3895 001a 5C71     		strb	r4, [r3, #5]
1485:Drivers/LTC681x/LTC681x.c **** 	ic[i].configb.tx_data[0]=ic[i].configb.tx_data[0]&(0x0F); 
 3896              		.loc 1 1485 0 discriminator 3
 3897 001c DC7B     		ldrb	r4, [r3, #15]	@ zero_extendqisi2
 3898 001e 04F00F04 		and	r4, r4, #15
 3899 0022 DC73     		strb	r4, [r3, #15]
1486:Drivers/LTC681x/LTC681x.c **** 	ic[i].configb.tx_data[1]=ic[i].configb.tx_data[1]&(0xF0);
 3900              		.loc 1 1486 0 discriminator 3
 3901 0024 1C7C     		ldrb	r4, [r3, #16]	@ zero_extendqisi2
 3902 0026 04F0F004 		and	r4, r4, #240
 3903 002a 1C74     		strb	r4, [r3, #16]
1481:Drivers/LTC681x/LTC681x.c ****   {
 3904              		.loc 1 1481 0 discriminator 3
 3905 002c 0132     		adds	r2, r2, #1
 3906              	.LVL451:
 3907 002e 9042     		cmp	r0, r2
 3908 0030 EADC     		bgt	.L273
 3909              	.LBE57:
1487:Drivers/LTC681x/LTC681x.c ****   }
1488:Drivers/LTC681x/LTC681x.c **** }
 3910              		.loc 1 1488 0
 3911 0032 10BC     		pop	{r4}
 3912              	.LCFI122:
 3913              		.cfi_restore 4
 3914              		.cfi_def_cfa_offset 0
 3915 0034 7047     		bx	lr
 3916              	.L277:
 3917 0036 7047     		bx	lr
 3918              		.cfi_endproc
 3919              	.LFE53:
 3921              		.section	.text.LTC681x_st_lookup,"ax",%progbits
 3922              		.align	1
 3923              		.global	LTC681x_st_lookup
 3924              		.syntax unified
 3925              		.thumb
 3926              		.thumb_func
 3927              		.fpu softvfp
 3929              	LTC681x_st_lookup:
 3930              	.LFB54:
1489:Drivers/LTC681x/LTC681x.c **** 
1490:Drivers/LTC681x/LTC681x.c **** //Looks up the result pattern for digital filter self test
1491:Drivers/LTC681x/LTC681x.c **** uint16_t LTC681x_st_lookup(uint8_t MD, //ADC Mode
1492:Drivers/LTC681x/LTC681x.c **** 						   uint8_t ST, //Self Test
1493:Drivers/LTC681x/LTC681x.c **** 						   bool adcopt
1494:Drivers/LTC681x/LTC681x.c **** 						  )
1495:Drivers/LTC681x/LTC681x.c **** {
 3931              		.loc 1 1495 0
 3932              		.cfi_startproc
 3933              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccMCacDa.s 			page 98


 3934              		@ frame_needed = 0, uses_anonymous_args = 0
 3935              		@ link register save eliminated.
 3936              	.LVL452:
1496:Drivers/LTC681x/LTC681x.c ****  uint16_t test_pattern = 0;
1497:Drivers/LTC681x/LTC681x.c **** 
1498:Drivers/LTC681x/LTC681x.c ****     if (MD == 1)
 3937              		.loc 1 1498 0
 3938 0000 0128     		cmp	r0, #1
 3939 0002 04D0     		beq	.L285
1499:Drivers/LTC681x/LTC681x.c ****     { 
1500:Drivers/LTC681x/LTC681x.c **** 		if ( adcopt == false)
1501:Drivers/LTC681x/LTC681x.c **** 		{	 if (ST == 1)
1502:Drivers/LTC681x/LTC681x.c **** 			  {
1503:Drivers/LTC681x/LTC681x.c **** 				test_pattern = 0x9565;
1504:Drivers/LTC681x/LTC681x.c **** 			  }
1505:Drivers/LTC681x/LTC681x.c **** 			  else
1506:Drivers/LTC681x/LTC681x.c **** 			  {
1507:Drivers/LTC681x/LTC681x.c **** 				test_pattern = 0x6A9A;
1508:Drivers/LTC681x/LTC681x.c **** 			  }
1509:Drivers/LTC681x/LTC681x.c **** 		}
1510:Drivers/LTC681x/LTC681x.c **** 		else
1511:Drivers/LTC681x/LTC681x.c **** 		{	  if (ST == 1)
1512:Drivers/LTC681x/LTC681x.c **** 			  {
1513:Drivers/LTC681x/LTC681x.c **** 				test_pattern = 0x9553;
1514:Drivers/LTC681x/LTC681x.c **** 			  }
1515:Drivers/LTC681x/LTC681x.c **** 			  else
1516:Drivers/LTC681x/LTC681x.c **** 			  {
1517:Drivers/LTC681x/LTC681x.c **** 				test_pattern = 0x6AAC;
1518:Drivers/LTC681x/LTC681x.c **** 			  }
1519:Drivers/LTC681x/LTC681x.c **** 			
1520:Drivers/LTC681x/LTC681x.c **** 		}
1521:Drivers/LTC681x/LTC681x.c ****     }
1522:Drivers/LTC681x/LTC681x.c ****     else
1523:Drivers/LTC681x/LTC681x.c ****     {
1524:Drivers/LTC681x/LTC681x.c **** 		if (ST == 1)
 3940              		.loc 1 1524 0
 3941 0004 0129     		cmp	r1, #1
 3942 0006 13D0     		beq	.L286
1525:Drivers/LTC681x/LTC681x.c **** 		{
1526:Drivers/LTC681x/LTC681x.c **** 		   test_pattern = 0x9555;
1527:Drivers/LTC681x/LTC681x.c **** 		}
1528:Drivers/LTC681x/LTC681x.c **** 		else
1529:Drivers/LTC681x/LTC681x.c **** 		{
1530:Drivers/LTC681x/LTC681x.c **** 		   test_pattern = 0x6AAA;
 3943              		.loc 1 1530 0
 3944 0008 46F6AA20 		movw	r0, #27306
 3945              	.LVL453:
1531:Drivers/LTC681x/LTC681x.c **** 		}
1532:Drivers/LTC681x/LTC681x.c ****     }
1533:Drivers/LTC681x/LTC681x.c ****     return(test_pattern);
1534:Drivers/LTC681x/LTC681x.c **** }
 3946              		.loc 1 1534 0
 3947 000c 7047     		bx	lr
 3948              	.LVL454:
 3949              	.L285:
1500:Drivers/LTC681x/LTC681x.c **** 		{	 if (ST == 1)
 3950              		.loc 1 1500 0
ARM GAS  /tmp/ccMCacDa.s 			page 99


 3951 000e 3AB9     		cbnz	r2, .L280
1501:Drivers/LTC681x/LTC681x.c **** 			  {
 3952              		.loc 1 1501 0
 3953 0010 0129     		cmp	r1, #1
 3954 0012 02D0     		beq	.L287
1507:Drivers/LTC681x/LTC681x.c **** 			  }
 3955              		.loc 1 1507 0
 3956 0014 46F69A20 		movw	r0, #27290
 3957              	.LVL455:
 3958 0018 7047     		bx	lr
 3959              	.LVL456:
 3960              	.L287:
1503:Drivers/LTC681x/LTC681x.c **** 			  }
 3961              		.loc 1 1503 0
 3962 001a 49F26550 		movw	r0, #38245
 3963              	.LVL457:
 3964 001e 7047     		bx	lr
 3965              	.LVL458:
 3966              	.L280:
1511:Drivers/LTC681x/LTC681x.c **** 			  {
 3967              		.loc 1 1511 0
 3968 0020 0129     		cmp	r1, #1
 3969 0022 02D0     		beq	.L288
1517:Drivers/LTC681x/LTC681x.c **** 			  }
 3970              		.loc 1 1517 0
 3971 0024 46F6AC20 		movw	r0, #27308
 3972              	.LVL459:
 3973 0028 7047     		bx	lr
 3974              	.LVL460:
 3975              	.L288:
1513:Drivers/LTC681x/LTC681x.c **** 			  }
 3976              		.loc 1 1513 0
 3977 002a 49F25350 		movw	r0, #38227
 3978              	.LVL461:
 3979 002e 7047     		bx	lr
 3980              	.LVL462:
 3981              	.L286:
1526:Drivers/LTC681x/LTC681x.c **** 		}
 3982              		.loc 1 1526 0
 3983 0030 49F25550 		movw	r0, #38229
 3984              	.LVL463:
 3985 0034 7047     		bx	lr
 3986              		.cfi_endproc
 3987              	.LFE54:
 3989              		.section	.text.LTC681x_check_pec,"ax",%progbits
 3990              		.align	1
 3991              		.global	LTC681x_check_pec
 3992              		.syntax unified
 3993              		.thumb
 3994              		.thumb_func
 3995              		.fpu softvfp
 3997              	LTC681x_check_pec:
 3998              	.LFB60:
1535:Drivers/LTC681x/LTC681x.c **** 
1536:Drivers/LTC681x/LTC681x.c **** // Runs the Digital Filter Self Test
1537:Drivers/LTC681x/LTC681x.c **** int16_t LTC681x_run_cell_adc_st(uint8_t adc_reg,
1538:Drivers/LTC681x/LTC681x.c **** 								uint8_t total_ic, 
ARM GAS  /tmp/ccMCacDa.s 			page 100


1539:Drivers/LTC681x/LTC681x.c **** 								cell_asic *ic, 
1540:Drivers/LTC681x/LTC681x.c **** 								uint8_t md, 
1541:Drivers/LTC681x/LTC681x.c **** 								bool adcopt
1542:Drivers/LTC681x/LTC681x.c **** 								)
1543:Drivers/LTC681x/LTC681x.c **** {
1544:Drivers/LTC681x/LTC681x.c ****   int16_t error = 0;
1545:Drivers/LTC681x/LTC681x.c ****   uint16_t expected_result = 0;
1546:Drivers/LTC681x/LTC681x.c ****   
1547:Drivers/LTC681x/LTC681x.c ****   for (int self_test = 1; self_test<3; self_test++)
1548:Drivers/LTC681x/LTC681x.c ****   {
1549:Drivers/LTC681x/LTC681x.c **** 
1550:Drivers/LTC681x/LTC681x.c ****     expected_result = LTC681x_st_lookup(md,self_test,adcopt);
1551:Drivers/LTC681x/LTC681x.c ****     wakeup_idle(total_ic);
1552:Drivers/LTC681x/LTC681x.c ****     switch (adc_reg)
1553:Drivers/LTC681x/LTC681x.c ****     {
1554:Drivers/LTC681x/LTC681x.c ****       case CELL:
1555:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
1556:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clrcell();
1557:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_cvst(md,self_test);
1558:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_pollAdc();
1559:Drivers/LTC681x/LTC681x.c **** 		     
1560:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
1561:Drivers/LTC681x/LTC681x.c **** 		  error = LTC681x_rdcv(0, total_ic,ic);      
1562:Drivers/LTC681x/LTC681x.c **** 		  for (int cic = 0; cic < total_ic; cic++)
1563:Drivers/LTC681x/LTC681x.c **** 			{
1564:Drivers/LTC681x/LTC681x.c **** 			  for (int channel=0; channel< ic[cic].ic_reg.cell_channels; channel++)
1565:Drivers/LTC681x/LTC681x.c **** 			  {
1566:Drivers/LTC681x/LTC681x.c **** 				             
1567:Drivers/LTC681x/LTC681x.c **** 				if (ic[cic].cells.c_codes[channel] != expected_result)
1568:Drivers/LTC681x/LTC681x.c **** 				{
1569:Drivers/LTC681x/LTC681x.c **** 				  error = error+1;
1570:Drivers/LTC681x/LTC681x.c **** 				}
1571:Drivers/LTC681x/LTC681x.c **** 			  }
1572:Drivers/LTC681x/LTC681x.c **** 			}
1573:Drivers/LTC681x/LTC681x.c ****         break;
1574:Drivers/LTC681x/LTC681x.c ****       case AUX:
1575:Drivers/LTC681x/LTC681x.c **** 		  error = 0;
1576:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
1577:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clraux();
1578:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_axst(md,self_test);
1579:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_pollAdc();
1580:Drivers/LTC681x/LTC681x.c **** 		  
1581:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
1582:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_rdaux(0, total_ic,ic);     
1583:Drivers/LTC681x/LTC681x.c **** 		  for (int cic = 0; cic < total_ic; cic++)
1584:Drivers/LTC681x/LTC681x.c **** 			{
1585:Drivers/LTC681x/LTC681x.c **** 			  for (int channel=0; channel< ic[cic].ic_reg.aux_channels; channel++)
1586:Drivers/LTC681x/LTC681x.c **** 			  { 
1587:Drivers/LTC681x/LTC681x.c **** 				 
1588:Drivers/LTC681x/LTC681x.c **** 				if (ic[cic].aux.a_codes[channel] != expected_result)
1589:Drivers/LTC681x/LTC681x.c **** 				{
1590:Drivers/LTC681x/LTC681x.c **** 				  error = error+1;
1591:Drivers/LTC681x/LTC681x.c **** 				}
1592:Drivers/LTC681x/LTC681x.c **** 			  }
1593:Drivers/LTC681x/LTC681x.c **** 			}
1594:Drivers/LTC681x/LTC681x.c ****         break;
1595:Drivers/LTC681x/LTC681x.c ****       case STAT:
ARM GAS  /tmp/ccMCacDa.s 			page 101


1596:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
1597:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clrstat();
1598:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_statst(md,self_test);
1599:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_pollAdc();
1600:Drivers/LTC681x/LTC681x.c **** 		  
1601:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
1602:Drivers/LTC681x/LTC681x.c **** 		  error = LTC681x_rdstat(0,total_ic,ic);
1603:Drivers/LTC681x/LTC681x.c **** 		  for (int cic = 0; cic < total_ic; cic++)
1604:Drivers/LTC681x/LTC681x.c **** 			{
1605:Drivers/LTC681x/LTC681x.c **** 			  for (int channel=0; channel< ic[cic].ic_reg.stat_channels; channel++)
1606:Drivers/LTC681x/LTC681x.c **** 			  {
1607:Drivers/LTC681x/LTC681x.c **** 				if (ic[cic].stat.stat_codes[channel] != expected_result)
1608:Drivers/LTC681x/LTC681x.c **** 				{
1609:Drivers/LTC681x/LTC681x.c **** 				  error = error+1;
1610:Drivers/LTC681x/LTC681x.c **** 				}
1611:Drivers/LTC681x/LTC681x.c **** 			  }
1612:Drivers/LTC681x/LTC681x.c **** 			}
1613:Drivers/LTC681x/LTC681x.c ****         break;
1614:Drivers/LTC681x/LTC681x.c **** 
1615:Drivers/LTC681x/LTC681x.c ****       default:
1616:Drivers/LTC681x/LTC681x.c ****         error = -1;
1617:Drivers/LTC681x/LTC681x.c ****         break;
1618:Drivers/LTC681x/LTC681x.c ****     }
1619:Drivers/LTC681x/LTC681x.c ****   }
1620:Drivers/LTC681x/LTC681x.c ****   return(error);
1621:Drivers/LTC681x/LTC681x.c **** }
1622:Drivers/LTC681x/LTC681x.c **** 
1623:Drivers/LTC681x/LTC681x.c **** //Runs the redundancy self test
1624:Drivers/LTC681x/LTC681x.c **** int16_t LTC681x_run_adc_redundancy_st(uint8_t adc_mode, 
1625:Drivers/LTC681x/LTC681x.c **** 									  uint8_t adc_reg, 
1626:Drivers/LTC681x/LTC681x.c **** 									  uint8_t total_ic, 
1627:Drivers/LTC681x/LTC681x.c **** 									  cell_asic *ic
1628:Drivers/LTC681x/LTC681x.c **** 									  )
1629:Drivers/LTC681x/LTC681x.c **** {
1630:Drivers/LTC681x/LTC681x.c ****   int16_t error = 0;
1631:Drivers/LTC681x/LTC681x.c ****   for (int self_test = 1; self_test<3; self_test++)
1632:Drivers/LTC681x/LTC681x.c ****   {
1633:Drivers/LTC681x/LTC681x.c ****     wakeup_idle(total_ic);
1634:Drivers/LTC681x/LTC681x.c ****     switch (adc_reg)
1635:Drivers/LTC681x/LTC681x.c ****     {
1636:Drivers/LTC681x/LTC681x.c ****       case AUX:
1637:Drivers/LTC681x/LTC681x.c **** 		LTC681x_clraux();
1638:Drivers/LTC681x/LTC681x.c **** 		LTC681x_adaxd(adc_mode,AUX_CH_ALL);
1639:Drivers/LTC681x/LTC681x.c **** 	    LTC681x_pollAdc();
1640:Drivers/LTC681x/LTC681x.c **** 	
1641:Drivers/LTC681x/LTC681x.c **** 		wakeup_idle(total_ic);
1642:Drivers/LTC681x/LTC681x.c **** 		error = LTC681x_rdaux(0, total_ic,ic);
1643:Drivers/LTC681x/LTC681x.c **** 	    for (int cic = 0; cic < total_ic; cic++)
1644:Drivers/LTC681x/LTC681x.c **** 		{
1645:Drivers/LTC681x/LTC681x.c **** 			 for (int channel=0; channel< ic[cic].ic_reg.aux_channels; channel++)
1646:Drivers/LTC681x/LTC681x.c **** 			  { 
1647:Drivers/LTC681x/LTC681x.c **** 				if (ic[cic].aux.a_codes[channel] >= 65280)
1648:Drivers/LTC681x/LTC681x.c **** 				{
1649:Drivers/LTC681x/LTC681x.c **** 				  error = error+1;
1650:Drivers/LTC681x/LTC681x.c **** 				}
1651:Drivers/LTC681x/LTC681x.c **** 			  }
1652:Drivers/LTC681x/LTC681x.c **** 		}
ARM GAS  /tmp/ccMCacDa.s 			page 102


1653:Drivers/LTC681x/LTC681x.c ****         break;
1654:Drivers/LTC681x/LTC681x.c ****       case STAT:
1655:Drivers/LTC681x/LTC681x.c **** 		LTC681x_clrstat();
1656:Drivers/LTC681x/LTC681x.c **** 		LTC681x_adstatd(adc_mode,STAT_CH_ALL);
1657:Drivers/LTC681x/LTC681x.c **** 		LTC681x_pollAdc();
1658:Drivers/LTC681x/LTC681x.c **** 		wakeup_idle(total_ic);
1659:Drivers/LTC681x/LTC681x.c **** 		error = LTC681x_rdstat(0,total_ic,ic);
1660:Drivers/LTC681x/LTC681x.c **** 		for (int cic = 0; cic < total_ic; cic++)
1661:Drivers/LTC681x/LTC681x.c **** 		{
1662:Drivers/LTC681x/LTC681x.c **** 		  for (int channel=0; channel< ic[cic].ic_reg.stat_channels; channel++)
1663:Drivers/LTC681x/LTC681x.c **** 		  {
1664:Drivers/LTC681x/LTC681x.c **** 			if (ic[cic].stat.stat_codes[channel] >= 65280)
1665:Drivers/LTC681x/LTC681x.c **** 			{
1666:Drivers/LTC681x/LTC681x.c **** 			  error = error+1;
1667:Drivers/LTC681x/LTC681x.c **** 			}
1668:Drivers/LTC681x/LTC681x.c **** 		  }
1669:Drivers/LTC681x/LTC681x.c **** 		}
1670:Drivers/LTC681x/LTC681x.c **** 		break;
1671:Drivers/LTC681x/LTC681x.c **** 
1672:Drivers/LTC681x/LTC681x.c ****       default:
1673:Drivers/LTC681x/LTC681x.c ****         error = -1;
1674:Drivers/LTC681x/LTC681x.c ****         break;
1675:Drivers/LTC681x/LTC681x.c ****     }
1676:Drivers/LTC681x/LTC681x.c ****   }
1677:Drivers/LTC681x/LTC681x.c ****   return(error);
1678:Drivers/LTC681x/LTC681x.c **** }
1679:Drivers/LTC681x/LTC681x.c **** 
1680:Drivers/LTC681x/LTC681x.c **** //Runs the data sheet algorithm for open wire for single cell detection
1681:Drivers/LTC681x/LTC681x.c **** void LTC681x_run_openwire_single(uint8_t total_ic, 
1682:Drivers/LTC681x/LTC681x.c **** 								cell_asic ic[]
1683:Drivers/LTC681x/LTC681x.c **** 								)
1684:Drivers/LTC681x/LTC681x.c **** 	{				  
1685:Drivers/LTC681x/LTC681x.c **** 		  uint16_t OPENWIRE_THRESHOLD = 4000;
1686:Drivers/LTC681x/LTC681x.c **** 		  const uint8_t  N_CHANNELS = ic[0].ic_reg.cell_channels;
1687:Drivers/LTC681x/LTC681x.c **** 		  
1688:Drivers/LTC681x/LTC681x.c **** 		  uint16_t pullUp[total_ic][N_CHANNELS];
1689:Drivers/LTC681x/LTC681x.c **** 		  uint16_t pullDwn[total_ic][N_CHANNELS];
1690:Drivers/LTC681x/LTC681x.c **** 		  int16_t openWire_delta[total_ic][N_CHANNELS];
1691:Drivers/LTC681x/LTC681x.c **** 		  
1692:Drivers/LTC681x/LTC681x.c **** 		  int8_t error;
1693:Drivers/LTC681x/LTC681x.c **** 		  int8_t i;
1694:Drivers/LTC681x/LTC681x.c **** 		  uint32_t conv_time=0;
1695:Drivers/LTC681x/LTC681x.c ****   
1696:Drivers/LTC681x/LTC681x.c **** 		  wakeup_sleep(total_ic);
1697:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clrcell();
1698:Drivers/LTC681x/LTC681x.c **** 		  
1699:Drivers/LTC681x/LTC681x.c **** 		  // pull ups
1700:Drivers/LTC681x/LTC681x.c **** 		  for (i = 0; i < 3; i++)
1701:Drivers/LTC681x/LTC681x.c **** 		  { 
1702:Drivers/LTC681x/LTC681x.c **** 			wakeup_idle(total_ic);
1703:Drivers/LTC681x/LTC681x.c **** 			LTC681x_adow(MD_26HZ_2KHZ,PULL_UP_CURRENT,CELL_CH_ALL,DCP_DISABLED);
1704:Drivers/LTC681x/LTC681x.c **** 			conv_time =LTC681x_pollAdc();
1705:Drivers/LTC681x/LTC681x.c **** 		  } 
1706:Drivers/LTC681x/LTC681x.c **** 		  
1707:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
1708:Drivers/LTC681x/LTC681x.c **** 		  error=LTC681x_rdcv(0, total_ic,ic);
1709:Drivers/LTC681x/LTC681x.c **** 		  
ARM GAS  /tmp/ccMCacDa.s 			page 103


1710:Drivers/LTC681x/LTC681x.c **** 		  for (int cic=0; cic<total_ic; cic++)
1711:Drivers/LTC681x/LTC681x.c **** 		  {
1712:Drivers/LTC681x/LTC681x.c **** 			  for (int cell=0; cell<N_CHANNELS; cell++)
1713:Drivers/LTC681x/LTC681x.c **** 				{
1714:Drivers/LTC681x/LTC681x.c **** 				  pullUp[cic][cell] = ic[cic].cells.c_codes[cell];
1715:Drivers/LTC681x/LTC681x.c **** 				}
1716:Drivers/LTC681x/LTC681x.c **** 				
1717:Drivers/LTC681x/LTC681x.c **** 		  }
1718:Drivers/LTC681x/LTC681x.c **** 
1719:Drivers/LTC681x/LTC681x.c **** 		  // pull downs
1720:Drivers/LTC681x/LTC681x.c **** 		  for (i = 0; i < 3; i++)
1721:Drivers/LTC681x/LTC681x.c **** 		  {  
1722:Drivers/LTC681x/LTC681x.c **** 			wakeup_idle(total_ic);
1723:Drivers/LTC681x/LTC681x.c **** 			LTC681x_adow(MD_26HZ_2KHZ,PULL_DOWN_CURRENT,CELL_CH_ALL,DCP_DISABLED);
1724:Drivers/LTC681x/LTC681x.c **** 			conv_time =LTC681x_pollAdc();
1725:Drivers/LTC681x/LTC681x.c **** 		  }
1726:Drivers/LTC681x/LTC681x.c **** 		 
1727:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
1728:Drivers/LTC681x/LTC681x.c **** 		  error=LTC681x_rdcv(0, total_ic,ic); 
1729:Drivers/LTC681x/LTC681x.c **** 		  
1730:Drivers/LTC681x/LTC681x.c **** 		  for (int cic=0; cic<total_ic; cic++)
1731:Drivers/LTC681x/LTC681x.c **** 		  {		  
1732:Drivers/LTC681x/LTC681x.c **** 			  for (int cell=0; cell<N_CHANNELS; cell++)
1733:Drivers/LTC681x/LTC681x.c **** 				{
1734:Drivers/LTC681x/LTC681x.c **** 				   pullDwn[cic][cell] = ic[cic].cells.c_codes[cell];
1735:Drivers/LTC681x/LTC681x.c **** 				}
1736:Drivers/LTC681x/LTC681x.c **** 		  }
1737:Drivers/LTC681x/LTC681x.c **** 
1738:Drivers/LTC681x/LTC681x.c **** 		  for (int cic=0; cic<total_ic; cic++)
1739:Drivers/LTC681x/LTC681x.c **** 		  {
1740:Drivers/LTC681x/LTC681x.c **** 			  ic[cic].system_open_wire = 0xFFFF;
1741:Drivers/LTC681x/LTC681x.c **** 			  
1742:Drivers/LTC681x/LTC681x.c **** 				for (int cell=0; cell<N_CHANNELS; cell++)
1743:Drivers/LTC681x/LTC681x.c **** 				{
1744:Drivers/LTC681x/LTC681x.c **** 					if (pullDwn[cic][cell] < pullUp[cic][cell])                   
1745:Drivers/LTC681x/LTC681x.c **** 						{
1746:Drivers/LTC681x/LTC681x.c **** 							openWire_delta[cic][cell] = (pullUp[cic][cell] - pullDwn[cic][cell]);
1747:Drivers/LTC681x/LTC681x.c **** 						}
1748:Drivers/LTC681x/LTC681x.c **** 						else
1749:Drivers/LTC681x/LTC681x.c **** 						{
1750:Drivers/LTC681x/LTC681x.c **** 							openWire_delta[cic][cell] = 0;                                             
1751:Drivers/LTC681x/LTC681x.c **** 						}  
1752:Drivers/LTC681x/LTC681x.c **** 						
1753:Drivers/LTC681x/LTC681x.c **** 					if (openWire_delta[cic][cell]>OPENWIRE_THRESHOLD)
1754:Drivers/LTC681x/LTC681x.c **** 					  {
1755:Drivers/LTC681x/LTC681x.c **** 						ic[cic].system_open_wire = cell+1;
1756:Drivers/LTC681x/LTC681x.c **** 					  }
1757:Drivers/LTC681x/LTC681x.c **** 	  
1758:Drivers/LTC681x/LTC681x.c **** 				}
1759:Drivers/LTC681x/LTC681x.c **** 				
1760:Drivers/LTC681x/LTC681x.c **** 			if (pullUp[cic][0] == 0)
1761:Drivers/LTC681x/LTC681x.c **** 			{
1762:Drivers/LTC681x/LTC681x.c **** 			  ic[cic].system_open_wire = 0;
1763:Drivers/LTC681x/LTC681x.c **** 			}
1764:Drivers/LTC681x/LTC681x.c **** 		  
1765:Drivers/LTC681x/LTC681x.c **** 			if (pullUp[cic][(N_CHANNELS-1)] == 0)//checking the Pull up value of the top measured channel
1766:Drivers/LTC681x/LTC681x.c **** 			{
ARM GAS  /tmp/ccMCacDa.s 			page 104


1767:Drivers/LTC681x/LTC681x.c **** 			  ic[cic].system_open_wire = N_CHANNELS;
1768:Drivers/LTC681x/LTC681x.c **** 			}	
1769:Drivers/LTC681x/LTC681x.c **** 		  }
1770:Drivers/LTC681x/LTC681x.c **** 	}
1771:Drivers/LTC681x/LTC681x.c **** 
1772:Drivers/LTC681x/LTC681x.c **** //Runs the data sheet algorithm for open wire for multiple cell and two consecutive cells detection
1773:Drivers/LTC681x/LTC681x.c ****  void LTC681x_run_openwire_multi(uint8_t total_ic, 
1774:Drivers/LTC681x/LTC681x.c **** 						  cell_asic ic[]
1775:Drivers/LTC681x/LTC681x.c **** 						  )
1776:Drivers/LTC681x/LTC681x.c **** 	{              
1777:Drivers/LTC681x/LTC681x.c **** 		  uint16_t OPENWIRE_THRESHOLD = 4000;
1778:Drivers/LTC681x/LTC681x.c **** 		  const uint8_t  N_CHANNELS = ic[0].ic_reg.cell_channels;
1779:Drivers/LTC681x/LTC681x.c **** 		  
1780:Drivers/LTC681x/LTC681x.c **** 		  uint16_t pullUp[total_ic][N_CHANNELS];
1781:Drivers/LTC681x/LTC681x.c **** 		  uint16_t pullDwn[total_ic][N_CHANNELS];
1782:Drivers/LTC681x/LTC681x.c **** 		  uint16_t openWire_delta[total_ic][N_CHANNELS];
1783:Drivers/LTC681x/LTC681x.c **** 		  
1784:Drivers/LTC681x/LTC681x.c **** 		  int8_t error;
1785:Drivers/LTC681x/LTC681x.c **** 		  int8_t opencells[N_CHANNELS];
1786:Drivers/LTC681x/LTC681x.c **** 		  int8_t n=0;
1787:Drivers/LTC681x/LTC681x.c **** 		  int8_t i,j,k;
1788:Drivers/LTC681x/LTC681x.c **** 		  uint32_t conv_time=0;
1789:Drivers/LTC681x/LTC681x.c **** 
1790:Drivers/LTC681x/LTC681x.c **** 		  wakeup_sleep(total_ic);
1791:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clrcell();
1792:Drivers/LTC681x/LTC681x.c **** 		  
1793:Drivers/LTC681x/LTC681x.c **** 		  // pull ups
1794:Drivers/LTC681x/LTC681x.c **** 		  for (i = 0; i < 5; i++)
1795:Drivers/LTC681x/LTC681x.c **** 		  { 
1796:Drivers/LTC681x/LTC681x.c **** 				wakeup_idle(total_ic);
1797:Drivers/LTC681x/LTC681x.c **** 				LTC681x_adow(MD_26HZ_2KHZ,PULL_UP_CURRENT,CELL_CH_ALL,DCP_DISABLED);
1798:Drivers/LTC681x/LTC681x.c **** 				conv_time =LTC681x_pollAdc();
1799:Drivers/LTC681x/LTC681x.c **** 		  } 
1800:Drivers/LTC681x/LTC681x.c **** 			
1801:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
1802:Drivers/LTC681x/LTC681x.c **** 		  error = LTC681x_rdcv(0, total_ic,ic);
1803:Drivers/LTC681x/LTC681x.c **** 		  
1804:Drivers/LTC681x/LTC681x.c **** 		  for (int cic=0; cic<total_ic; cic++)
1805:Drivers/LTC681x/LTC681x.c **** 		  {
1806:Drivers/LTC681x/LTC681x.c **** 			  for (int cell=0; cell<N_CHANNELS; cell++)
1807:Drivers/LTC681x/LTC681x.c **** 				{
1808:Drivers/LTC681x/LTC681x.c **** 				  pullUp[cic][cell] = ic[cic].cells.c_codes[cell];
1809:Drivers/LTC681x/LTC681x.c **** 				}
1810:Drivers/LTC681x/LTC681x.c **** 		  }
1811:Drivers/LTC681x/LTC681x.c **** 		  
1812:Drivers/LTC681x/LTC681x.c **** 		  // pull downs
1813:Drivers/LTC681x/LTC681x.c **** 		  for (i = 0; i < 5; i++)
1814:Drivers/LTC681x/LTC681x.c **** 		  {  
1815:Drivers/LTC681x/LTC681x.c **** 			  wakeup_idle(total_ic);
1816:Drivers/LTC681x/LTC681x.c **** 			  LTC681x_adow(MD_26HZ_2KHZ,PULL_DOWN_CURRENT,CELL_CH_ALL,DCP_DISABLED);
1817:Drivers/LTC681x/LTC681x.c **** 			  conv_time =   LTC681x_pollAdc();
1818:Drivers/LTC681x/LTC681x.c **** 		  }
1819:Drivers/LTC681x/LTC681x.c **** 		 
1820:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
1821:Drivers/LTC681x/LTC681x.c **** 		  error = LTC681x_rdcv(0, total_ic,ic); 
1822:Drivers/LTC681x/LTC681x.c **** 		  
1823:Drivers/LTC681x/LTC681x.c **** 		  for (int cic=0; cic<total_ic; cic++)
ARM GAS  /tmp/ccMCacDa.s 			page 105


1824:Drivers/LTC681x/LTC681x.c **** 		  {
1825:Drivers/LTC681x/LTC681x.c **** 			for (int cell=0; cell<N_CHANNELS; cell++)
1826:Drivers/LTC681x/LTC681x.c **** 				{
1827:Drivers/LTC681x/LTC681x.c **** 				   pullDwn[cic][cell] = ic[cic].cells.c_codes[cell];
1828:Drivers/LTC681x/LTC681x.c **** 				}
1829:Drivers/LTC681x/LTC681x.c **** 		  }
1830:Drivers/LTC681x/LTC681x.c **** 
1831:Drivers/LTC681x/LTC681x.c **** 		   
1832:Drivers/LTC681x/LTC681x.c **** 		  for (int cic=0; cic<total_ic; cic++)
1833:Drivers/LTC681x/LTC681x.c **** 		  {			  
1834:Drivers/LTC681x/LTC681x.c **** 				for (int cell=0; cell<N_CHANNELS; cell++)
1835:Drivers/LTC681x/LTC681x.c **** 				{
1836:Drivers/LTC681x/LTC681x.c **** 					if (pullDwn[cic][cell] < pullUp[cic][cell])                   
1837:Drivers/LTC681x/LTC681x.c **** 						{
1838:Drivers/LTC681x/LTC681x.c **** 							openWire_delta[cic][cell] = (pullUp[cic][cell] - pullDwn[cic][cell]);
1839:Drivers/LTC681x/LTC681x.c **** 						}
1840:Drivers/LTC681x/LTC681x.c **** 						else
1841:Drivers/LTC681x/LTC681x.c **** 						{
1842:Drivers/LTC681x/LTC681x.c **** 							openWire_delta[cic][cell] = 0;                                             
1843:Drivers/LTC681x/LTC681x.c **** 						}
1844:Drivers/LTC681x/LTC681x.c **** 				}  
1845:Drivers/LTC681x/LTC681x.c **** 		  }
1846:Drivers/LTC681x/LTC681x.c **** 		 
1847:Drivers/LTC681x/LTC681x.c **** 		  for (int cic=0; cic<total_ic; cic++)
1848:Drivers/LTC681x/LTC681x.c **** 		  { 
1849:Drivers/LTC681x/LTC681x.c **** 				n=0;
1850:Drivers/LTC681x/LTC681x.c **** 				
1851:Drivers/LTC681x/LTC681x.c **** 				for (int cell=0; cell<N_CHANNELS; cell++)
1852:Drivers/LTC681x/LTC681x.c **** 				{  
1853:Drivers/LTC681x/LTC681x.c **** 				 
1854:Drivers/LTC681x/LTC681x.c **** 				  if (openWire_delta[cic][cell]>OPENWIRE_THRESHOLD)
1855:Drivers/LTC681x/LTC681x.c **** 					{
1856:Drivers/LTC681x/LTC681x.c **** 						opencells[n] = cell+1;
1857:Drivers/LTC681x/LTC681x.c **** 						n++;
1858:Drivers/LTC681x/LTC681x.c **** 						for (int j = cell; j < N_CHANNELS-3 ; j++)                       
1859:Drivers/LTC681x/LTC681x.c **** 						{
1860:Drivers/LTC681x/LTC681x.c **** 							if (pullUp[cic][j + 2] == 0)
1861:Drivers/LTC681x/LTC681x.c **** 							{
1862:Drivers/LTC681x/LTC681x.c **** 							opencells[n] = j+2;
1863:Drivers/LTC681x/LTC681x.c **** 							n++;
1864:Drivers/LTC681x/LTC681x.c **** 							}
1865:Drivers/LTC681x/LTC681x.c **** 						}
1866:Drivers/LTC681x/LTC681x.c **** 						if((cell==N_CHANNELS-4) && (pullDwn[cic][N_CHANNELS-3] == 0))
1867:Drivers/LTC681x/LTC681x.c **** 						{
1868:Drivers/LTC681x/LTC681x.c **** 							  opencells[n] = N_CHANNELS-2;
1869:Drivers/LTC681x/LTC681x.c **** 							  n++;
1870:Drivers/LTC681x/LTC681x.c **** 						}
1871:Drivers/LTC681x/LTC681x.c **** 					}
1872:Drivers/LTC681x/LTC681x.c **** 				}
1873:Drivers/LTC681x/LTC681x.c **** 				if (pullDwn[cic][0] == 0)
1874:Drivers/LTC681x/LTC681x.c **** 				{
1875:Drivers/LTC681x/LTC681x.c **** 
1876:Drivers/LTC681x/LTC681x.c **** 				  opencells[n] = 0;
1877:Drivers/LTC681x/LTC681x.c **** 				  n++;
1878:Drivers/LTC681x/LTC681x.c **** 				}
1879:Drivers/LTC681x/LTC681x.c **** 							
1880:Drivers/LTC681x/LTC681x.c **** 				if (pullDwn[cic][N_CHANNELS-1] == 0)
ARM GAS  /tmp/ccMCacDa.s 			page 106


1881:Drivers/LTC681x/LTC681x.c **** 				{
1882:Drivers/LTC681x/LTC681x.c **** 
1883:Drivers/LTC681x/LTC681x.c **** 				  opencells[n] = N_CHANNELS;
1884:Drivers/LTC681x/LTC681x.c **** 				  n++;
1885:Drivers/LTC681x/LTC681x.c **** 				}
1886:Drivers/LTC681x/LTC681x.c **** 							
1887:Drivers/LTC681x/LTC681x.c **** 				if (pullDwn[cic][N_CHANNELS-2] == 0)
1888:Drivers/LTC681x/LTC681x.c **** 				{  
1889:Drivers/LTC681x/LTC681x.c **** 				  opencells[n] = N_CHANNELS-1;
1890:Drivers/LTC681x/LTC681x.c **** 				  n++;
1891:Drivers/LTC681x/LTC681x.c **** 
1892:Drivers/LTC681x/LTC681x.c **** 				}
1893:Drivers/LTC681x/LTC681x.c **** 				
1894:Drivers/LTC681x/LTC681x.c **** 			//Removing repetitive elements
1895:Drivers/LTC681x/LTC681x.c **** 				for(i=0;i<n;i++)
1896:Drivers/LTC681x/LTC681x.c **** 				{
1897:Drivers/LTC681x/LTC681x.c **** 					for(j=i+1;j<n;)
1898:Drivers/LTC681x/LTC681x.c **** 					{
1899:Drivers/LTC681x/LTC681x.c **** 						if(opencells[i]==opencells[j])
1900:Drivers/LTC681x/LTC681x.c **** 						{
1901:Drivers/LTC681x/LTC681x.c **** 							for(k=j;k<n;k++)
1902:Drivers/LTC681x/LTC681x.c **** 								opencells[k]=opencells[k+1];
1903:Drivers/LTC681x/LTC681x.c **** 								
1904:Drivers/LTC681x/LTC681x.c **** 							n--;
1905:Drivers/LTC681x/LTC681x.c **** 						}
1906:Drivers/LTC681x/LTC681x.c **** 						else
1907:Drivers/LTC681x/LTC681x.c **** 							j++;
1908:Drivers/LTC681x/LTC681x.c **** 					}
1909:Drivers/LTC681x/LTC681x.c **** 				}
1910:Drivers/LTC681x/LTC681x.c **** 							
1911:Drivers/LTC681x/LTC681x.c **** 			// Sorting open cell array
1912:Drivers/LTC681x/LTC681x.c **** 
1913:Drivers/LTC681x/LTC681x.c **** 				for(int i=0; i<n; i++)
1914:Drivers/LTC681x/LTC681x.c **** 				{
1915:Drivers/LTC681x/LTC681x.c **** 					for(int j=0; j<n-1; j++)
1916:Drivers/LTC681x/LTC681x.c **** 					{
1917:Drivers/LTC681x/LTC681x.c **** 						if( opencells[j] > opencells[j+1] )
1918:Drivers/LTC681x/LTC681x.c **** 						{
1919:Drivers/LTC681x/LTC681x.c **** 							k = opencells[j];
1920:Drivers/LTC681x/LTC681x.c **** 							opencells[j] = opencells[j+1];
1921:Drivers/LTC681x/LTC681x.c **** 							opencells[j+1] = k;
1922:Drivers/LTC681x/LTC681x.c **** 						}
1923:Drivers/LTC681x/LTC681x.c **** 					}
1924:Drivers/LTC681x/LTC681x.c **** 				}
1925:Drivers/LTC681x/LTC681x.c **** 				
1926:Drivers/LTC681x/LTC681x.c **** //				Serial.print("IC:");
1927:Drivers/LTC681x/LTC681x.c **** //				Serial.println(cic+1, DEC);
1928:Drivers/LTC681x/LTC681x.c **** 							
1929:Drivers/LTC681x/LTC681x.c **** 			//Checking the value of n				
1930:Drivers/LTC681x/LTC681x.c **** //				Serial.println("Number of Open wires:");
1931:Drivers/LTC681x/LTC681x.c **** //				Serial.println(n);
1932:Drivers/LTC681x/LTC681x.c **** 				   
1933:Drivers/LTC681x/LTC681x.c **** 			//Printing open cell array
1934:Drivers/LTC681x/LTC681x.c **** //				Serial.println("OPEN CELLS:");
1935:Drivers/LTC681x/LTC681x.c **** 				if(n==0)
1936:Drivers/LTC681x/LTC681x.c **** 				{
1937:Drivers/LTC681x/LTC681x.c **** //					Serial.println("No Open wires");
ARM GAS  /tmp/ccMCacDa.s 			page 107


1938:Drivers/LTC681x/LTC681x.c **** 				}
1939:Drivers/LTC681x/LTC681x.c **** 				else
1940:Drivers/LTC681x/LTC681x.c **** 				{				
1941:Drivers/LTC681x/LTC681x.c **** 					for(i=0;i<n;i++)
1942:Drivers/LTC681x/LTC681x.c **** 					{
1943:Drivers/LTC681x/LTC681x.c **** //							Serial.println(opencells[i]);
1944:Drivers/LTC681x/LTC681x.c **** 					}
1945:Drivers/LTC681x/LTC681x.c **** 				}
1946:Drivers/LTC681x/LTC681x.c **** 		}
1947:Drivers/LTC681x/LTC681x.c **** 	}
1948:Drivers/LTC681x/LTC681x.c **** 
1949:Drivers/LTC681x/LTC681x.c **** // Runs the ADC overlap test for the IC
1950:Drivers/LTC681x/LTC681x.c **** uint16_t LTC681x_run_adc_overlap(uint8_t total_ic, 
1951:Drivers/LTC681x/LTC681x.c **** 								 cell_asic *ic
1952:Drivers/LTC681x/LTC681x.c **** 								 )
1953:Drivers/LTC681x/LTC681x.c **** {
1954:Drivers/LTC681x/LTC681x.c **** 	uint16_t error = 0;
1955:Drivers/LTC681x/LTC681x.c **** 	int32_t measure_delta =0;
1956:Drivers/LTC681x/LTC681x.c **** 	int16_t failure_pos_limit = 20;
1957:Drivers/LTC681x/LTC681x.c **** 	int16_t failure_neg_limit = -20;
1958:Drivers/LTC681x/LTC681x.c **** 	int32_t a, b;
1959:Drivers/LTC681x/LTC681x.c **** 	wakeup_idle(total_ic);
1960:Drivers/LTC681x/LTC681x.c **** 	LTC681x_adol(MD_7KHZ_3KHZ,DCP_DISABLED);
1961:Drivers/LTC681x/LTC681x.c **** 	LTC681x_pollAdc();
1962:Drivers/LTC681x/LTC681x.c **** 	wakeup_idle(total_ic);
1963:Drivers/LTC681x/LTC681x.c **** 	error = LTC681x_rdcv(0, total_ic,ic);
1964:Drivers/LTC681x/LTC681x.c **** 
1965:Drivers/LTC681x/LTC681x.c **** 	  for (int cic = 0; cic<total_ic; cic++)
1966:Drivers/LTC681x/LTC681x.c **** 	  {
1967:Drivers/LTC681x/LTC681x.c **** 		  measure_delta = (int32_t)ic[cic].cells.c_codes[6]-(int32_t)ic[cic].cells.c_codes[7];
1968:Drivers/LTC681x/LTC681x.c **** 		
1969:Drivers/LTC681x/LTC681x.c **** 		 if ((measure_delta>failure_pos_limit) || (measure_delta<failure_neg_limit))
1970:Drivers/LTC681x/LTC681x.c **** 		 {
1971:Drivers/LTC681x/LTC681x.c **** 		  error = error | (1<<(cic-1));
1972:Drivers/LTC681x/LTC681x.c **** 		 }
1973:Drivers/LTC681x/LTC681x.c **** 	  }
1974:Drivers/LTC681x/LTC681x.c ****   return(error);
1975:Drivers/LTC681x/LTC681x.c **** 
1976:Drivers/LTC681x/LTC681x.c **** }
1977:Drivers/LTC681x/LTC681x.c **** 
1978:Drivers/LTC681x/LTC681x.c **** //Helper function that increments PEC counters
1979:Drivers/LTC681x/LTC681x.c **** void LTC681x_check_pec(uint8_t total_ic,
1980:Drivers/LTC681x/LTC681x.c **** 					   uint8_t reg, 
1981:Drivers/LTC681x/LTC681x.c **** 					   cell_asic *ic
1982:Drivers/LTC681x/LTC681x.c **** 					   )
1983:Drivers/LTC681x/LTC681x.c **** {
 3999              		.loc 1 1983 0
 4000              		.cfi_startproc
 4001              		@ args = 0, pretend = 0, frame = 0
 4002              		@ frame_needed = 0, uses_anonymous_args = 0
 4003              		@ link register save eliminated.
 4004              	.LVL464:
 4005 0000 F0B4     		push	{r4, r5, r6, r7}
 4006              	.LCFI123:
 4007              		.cfi_def_cfa_offset 16
 4008              		.cfi_offset 4, -16
 4009              		.cfi_offset 5, -12
ARM GAS  /tmp/ccMCacDa.s 			page 108


 4010              		.cfi_offset 6, -8
 4011              		.cfi_offset 7, -4
1984:Drivers/LTC681x/LTC681x.c ****   switch (reg)
 4012              		.loc 1 1984 0
 4013 0002 0429     		cmp	r1, #4
 4014 0004 16D8     		bhi	.L289
 4015 0006 DFE801F0 		tbb	[pc, r1]
 4016              	.L292:
 4017 000a 17       		.byte	(.L305-.L292)/2
 4018 000b 4D       		.byte	(.L306-.L292)/2
 4019 000c 6E       		.byte	(.L307-.L292)/2
 4020 000d 90       		.byte	(.L308-.L292)/2
 4021 000e 2C       		.byte	(.L309-.L292)/2
 4022              	.LVL465:
 4023 000f 00       		.p2align 1
 4024              	.L297:
 4025              	.LBB58:
1985:Drivers/LTC681x/LTC681x.c ****   {
1986:Drivers/LTC681x/LTC681x.c ****     case CFGR:
1987:Drivers/LTC681x/LTC681x.c ****       for (int current_ic = 0 ; current_ic < total_ic; current_ic++)
1988:Drivers/LTC681x/LTC681x.c ****       {
1989:Drivers/LTC681x/LTC681x.c ****         ic[current_ic].crc_count.pec_count = ic[current_ic].crc_count.pec_count + ic[current_ic].co
 4026              		.loc 1 1989 0 discriminator 3
 4027 0010 C1EBC104 		rsb	r4, r1, r1, lsl #3
 4028 0014 6301     		lsls	r3, r4, #5
 4029 0016 1344     		add	r3, r3, r2
 4030 0018 B3F8BA50 		ldrh	r5, [r3, #186]
 4031 001c 9C7B     		ldrb	r4, [r3, #14]	@ zero_extendqisi2
 4032 001e 2544     		add	r5, r5, r4
 4033 0020 A3F8BA50 		strh	r5, [r3, #186]	@ movhi
1990:Drivers/LTC681x/LTC681x.c ****         ic[current_ic].crc_count.cfgr_pec = ic[current_ic].crc_count.cfgr_pec + ic[current_ic].conf
 4034              		.loc 1 1990 0 discriminator 3
 4035 0024 B3F8BC50 		ldrh	r5, [r3, #188]
 4036 0028 2C44     		add	r4, r4, r5
 4037 002a A3F8BC40 		strh	r4, [r3, #188]	@ movhi
1987:Drivers/LTC681x/LTC681x.c ****       {
 4038              		.loc 1 1987 0 discriminator 3
 4039 002e 0131     		adds	r1, r1, #1
 4040              	.LVL466:
 4041              	.L291:
1987:Drivers/LTC681x/LTC681x.c ****       {
 4042              		.loc 1 1987 0 is_stmt 0 discriminator 1
 4043 0030 8842     		cmp	r0, r1
 4044 0032 EDDC     		bgt	.L297
 4045              	.LVL467:
 4046              	.L289:
 4047              	.LBE58:
1991:Drivers/LTC681x/LTC681x.c ****       }
1992:Drivers/LTC681x/LTC681x.c ****     break;
1993:Drivers/LTC681x/LTC681x.c **** 
1994:Drivers/LTC681x/LTC681x.c ****     case CFGRB:
1995:Drivers/LTC681x/LTC681x.c ****       for (int current_ic = 0 ; current_ic < total_ic; current_ic++)
1996:Drivers/LTC681x/LTC681x.c ****       {
1997:Drivers/LTC681x/LTC681x.c ****         ic[current_ic].crc_count.pec_count = ic[current_ic].crc_count.pec_count + ic[current_ic].co
1998:Drivers/LTC681x/LTC681x.c ****         ic[current_ic].crc_count.cfgr_pec = ic[current_ic].crc_count.cfgr_pec + ic[current_ic].conf
1999:Drivers/LTC681x/LTC681x.c ****       }
2000:Drivers/LTC681x/LTC681x.c ****     break;
ARM GAS  /tmp/ccMCacDa.s 			page 109


2001:Drivers/LTC681x/LTC681x.c ****     case CELL:
2002:Drivers/LTC681x/LTC681x.c ****       for (int current_ic = 0 ; current_ic < total_ic; current_ic++)
2003:Drivers/LTC681x/LTC681x.c ****       {
2004:Drivers/LTC681x/LTC681x.c ****         for (int i=0; i<ic[0].ic_reg.num_cv_reg; i++)
2005:Drivers/LTC681x/LTC681x.c ****         {
2006:Drivers/LTC681x/LTC681x.c ****           ic[current_ic].crc_count.pec_count = ic[current_ic].crc_count.pec_count + ic[current_ic].
2007:Drivers/LTC681x/LTC681x.c ****           ic[current_ic].crc_count.cell_pec[i] = ic[current_ic].crc_count.cell_pec[i] + ic[current_
2008:Drivers/LTC681x/LTC681x.c ****         }
2009:Drivers/LTC681x/LTC681x.c ****       }
2010:Drivers/LTC681x/LTC681x.c ****     break;
2011:Drivers/LTC681x/LTC681x.c ****     case AUX:
2012:Drivers/LTC681x/LTC681x.c ****       for (int current_ic = 0 ; current_ic < total_ic; current_ic++)
2013:Drivers/LTC681x/LTC681x.c ****       {
2014:Drivers/LTC681x/LTC681x.c ****         for (int i=0; i<ic[0].ic_reg.num_gpio_reg; i++)
2015:Drivers/LTC681x/LTC681x.c ****         {
2016:Drivers/LTC681x/LTC681x.c ****           ic[current_ic].crc_count.pec_count = ic[current_ic].crc_count.pec_count + (ic[current_ic]
2017:Drivers/LTC681x/LTC681x.c ****           ic[current_ic].crc_count.aux_pec[i] = ic[current_ic].crc_count.aux_pec[i] + (ic[current_i
2018:Drivers/LTC681x/LTC681x.c ****         }
2019:Drivers/LTC681x/LTC681x.c ****       }
2020:Drivers/LTC681x/LTC681x.c **** 
2021:Drivers/LTC681x/LTC681x.c ****     break;
2022:Drivers/LTC681x/LTC681x.c ****     case STAT:
2023:Drivers/LTC681x/LTC681x.c ****       for (int current_ic = 0 ; current_ic < total_ic; current_ic++)
2024:Drivers/LTC681x/LTC681x.c ****       {
2025:Drivers/LTC681x/LTC681x.c **** 
2026:Drivers/LTC681x/LTC681x.c ****         for (int i=0; i<ic[0].ic_reg.num_stat_reg-1; i++)
2027:Drivers/LTC681x/LTC681x.c ****         {
2028:Drivers/LTC681x/LTC681x.c ****           ic[current_ic].crc_count.pec_count = ic[current_ic].crc_count.pec_count + ic[current_ic].
2029:Drivers/LTC681x/LTC681x.c ****           ic[current_ic].crc_count.stat_pec[i] = ic[current_ic].crc_count.stat_pec[i] + ic[current_
2030:Drivers/LTC681x/LTC681x.c ****         }
2031:Drivers/LTC681x/LTC681x.c ****       }
2032:Drivers/LTC681x/LTC681x.c ****     break;
2033:Drivers/LTC681x/LTC681x.c ****     default:
2034:Drivers/LTC681x/LTC681x.c ****     break;
2035:Drivers/LTC681x/LTC681x.c ****   }
2036:Drivers/LTC681x/LTC681x.c **** }
 4048              		.loc 1 2036 0 is_stmt 1
 4049 0034 F0BC     		pop	{r4, r5, r6, r7}
 4050              	.LCFI124:
 4051              		.cfi_remember_state
 4052              		.cfi_restore 7
 4053              		.cfi_restore 6
 4054              		.cfi_restore 5
 4055              		.cfi_restore 4
 4056              		.cfi_def_cfa_offset 0
 4057 0036 7047     		bx	lr
 4058              	.LVL468:
 4059              	.L305:
 4060              	.LCFI125:
 4061              		.cfi_restore_state
 4062              	.LBB59:
1987:Drivers/LTC681x/LTC681x.c ****       {
 4063              		.loc 1 1987 0
 4064 0038 0021     		movs	r1, #0
 4065              	.LVL469:
 4066 003a F9E7     		b	.L291
 4067              	.LVL470:
ARM GAS  /tmp/ccMCacDa.s 			page 110


 4068              	.L298:
 4069              	.LBE59:
 4070              	.LBB60:
1997:Drivers/LTC681x/LTC681x.c ****         ic[current_ic].crc_count.cfgr_pec = ic[current_ic].crc_count.cfgr_pec + ic[current_ic].conf
 4071              		.loc 1 1997 0 discriminator 3
 4072 003c C1EBC104 		rsb	r4, r1, r1, lsl #3
 4073 0040 6301     		lsls	r3, r4, #5
 4074 0042 1344     		add	r3, r3, r2
 4075 0044 B3F8BA50 		ldrh	r5, [r3, #186]
 4076 0048 5C7F     		ldrb	r4, [r3, #29]	@ zero_extendqisi2
 4077 004a 2544     		add	r5, r5, r4
 4078 004c A3F8BA50 		strh	r5, [r3, #186]	@ movhi
1998:Drivers/LTC681x/LTC681x.c ****       }
 4079              		.loc 1 1998 0 discriminator 3
 4080 0050 B3F8BC50 		ldrh	r5, [r3, #188]
 4081 0054 2C44     		add	r4, r4, r5
 4082 0056 A3F8BC40 		strh	r4, [r3, #188]	@ movhi
1995:Drivers/LTC681x/LTC681x.c ****       {
 4083              		.loc 1 1995 0 discriminator 3
 4084 005a 0131     		adds	r1, r1, #1
 4085              	.LVL471:
 4086              	.L296:
1995:Drivers/LTC681x/LTC681x.c ****       {
 4087              		.loc 1 1995 0 is_stmt 0 discriminator 1
 4088 005c 8842     		cmp	r0, r1
 4089 005e EDDC     		bgt	.L298
 4090 0060 E8E7     		b	.L289
 4091              	.LVL472:
 4092              	.L309:
1995:Drivers/LTC681x/LTC681x.c ****       {
 4093              		.loc 1 1995 0
 4094 0062 0021     		movs	r1, #0
 4095              	.LVL473:
 4096 0064 FAE7     		b	.L296
 4097              	.LVL474:
 4098              	.L299:
 4099              	.LBE60:
 4100              	.LBB61:
 4101              	.LBB62:
2006:Drivers/LTC681x/LTC681x.c ****           ic[current_ic].crc_count.cell_pec[i] = ic[current_ic].crc_count.cell_pec[i] + ic[current_
 4102              		.loc 1 2006 0 is_stmt 1 discriminator 3
 4103 0066 C6EBC604 		rsb	r4, r6, r6, lsl #3
 4104 006a 6301     		lsls	r3, r4, #5
 4105 006c 1344     		add	r3, r3, r2
 4106 006e B3F8BA40 		ldrh	r4, [r3, #186]
 4107 0072 5D18     		adds	r5, r3, r1
 4108 0074 95F84270 		ldrb	r7, [r5, #66]	@ zero_extendqisi2
 4109 0078 3C44     		add	r4, r4, r7
 4110 007a A3F8BA40 		strh	r4, [r3, #186]	@ movhi
2007:Drivers/LTC681x/LTC681x.c ****         }
 4111              		.loc 1 2007 0 discriminator 3
 4112 007e 01F15C04 		add	r4, r1, #92
 4113 0082 03EB4403 		add	r3, r3, r4, lsl #1
 4114 0086 DC88     		ldrh	r4, [r3, #6]
 4115 0088 95F84250 		ldrb	r5, [r5, #66]	@ zero_extendqisi2
 4116 008c 2C44     		add	r4, r4, r5
 4117 008e DC80     		strh	r4, [r3, #6]	@ movhi
ARM GAS  /tmp/ccMCacDa.s 			page 111


2004:Drivers/LTC681x/LTC681x.c ****         {
 4118              		.loc 1 2004 0 discriminator 3
 4119 0090 0131     		adds	r1, r1, #1
 4120              	.LVL475:
 4121              	.L300:
2004:Drivers/LTC681x/LTC681x.c ****         {
 4122              		.loc 1 2004 0 is_stmt 0 discriminator 1
 4123 0092 92F8D930 		ldrb	r3, [r2, #217]	@ zero_extendqisi2
 4124 0096 8B42     		cmp	r3, r1
 4125 0098 E5DC     		bgt	.L299
 4126              	.LBE62:
2002:Drivers/LTC681x/LTC681x.c ****       {
 4127              		.loc 1 2002 0 is_stmt 1 discriminator 2
 4128 009a 0136     		adds	r6, r6, #1
 4129              	.LVL476:
 4130              	.L293:
2002:Drivers/LTC681x/LTC681x.c ****       {
 4131              		.loc 1 2002 0 is_stmt 0 discriminator 1
 4132 009c B042     		cmp	r0, r6
 4133 009e C9DD     		ble	.L289
 4134              	.LBB63:
2004:Drivers/LTC681x/LTC681x.c ****         {
 4135              		.loc 1 2004 0 is_stmt 1
 4136 00a0 0021     		movs	r1, #0
 4137 00a2 F6E7     		b	.L300
 4138              	.LVL477:
 4139              	.L306:
 4140              	.LBE63:
2002:Drivers/LTC681x/LTC681x.c ****       {
 4141              		.loc 1 2002 0
 4142 00a4 0026     		movs	r6, #0
 4143 00a6 F9E7     		b	.L293
 4144              	.LVL478:
 4145              	.L301:
 4146              	.LBE61:
 4147              	.LBB64:
 4148              	.LBB65:
2016:Drivers/LTC681x/LTC681x.c ****           ic[current_ic].crc_count.aux_pec[i] = ic[current_ic].crc_count.aux_pec[i] + (ic[current_i
 4149              		.loc 1 2016 0 discriminator 3
 4150 00a8 C6EBC604 		rsb	r4, r6, r6, lsl #3
 4151 00ac 6301     		lsls	r3, r4, #5
 4152 00ae 1344     		add	r3, r3, r2
 4153 00b0 B3F8BA40 		ldrh	r4, [r3, #186]
 4154 00b4 5D18     		adds	r5, r3, r1
 4155 00b6 95F85A70 		ldrb	r7, [r5, #90]	@ zero_extendqisi2
 4156 00ba 3C44     		add	r4, r4, r7
 4157 00bc A3F8BA40 		strh	r4, [r3, #186]	@ movhi
2017:Drivers/LTC681x/LTC681x.c ****         }
 4158              		.loc 1 2017 0 discriminator 3
 4159 00c0 01F16404 		add	r4, r1, #100
 4160 00c4 03EB4403 		add	r3, r3, r4, lsl #1
 4161 00c8 5C88     		ldrh	r4, [r3, #2]
 4162 00ca 95F85A50 		ldrb	r5, [r5, #90]	@ zero_extendqisi2
 4163 00ce 2C44     		add	r4, r4, r5
 4164 00d0 5C80     		strh	r4, [r3, #2]	@ movhi
2014:Drivers/LTC681x/LTC681x.c ****         {
 4165              		.loc 1 2014 0 discriminator 3
ARM GAS  /tmp/ccMCacDa.s 			page 112


 4166 00d2 0131     		adds	r1, r1, #1
 4167              	.LVL479:
 4168              	.L302:
2014:Drivers/LTC681x/LTC681x.c ****         {
 4169              		.loc 1 2014 0 is_stmt 0 discriminator 1
 4170 00d4 92F8DA30 		ldrb	r3, [r2, #218]	@ zero_extendqisi2
 4171 00d8 8B42     		cmp	r3, r1
 4172 00da E5DC     		bgt	.L301
 4173              	.LBE65:
2012:Drivers/LTC681x/LTC681x.c ****       {
 4174              		.loc 1 2012 0 is_stmt 1 discriminator 2
 4175 00dc 0136     		adds	r6, r6, #1
 4176              	.LVL480:
 4177              	.L294:
2012:Drivers/LTC681x/LTC681x.c ****       {
 4178              		.loc 1 2012 0 is_stmt 0 discriminator 1
 4179 00de B042     		cmp	r0, r6
 4180 00e0 A8DD     		ble	.L289
 4181              	.LBB66:
2014:Drivers/LTC681x/LTC681x.c ****         {
 4182              		.loc 1 2014 0 is_stmt 1
 4183 00e2 0021     		movs	r1, #0
 4184 00e4 F6E7     		b	.L302
 4185              	.LVL481:
 4186              	.L307:
 4187              	.LBE66:
2012:Drivers/LTC681x/LTC681x.c ****       {
 4188              		.loc 1 2012 0
 4189 00e6 0026     		movs	r6, #0
 4190 00e8 F9E7     		b	.L294
 4191              	.LVL482:
 4192              	.L303:
 4193              	.LBE64:
 4194              	.LBB67:
 4195              	.LBB68:
2028:Drivers/LTC681x/LTC681x.c ****           ic[current_ic].crc_count.stat_pec[i] = ic[current_ic].crc_count.stat_pec[i] + ic[current_
 4196              		.loc 1 2028 0 discriminator 3
 4197 00ea C5EBC504 		rsb	r4, r5, r5, lsl #3
 4198 00ee 6301     		lsls	r3, r4, #5
 4199 00f0 1344     		add	r3, r3, r2
 4200 00f2 B3F8BA40 		ldrh	r4, [r3, #186]
 4201 00f6 5E18     		adds	r6, r3, r1
 4202 00f8 96F86B70 		ldrb	r7, [r6, #107]	@ zero_extendqisi2
 4203 00fc 3C44     		add	r4, r4, r7
 4204 00fe A3F8BA40 		strh	r4, [r3, #186]	@ movhi
2029:Drivers/LTC681x/LTC681x.c ****         }
 4205              		.loc 1 2029 0 discriminator 3
 4206 0102 01F16804 		add	r4, r1, #104
 4207 0106 03EB4403 		add	r3, r3, r4, lsl #1
 4208 010a 5C88     		ldrh	r4, [r3, #2]
 4209 010c 96F86B60 		ldrb	r6, [r6, #107]	@ zero_extendqisi2
 4210 0110 3444     		add	r4, r4, r6
 4211 0112 5C80     		strh	r4, [r3, #2]	@ movhi
2026:Drivers/LTC681x/LTC681x.c ****         {
 4212              		.loc 1 2026 0 discriminator 3
 4213 0114 0131     		adds	r1, r1, #1
 4214              	.LVL483:
ARM GAS  /tmp/ccMCacDa.s 			page 113


 4215              	.L304:
2026:Drivers/LTC681x/LTC681x.c ****         {
 4216              		.loc 1 2026 0 is_stmt 0 discriminator 1
 4217 0116 92F8DB30 		ldrb	r3, [r2, #219]	@ zero_extendqisi2
 4218 011a 013B     		subs	r3, r3, #1
 4219 011c 8B42     		cmp	r3, r1
 4220 011e E4DC     		bgt	.L303
 4221              	.LBE68:
2023:Drivers/LTC681x/LTC681x.c ****       {
 4222              		.loc 1 2023 0 is_stmt 1 discriminator 2
 4223 0120 0135     		adds	r5, r5, #1
 4224              	.LVL484:
 4225              	.L295:
2023:Drivers/LTC681x/LTC681x.c ****       {
 4226              		.loc 1 2023 0 is_stmt 0 discriminator 1
 4227 0122 A842     		cmp	r0, r5
 4228 0124 86DD     		ble	.L289
 4229              	.LBB69:
2026:Drivers/LTC681x/LTC681x.c ****         {
 4230              		.loc 1 2026 0 is_stmt 1
 4231 0126 0021     		movs	r1, #0
 4232 0128 F5E7     		b	.L304
 4233              	.LVL485:
 4234              	.L308:
 4235              	.LBE69:
2023:Drivers/LTC681x/LTC681x.c ****       {
 4236              		.loc 1 2023 0
 4237 012a 0025     		movs	r5, #0
 4238 012c F9E7     		b	.L295
 4239              	.LBE67:
 4240              		.cfi_endproc
 4241              	.LFE60:
 4243              		.section	.text.LTC681x_rdcv,"ax",%progbits
 4244              		.align	1
 4245              		.global	LTC681x_rdcv
 4246              		.syntax unified
 4247              		.thumb
 4248              		.thumb_func
 4249              		.fpu softvfp
 4251              	LTC681x_rdcv:
 4252              	.LFB38:
 787:Drivers/LTC681x/LTC681x.c ****   int8_t pec_error = 0;
 4253              		.loc 1 787 0
 4254              		.cfi_startproc
 4255              		@ args = 0, pretend = 0, frame = 0
 4256              		@ frame_needed = 0, uses_anonymous_args = 0
 4257              	.LVL486:
 4258 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 4259              	.LCFI126:
 4260              		.cfi_def_cfa_offset 32
 4261              		.cfi_offset 4, -32
 4262              		.cfi_offset 5, -28
 4263              		.cfi_offset 6, -24
 4264              		.cfi_offset 7, -20
 4265              		.cfi_offset 8, -16
 4266              		.cfi_offset 9, -12
 4267              		.cfi_offset 10, -8
ARM GAS  /tmp/ccMCacDa.s 			page 114


 4268              		.cfi_offset 14, -4
 4269 0004 82B0     		sub	sp, sp, #8
 4270              	.LCFI127:
 4271              		.cfi_def_cfa_offset 40
 4272 0006 0746     		mov	r7, r0
 4273 0008 8A46     		mov	r10, r1
 4274 000a 1546     		mov	r5, r2
 4275              	.LVL487:
 791:Drivers/LTC681x/LTC681x.c **** 
 4276              		.loc 1 791 0
 4277 000c 8946     		mov	r9, r1
 4278 000e C800     		lsls	r0, r1, #3
 4279              	.LVL488:
 4280 0010 FFF7FEFF 		bl	malloc
 4281              	.LVL489:
 4282 0014 8046     		mov	r8, r0
 4283              	.LVL490:
 793:Drivers/LTC681x/LTC681x.c ****   {
 4284              		.loc 1 793 0
 4285 0016 77BB     		cbnz	r7, .L330
 4286              	.LBB70:
 795:Drivers/LTC681x/LTC681x.c ****     {
 4287              		.loc 1 795 0
 4288 0018 0127     		movs	r7, #1
 4289              	.LBE70:
 788:Drivers/LTC681x/LTC681x.c ****   uint8_t *cell_data;
 4290              		.loc 1 788 0
 4291 001a 0026     		movs	r6, #0
 4292 001c 1FE0     		b	.L315
 4293              	.LVL491:
 4294              	.L318:
 4295              	.LBB73:
 4296              	.LBB71:
 806:Drivers/LTC681x/LTC681x.c ****         }
 4297              		.loc 1 806 0
 4298 001e AAEB0402 		sub	r2, r10, r4
 4299 0022 D2B2     		uxtb	r2, r2
 4300 0024 013A     		subs	r2, r2, #1
 4301 0026 D2B2     		uxtb	r2, r2
 4302              	.LVL492:
 4303              	.L319:
 809:Drivers/LTC681x/LTC681x.c ****                                             &ic[c_ic].cells.pec_match[0]);
 4304              		.loc 1 809 0 discriminator 2
 4305 0028 C2EBC202 		rsb	r2, r2, r2, lsl #3
 4306              	.LVL493:
 4307 002c 5301     		lsls	r3, r2, #5
 4308 002e 2B44     		add	r3, r3, r5
 808:Drivers/LTC681x/LTC681x.c ****                                             &ic[c_ic].cells.c_codes[0],
 4309              		.loc 1 808 0 discriminator 2
 4310 0030 03F14202 		add	r2, r3, #66
 4311 0034 0092     		str	r2, [sp]
 4312 0036 1E33     		adds	r3, r3, #30
 4313 0038 4246     		mov	r2, r8
 4314 003a 3946     		mov	r1, r7
 4315 003c E0B2     		uxtb	r0, r4
 4316 003e FFF7FEFF 		bl	parse_cells
 4317              	.LVL494:
ARM GAS  /tmp/ccMCacDa.s 			page 115


 4318 0042 C0B2     		uxtb	r0, r0
 4319 0044 0644     		add	r6, r6, r0
 4320              	.LVL495:
 4321 0046 76B2     		sxtb	r6, r6
 4322              	.LVL496:
 798:Drivers/LTC681x/LTC681x.c ****       {
 4323              		.loc 1 798 0 discriminator 2
 4324 0048 0134     		adds	r4, r4, #1
 4325              	.LVL497:
 4326              	.L317:
 798:Drivers/LTC681x/LTC681x.c ****       {
 4327              		.loc 1 798 0 is_stmt 0 discriminator 1
 4328 004a A145     		cmp	r9, r4
 4329 004c 05DD     		ble	.L331
 800:Drivers/LTC681x/LTC681x.c ****         {
 4330              		.loc 1 800 0 is_stmt 1
 4331 004e 95F8B930 		ldrb	r3, [r5, #185]	@ zero_extendqisi2
 4332 0052 002B     		cmp	r3, #0
 4333 0054 E3D1     		bne	.L318
 802:Drivers/LTC681x/LTC681x.c ****         }
 4334              		.loc 1 802 0
 4335 0056 E2B2     		uxtb	r2, r4
 4336              	.LVL498:
 4337 0058 E6E7     		b	.L319
 4338              	.LVL499:
 4339              	.L331:
 4340              	.LBE71:
 795:Drivers/LTC681x/LTC681x.c ****     {
 4341              		.loc 1 795 0 discriminator 2
 4342 005a 0137     		adds	r7, r7, #1
 4343              	.LVL500:
 4344 005c FFB2     		uxtb	r7, r7
 4345              	.LVL501:
 4346              	.L315:
 795:Drivers/LTC681x/LTC681x.c ****     {
 4347              		.loc 1 795 0 is_stmt 0 discriminator 1
 4348 005e 95F8D930 		ldrb	r3, [r5, #217]	@ zero_extendqisi2
 4349 0062 0133     		adds	r3, r3, #1
 4350 0064 9F42     		cmp	r7, r3
 4351 0066 2CDA     		bge	.L322
 797:Drivers/LTC681x/LTC681x.c ****       for (int current_ic = 0; current_ic<total_ic; current_ic++)
 4352              		.loc 1 797 0 is_stmt 1
 4353 0068 4246     		mov	r2, r8
 4354 006a 5146     		mov	r1, r10
 4355 006c 3846     		mov	r0, r7
 4356 006e FFF7FEFF 		bl	LTC681x_rdcv_reg
 4357              	.LVL502:
 4358              	.LBB72:
 798:Drivers/LTC681x/LTC681x.c ****       {
 4359              		.loc 1 798 0
 4360 0072 0024     		movs	r4, #0
 4361 0074 E9E7     		b	.L317
 4362              	.LVL503:
 4363              	.L330:
 4364              	.LBE72:
 4365              	.LBE73:
 817:Drivers/LTC681x/LTC681x.c **** 
ARM GAS  /tmp/ccMCacDa.s 			page 116


 4366              		.loc 1 817 0
 4367 0076 0246     		mov	r2, r0
 4368 0078 5146     		mov	r1, r10
 4369 007a 3846     		mov	r0, r7
 4370              	.LVL504:
 4371 007c FFF7FEFF 		bl	LTC681x_rdcv_reg
 4372              	.LVL505:
 4373              	.LBB74:
 819:Drivers/LTC681x/LTC681x.c ****     {
 4374              		.loc 1 819 0
 4375 0080 0024     		movs	r4, #0
 4376              	.LBE74:
 788:Drivers/LTC681x/LTC681x.c ****   uint8_t *cell_data;
 4377              		.loc 1 788 0
 4378 0082 2646     		mov	r6, r4
 4379              	.LBB75:
 819:Drivers/LTC681x/LTC681x.c ****     {
 4380              		.loc 1 819 0
 4381 0084 15E0     		b	.L323
 4382              	.LVL506:
 4383              	.L324:
 827:Drivers/LTC681x/LTC681x.c ****       }
 4384              		.loc 1 827 0
 4385 0086 AAEB0401 		sub	r1, r10, r4
 4386 008a C9B2     		uxtb	r1, r1
 4387 008c 0139     		subs	r1, r1, #1
 4388 008e C9B2     		uxtb	r1, r1
 4389              	.LVL507:
 4390              	.L325:
 829:Drivers/LTC681x/LTC681x.c ****                                           &ic[c_ic].cells.c_codes[0],
 4391              		.loc 1 829 0 discriminator 2
 4392 0090 CA00     		lsls	r2, r1, #3
 830:Drivers/LTC681x/LTC681x.c ****                                           &ic[c_ic].cells.pec_match[0]);
 4393              		.loc 1 830 0 discriminator 2
 4394 0092 511A     		subs	r1, r2, r1
 4395              	.LVL508:
 4396 0094 4B01     		lsls	r3, r1, #5
 4397 0096 2B44     		add	r3, r3, r5
 829:Drivers/LTC681x/LTC681x.c ****                                           &ic[c_ic].cells.c_codes[0],
 4398              		.loc 1 829 0 discriminator 2
 4399 0098 03F14201 		add	r1, r3, #66
 4400 009c 0091     		str	r1, [sp]
 4401 009e 1E33     		adds	r3, r3, #30
 4402 00a0 4244     		add	r2, r2, r8
 4403 00a2 3946     		mov	r1, r7
 4404 00a4 E0B2     		uxtb	r0, r4
 4405 00a6 FFF7FEFF 		bl	parse_cells
 4406              	.LVL509:
 4407 00aa C0B2     		uxtb	r0, r0
 4408 00ac 0644     		add	r6, r6, r0
 4409              	.LVL510:
 4410 00ae 76B2     		sxtb	r6, r6
 4411              	.LVL511:
 819:Drivers/LTC681x/LTC681x.c ****     {
 4412              		.loc 1 819 0 discriminator 2
 4413 00b0 0134     		adds	r4, r4, #1
 4414              	.LVL512:
ARM GAS  /tmp/ccMCacDa.s 			page 117


 4415              	.L323:
 819:Drivers/LTC681x/LTC681x.c ****     {
 4416              		.loc 1 819 0 is_stmt 0 discriminator 1
 4417 00b2 A145     		cmp	r9, r4
 4418 00b4 05DD     		ble	.L322
 821:Drivers/LTC681x/LTC681x.c ****       {
 4419              		.loc 1 821 0 is_stmt 1
 4420 00b6 95F8B930 		ldrb	r3, [r5, #185]	@ zero_extendqisi2
 4421 00ba 002B     		cmp	r3, #0
 4422 00bc E3D1     		bne	.L324
 823:Drivers/LTC681x/LTC681x.c ****       }
 4423              		.loc 1 823 0
 4424 00be E1B2     		uxtb	r1, r4
 4425              	.LVL513:
 4426 00c0 E6E7     		b	.L325
 4427              	.LVL514:
 4428              	.L322:
 4429              	.LBE75:
 834:Drivers/LTC681x/LTC681x.c ****   free(cell_data);
 4430              		.loc 1 834 0
 4431 00c2 2A46     		mov	r2, r5
 4432 00c4 0121     		movs	r1, #1
 4433 00c6 5046     		mov	r0, r10
 4434 00c8 FFF7FEFF 		bl	LTC681x_check_pec
 4435              	.LVL515:
 835:Drivers/LTC681x/LTC681x.c ****   return(pec_error);
 4436              		.loc 1 835 0
 4437 00cc 4046     		mov	r0, r8
 4438 00ce FFF7FEFF 		bl	free
 4439              	.LVL516:
 837:Drivers/LTC681x/LTC681x.c **** 
 4440              		.loc 1 837 0
 4441 00d2 F0B2     		uxtb	r0, r6
 4442 00d4 02B0     		add	sp, sp, #8
 4443              	.LCFI128:
 4444              		.cfi_def_cfa_offset 32
 4445              		@ sp needed
 4446 00d6 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4447              		.cfi_endproc
 4448              	.LFE38:
 4450              		.section	.text.LTC681x_run_openwire_single,"ax",%progbits
 4451              		.align	1
 4452              		.global	LTC681x_run_openwire_single
 4453              		.syntax unified
 4454              		.thumb
 4455              		.thumb_func
 4456              		.fpu softvfp
 4458              	LTC681x_run_openwire_single:
 4459              	.LFB57:
1684:Drivers/LTC681x/LTC681x.c **** 		  uint16_t OPENWIRE_THRESHOLD = 4000;
 4460              		.loc 1 1684 0
 4461              		.cfi_startproc
 4462              		@ args = 0, pretend = 0, frame = 16
 4463              		@ frame_needed = 1, uses_anonymous_args = 0
 4464              	.LVL517:
 4465 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4466              	.LCFI129:
ARM GAS  /tmp/ccMCacDa.s 			page 118


 4467              		.cfi_def_cfa_offset 36
 4468              		.cfi_offset 4, -36
 4469              		.cfi_offset 5, -32
 4470              		.cfi_offset 6, -28
 4471              		.cfi_offset 7, -24
 4472              		.cfi_offset 8, -20
 4473              		.cfi_offset 9, -16
 4474              		.cfi_offset 10, -12
 4475              		.cfi_offset 11, -8
 4476              		.cfi_offset 14, -4
 4477 0004 85B0     		sub	sp, sp, #20
 4478              	.LCFI130:
 4479              		.cfi_def_cfa_offset 56
 4480 0006 00AF     		add	r7, sp, #0
 4481              	.LCFI131:
 4482              		.cfi_def_cfa_register 7
 4483 0008 F860     		str	r0, [r7, #12]
 4484 000a 8846     		mov	r8, r1
 4485              	.LVL518:
1686:Drivers/LTC681x/LTC681x.c **** 		  
 4486              		.loc 1 1686 0
 4487 000c 91F8D640 		ldrb	r4, [r1, #214]	@ zero_extendqisi2
1688:Drivers/LTC681x/LTC681x.c **** 		  uint16_t pullDwn[total_ic][N_CHANNELS];
 4488              		.loc 1 1688 0
 4489 0010 631E     		subs	r3, r4, #1
 4490 0012 BB60     		str	r3, [r7, #8]
 4491              	.LVL519:
 4492 0014 6500     		lsls	r5, r4, #1
 4493 0016 8346     		mov	fp, r0
 4494              	.LVL520:
 4495 0018 0346     		mov	r3, r0
 4496              	.LVL521:
 4497 001a 04FB03F3 		mul	r3, r4, r3
 4498 001e 5B00     		lsls	r3, r3, #1
 4499 0020 0833     		adds	r3, r3, #8
 4500 0022 DB08     		lsrs	r3, r3, #3
 4501 0024 DB00     		lsls	r3, r3, #3
 4502 0026 ADEB030D 		sub	sp, sp, r3
 4503              	.LVL522:
 4504 002a 6E46     		mov	r6, sp
 4505              	.LVL523:
1689:Drivers/LTC681x/LTC681x.c **** 		  int16_t openWire_delta[total_ic][N_CHANNELS];
 4506              		.loc 1 1689 0
 4507 002c ADEB030D 		sub	sp, sp, r3
 4508 0030 E946     		mov	r9, sp
 4509              	.LVL524:
1690:Drivers/LTC681x/LTC681x.c **** 		  
 4510              		.loc 1 1690 0
 4511 0032 ADEB030D 		sub	sp, sp, r3
 4512 0036 EA46     		mov	r10, sp
 4513              	.LVL525:
1696:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clrcell();
 4514              		.loc 1 1696 0
 4515 0038 FFF7FEFF 		bl	wakeup_sleep
 4516              	.LVL526:
1697:Drivers/LTC681x/LTC681x.c **** 		  
 4517              		.loc 1 1697 0
ARM GAS  /tmp/ccMCacDa.s 			page 119


 4518 003c FFF7FEFF 		bl	LTC681x_clrcell
 4519              	.LVL527:
1700:Drivers/LTC681x/LTC681x.c **** 		  { 
 4520              		.loc 1 1700 0
 4521 0040 0023     		movs	r3, #0
 4522 0042 7C60     		str	r4, [r7, #4]
 4523 0044 1C46     		mov	r4, r3
 4524 0046 0CE0     		b	.L333
 4525              	.LVL528:
 4526              	.L334:
1702:Drivers/LTC681x/LTC681x.c **** 			LTC681x_adow(MD_26HZ_2KHZ,PULL_UP_CURRENT,CELL_CH_ALL,DCP_DISABLED);
 4527              		.loc 1 1702 0 discriminator 3
 4528 0048 F868     		ldr	r0, [r7, #12]
 4529 004a FFF7FEFF 		bl	wakeup_idle
 4530              	.LVL529:
1703:Drivers/LTC681x/LTC681x.c **** 			conv_time =LTC681x_pollAdc();
 4531              		.loc 1 1703 0 discriminator 3
 4532 004e 0023     		movs	r3, #0
 4533 0050 1A46     		mov	r2, r3
 4534 0052 0121     		movs	r1, #1
 4535 0054 0320     		movs	r0, #3
 4536 0056 FFF7FEFF 		bl	LTC681x_adow
 4537              	.LVL530:
1704:Drivers/LTC681x/LTC681x.c **** 		  } 
 4538              		.loc 1 1704 0 discriminator 3
 4539 005a FFF7FEFF 		bl	LTC681x_pollAdc
 4540              	.LVL531:
1700:Drivers/LTC681x/LTC681x.c **** 		  { 
 4541              		.loc 1 1700 0 discriminator 3
 4542 005e 0134     		adds	r4, r4, #1
 4543              	.LVL532:
 4544 0060 64B2     		sxtb	r4, r4
 4545              	.LVL533:
 4546              	.L333:
1700:Drivers/LTC681x/LTC681x.c **** 		  { 
 4547              		.loc 1 1700 0 is_stmt 0 discriminator 1
 4548 0062 022C     		cmp	r4, #2
 4549 0064 F0DD     		ble	.L334
 4550 0066 7C68     		ldr	r4, [r7, #4]
 4551              	.LVL534:
1707:Drivers/LTC681x/LTC681x.c **** 		  error=LTC681x_rdcv(0, total_ic,ic);
 4552              		.loc 1 1707 0 is_stmt 1
 4553 0068 F868     		ldr	r0, [r7, #12]
 4554 006a FFF7FEFF 		bl	wakeup_idle
 4555              	.LVL535:
1708:Drivers/LTC681x/LTC681x.c **** 		  
 4556              		.loc 1 1708 0
 4557 006e 4246     		mov	r2, r8
 4558 0070 F968     		ldr	r1, [r7, #12]
 4559 0072 0020     		movs	r0, #0
 4560 0074 FFF7FEFF 		bl	LTC681x_rdcv
 4561              	.LVL536:
 4562              	.LBB76:
1710:Drivers/LTC681x/LTC681x.c **** 		  {
 4563              		.loc 1 1710 0
 4564 0078 0020     		movs	r0, #0
 4565 007a 12E0     		b	.L335
ARM GAS  /tmp/ccMCacDa.s 			page 120


 4566              	.LVL537:
 4567              	.L336:
 4568              	.LBB77:
1714:Drivers/LTC681x/LTC681x.c **** 				}
 4569              		.loc 1 1714 0 discriminator 3
 4570 007c C0EBC001 		rsb	r1, r0, r0, lsl #3
 4571 0080 4B01     		lsls	r3, r1, #5
 4572 0082 4344     		add	r3, r3, r8
 4573 0084 6908     		lsrs	r1, r5, #1
 4574 0086 02F10C0C 		add	ip, r2, #12
 4575 008a 03EB4C03 		add	r3, r3, ip, lsl #1
 4576 008e B3F806C0 		ldrh	ip, [r3, #6]
 4577 0092 01FB0023 		mla	r3, r1, r0, r2
 4578 0096 26F813C0 		strh	ip, [r6, r3, lsl #1]	@ movhi
1712:Drivers/LTC681x/LTC681x.c **** 				{
 4579              		.loc 1 1712 0 discriminator 3
 4580 009a 0132     		adds	r2, r2, #1
 4581              	.LVL538:
 4582              	.L337:
1712:Drivers/LTC681x/LTC681x.c **** 				{
 4583              		.loc 1 1712 0 is_stmt 0 discriminator 1
 4584 009c 9442     		cmp	r4, r2
 4585 009e EDDC     		bgt	.L336
 4586              	.LBE77:
1710:Drivers/LTC681x/LTC681x.c **** 		  {
 4587              		.loc 1 1710 0 is_stmt 1 discriminator 2
 4588 00a0 0130     		adds	r0, r0, #1
 4589              	.LVL539:
 4590              	.L335:
1710:Drivers/LTC681x/LTC681x.c **** 		  {
 4591              		.loc 1 1710 0 is_stmt 0 discriminator 1
 4592 00a2 8345     		cmp	fp, r0
 4593 00a4 01DD     		ble	.L355
 4594              	.LBB78:
1712:Drivers/LTC681x/LTC681x.c **** 				{
 4595              		.loc 1 1712 0 is_stmt 1
 4596 00a6 0022     		movs	r2, #0
 4597 00a8 F8E7     		b	.L337
 4598              	.L355:
 4599              	.LBE78:
 4600              	.LBE76:
1720:Drivers/LTC681x/LTC681x.c **** 		  {  
 4601              		.loc 1 1720 0
 4602 00aa 0023     		movs	r3, #0
 4603 00ac 7C60     		str	r4, [r7, #4]
 4604 00ae 1C46     		mov	r4, r3
 4605 00b0 0CE0     		b	.L338
 4606              	.LVL540:
 4607              	.L339:
1722:Drivers/LTC681x/LTC681x.c **** 			LTC681x_adow(MD_26HZ_2KHZ,PULL_DOWN_CURRENT,CELL_CH_ALL,DCP_DISABLED);
 4608              		.loc 1 1722 0 discriminator 3
 4609 00b2 F868     		ldr	r0, [r7, #12]
 4610 00b4 FFF7FEFF 		bl	wakeup_idle
 4611              	.LVL541:
1723:Drivers/LTC681x/LTC681x.c **** 			conv_time =LTC681x_pollAdc();
 4612              		.loc 1 1723 0 discriminator 3
 4613 00b8 0023     		movs	r3, #0
ARM GAS  /tmp/ccMCacDa.s 			page 121


 4614 00ba 1A46     		mov	r2, r3
 4615 00bc 1946     		mov	r1, r3
 4616 00be 0320     		movs	r0, #3
 4617 00c0 FFF7FEFF 		bl	LTC681x_adow
 4618              	.LVL542:
1724:Drivers/LTC681x/LTC681x.c **** 		  }
 4619              		.loc 1 1724 0 discriminator 3
 4620 00c4 FFF7FEFF 		bl	LTC681x_pollAdc
 4621              	.LVL543:
1720:Drivers/LTC681x/LTC681x.c **** 		  {  
 4622              		.loc 1 1720 0 discriminator 3
 4623 00c8 0134     		adds	r4, r4, #1
 4624              	.LVL544:
 4625 00ca 64B2     		sxtb	r4, r4
 4626              	.LVL545:
 4627              	.L338:
1720:Drivers/LTC681x/LTC681x.c **** 		  {  
 4628              		.loc 1 1720 0 is_stmt 0 discriminator 1
 4629 00cc 022C     		cmp	r4, #2
 4630 00ce F0DD     		ble	.L339
 4631 00d0 7C68     		ldr	r4, [r7, #4]
 4632              	.LVL546:
1727:Drivers/LTC681x/LTC681x.c **** 		  error=LTC681x_rdcv(0, total_ic,ic); 
 4633              		.loc 1 1727 0 is_stmt 1
 4634 00d2 F868     		ldr	r0, [r7, #12]
 4635 00d4 FFF7FEFF 		bl	wakeup_idle
 4636              	.LVL547:
1728:Drivers/LTC681x/LTC681x.c **** 		  
 4637              		.loc 1 1728 0
 4638 00d8 4246     		mov	r2, r8
 4639 00da F968     		ldr	r1, [r7, #12]
 4640 00dc 0020     		movs	r0, #0
 4641 00de FFF7FEFF 		bl	LTC681x_rdcv
 4642              	.LVL548:
 4643              	.LBB79:
1730:Drivers/LTC681x/LTC681x.c **** 		  {		  
 4644              		.loc 1 1730 0
 4645 00e2 0020     		movs	r0, #0
 4646 00e4 12E0     		b	.L340
 4647              	.LVL549:
 4648              	.L341:
 4649              	.LBB80:
1734:Drivers/LTC681x/LTC681x.c **** 				}
 4650              		.loc 1 1734 0 discriminator 3
 4651 00e6 C0EBC001 		rsb	r1, r0, r0, lsl #3
 4652 00ea 4B01     		lsls	r3, r1, #5
 4653 00ec 4344     		add	r3, r3, r8
 4654 00ee 6908     		lsrs	r1, r5, #1
 4655 00f0 02F10C0C 		add	ip, r2, #12
 4656 00f4 03EB4C03 		add	r3, r3, ip, lsl #1
 4657 00f8 B3F806C0 		ldrh	ip, [r3, #6]
 4658 00fc 01FB0023 		mla	r3, r1, r0, r2
 4659 0100 29F813C0 		strh	ip, [r9, r3, lsl #1]	@ movhi
1732:Drivers/LTC681x/LTC681x.c **** 				{
 4660              		.loc 1 1732 0 discriminator 3
 4661 0104 0132     		adds	r2, r2, #1
 4662              	.LVL550:
ARM GAS  /tmp/ccMCacDa.s 			page 122


 4663              	.L342:
1732:Drivers/LTC681x/LTC681x.c **** 				{
 4664              		.loc 1 1732 0 is_stmt 0 discriminator 1
 4665 0106 9442     		cmp	r4, r2
 4666 0108 EDDC     		bgt	.L341
 4667              	.LBE80:
1730:Drivers/LTC681x/LTC681x.c **** 		  {		  
 4668              		.loc 1 1730 0 is_stmt 1 discriminator 2
 4669 010a 0130     		adds	r0, r0, #1
 4670              	.LVL551:
 4671              	.L340:
1730:Drivers/LTC681x/LTC681x.c **** 		  {		  
 4672              		.loc 1 1730 0 is_stmt 0 discriminator 1
 4673 010c 8345     		cmp	fp, r0
 4674 010e 01DD     		ble	.L356
 4675              	.LBB81:
1732:Drivers/LTC681x/LTC681x.c **** 				{
 4676              		.loc 1 1732 0 is_stmt 1
 4677 0110 0022     		movs	r2, #0
 4678 0112 F8E7     		b	.L342
 4679              	.L356:
 4680              	.LBE81:
 4681              	.LBE79:
 4682              	.LBB82:
1738:Drivers/LTC681x/LTC681x.c **** 		  {
 4683              		.loc 1 1738 0
 4684 0114 0020     		movs	r0, #0
 4685              	.LVL552:
 4686 0116 34E0     		b	.L343
 4687              	.LVL553:
 4688              	.L345:
 4689              	.LBB83:
1750:Drivers/LTC681x/LTC681x.c **** 						}  
 4690              		.loc 1 1750 0
 4691 0118 02FB0031 		mla	r1, r2, r0, r3
 4692 011c 4FF0000E 		mov	lr, #0
 4693 0120 2AF811E0 		strh	lr, [r10, r1, lsl #1]	@ movhi
 4694 0124 11E0     		b	.L346
 4695              	.L347:
1742:Drivers/LTC681x/LTC681x.c **** 				{
 4696              		.loc 1 1742 0 discriminator 2
 4697 0126 0133     		adds	r3, r3, #1
 4698              	.LVL554:
 4699              	.L344:
1742:Drivers/LTC681x/LTC681x.c **** 				{
 4700              		.loc 1 1742 0 is_stmt 0 discriminator 1
 4701 0128 9C42     		cmp	r4, r3
 4702 012a 19DD     		ble	.L357
1744:Drivers/LTC681x/LTC681x.c **** 						{
 4703              		.loc 1 1744 0 is_stmt 1
 4704 012c 6A08     		lsrs	r2, r5, #1
 4705 012e 02FB0031 		mla	r1, r2, r0, r3
 4706 0132 39F811E0 		ldrh	lr, [r9, r1, lsl #1]
 4707 0136 36F81110 		ldrh	r1, [r6, r1, lsl #1]
 4708 013a 8E45     		cmp	lr, r1
 4709 013c ECD2     		bcs	.L345
1746:Drivers/LTC681x/LTC681x.c **** 						}
ARM GAS  /tmp/ccMCacDa.s 			page 123


 4710              		.loc 1 1746 0
 4711 013e A1EB0E01 		sub	r1, r1, lr
 4712 0142 02FB003E 		mla	lr, r2, r0, r3
 4713 0146 2AF81E10 		strh	r1, [r10, lr, lsl #1]	@ movhi
 4714              	.L346:
1753:Drivers/LTC681x/LTC681x.c **** 					  {
 4715              		.loc 1 1753 0
 4716 014a 02FB0032 		mla	r2, r2, r0, r3
 4717 014e 3AF91220 		ldrsh	r2, [r10, r2, lsl #1]
 4718 0152 B2F57A6F 		cmp	r2, #4000
 4719 0156 E6DD     		ble	.L347
1755:Drivers/LTC681x/LTC681x.c **** 					  }
 4720              		.loc 1 1755 0
 4721 0158 5A1C     		adds	r2, r3, #1
 4722 015a CCF8DC20 		str	r2, [ip, #220]
 4723 015e E2E7     		b	.L347
 4724              	.L357:
 4725              	.LBE83:
1760:Drivers/LTC681x/LTC681x.c **** 			{
 4726              		.loc 1 1760 0
 4727 0160 6B08     		lsrs	r3, r5, #1
 4728              	.LVL555:
 4729 0162 03FB00F2 		mul	r2, r3, r0
 4730 0166 36F81220 		ldrh	r2, [r6, r2, lsl #1]
 4731 016a 0AB9     		cbnz	r2, .L349
1762:Drivers/LTC681x/LTC681x.c **** 			}
 4732              		.loc 1 1762 0
 4733 016c CCF8DC20 		str	r2, [ip, #220]
 4734              	.L349:
1765:Drivers/LTC681x/LTC681x.c **** 			{
 4735              		.loc 1 1765 0
 4736 0170 BA68     		ldr	r2, [r7, #8]
 4737 0172 03FB0023 		mla	r3, r3, r0, r2
 4738 0176 36F81330 		ldrh	r3, [r6, r3, lsl #1]
 4739 017a 0BB9     		cbnz	r3, .L350
1767:Drivers/LTC681x/LTC681x.c **** 			}	
 4740              		.loc 1 1767 0
 4741 017c CCF8DC40 		str	r4, [ip, #220]
 4742              	.L350:
1738:Drivers/LTC681x/LTC681x.c **** 		  {
 4743              		.loc 1 1738 0 discriminator 2
 4744 0180 0130     		adds	r0, r0, #1
 4745              	.LVL556:
 4746              	.L343:
1738:Drivers/LTC681x/LTC681x.c **** 		  {
 4747              		.loc 1 1738 0 is_stmt 0 discriminator 1
 4748 0182 8345     		cmp	fp, r0
 4749 0184 0ADD     		ble	.L358
1740:Drivers/LTC681x/LTC681x.c **** 			  
 4750              		.loc 1 1740 0 is_stmt 1
 4751 0186 C0EBC003 		rsb	r3, r0, r0, lsl #3
 4752 018a 4FEA431C 		lsl	ip, r3, #5
 4753 018e C444     		add	ip, ip, r8
 4754 0190 4FF6FF73 		movw	r3, #65535
 4755 0194 CCF8DC30 		str	r3, [ip, #220]
 4756              	.LVL557:
 4757              	.LBB84:
ARM GAS  /tmp/ccMCacDa.s 			page 124


1742:Drivers/LTC681x/LTC681x.c **** 				{
 4758              		.loc 1 1742 0
 4759 0198 0023     		movs	r3, #0
 4760 019a C5E7     		b	.L344
 4761              	.LVL558:
 4762              	.L358:
 4763              	.LBE84:
 4764              	.LBE82:
1770:Drivers/LTC681x/LTC681x.c **** 
 4765              		.loc 1 1770 0
 4766 019c 1437     		adds	r7, r7, #20
 4767              	.LCFI132:
 4768              		.cfi_def_cfa_offset 36
 4769              	.LVL559:
 4770 019e BD46     		mov	sp, r7
 4771              	.LCFI133:
 4772              		.cfi_def_cfa_register 13
 4773              		@ sp needed
 4774 01a0 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4775              		.cfi_endproc
 4776              	.LFE57:
 4778              		.section	.text.LTC681x_run_openwire_multi,"ax",%progbits
 4779              		.align	1
 4780              		.global	LTC681x_run_openwire_multi
 4781              		.syntax unified
 4782              		.thumb
 4783              		.thumb_func
 4784              		.fpu softvfp
 4786              	LTC681x_run_openwire_multi:
 4787              	.LFB58:
1776:Drivers/LTC681x/LTC681x.c **** 		  uint16_t OPENWIRE_THRESHOLD = 4000;
 4788              		.loc 1 1776 0
 4789              		.cfi_startproc
 4790              		@ args = 0, pretend = 0, frame = 24
 4791              		@ frame_needed = 1, uses_anonymous_args = 0
 4792              	.LVL560:
 4793 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4794              	.LCFI134:
 4795              		.cfi_def_cfa_offset 36
 4796              		.cfi_offset 4, -36
 4797              		.cfi_offset 5, -32
 4798              		.cfi_offset 6, -28
 4799              		.cfi_offset 7, -24
 4800              		.cfi_offset 8, -20
 4801              		.cfi_offset 9, -16
 4802              		.cfi_offset 10, -12
 4803              		.cfi_offset 11, -8
 4804              		.cfi_offset 14, -4
 4805 0004 87B0     		sub	sp, sp, #28
 4806              	.LCFI135:
 4807              		.cfi_def_cfa_offset 64
 4808 0006 00AF     		add	r7, sp, #0
 4809              	.LCFI136:
 4810              		.cfi_def_cfa_register 7
 4811 0008 7861     		str	r0, [r7, #20]
 4812 000a 8A46     		mov	r10, r1
 4813              	.LVL561:
ARM GAS  /tmp/ccMCacDa.s 			page 125


1778:Drivers/LTC681x/LTC681x.c **** 		  
 4814              		.loc 1 1778 0
 4815 000c 91F8D630 		ldrb	r3, [r1, #214]	@ zero_extendqisi2
 4816 0010 FB60     		str	r3, [r7, #12]
 4817              	.LVL562:
1780:Drivers/LTC681x/LTC681x.c **** 		  uint16_t pullDwn[total_ic][N_CHANNELS];
 4818              		.loc 1 1780 0
 4819 0012 1D46     		mov	r5, r3
 4820 0014 5A1E     		subs	r2, r3, #1
 4821 0016 BA60     		str	r2, [r7, #8]
 4822              	.LVL563:
 4823 0018 5E00     		lsls	r6, r3, #1
 4824 001a 3861     		str	r0, [r7, #16]
 4825              	.LVL564:
 4826 001c 03FB00F3 		mul	r3, r3, r0
 4827              	.LVL565:
 4828 0020 5B00     		lsls	r3, r3, #1
 4829 0022 0833     		adds	r3, r3, #8
 4830 0024 DB08     		lsrs	r3, r3, #3
 4831 0026 DB00     		lsls	r3, r3, #3
 4832 0028 ADEB030D 		sub	sp, sp, r3
 4833 002c E846     		mov	r8, sp
 4834              	.LVL566:
1781:Drivers/LTC681x/LTC681x.c **** 		  uint16_t openWire_delta[total_ic][N_CHANNELS];
 4835              		.loc 1 1781 0
 4836 002e ADEB030D 		sub	sp, sp, r3
 4837 0032 E946     		mov	r9, sp
 4838              	.LVL567:
1782:Drivers/LTC681x/LTC681x.c **** 		  
 4839              		.loc 1 1782 0
 4840 0034 ADEB030D 		sub	sp, sp, r3
 4841 0038 C7F804D0 		str	sp, [r7, #4]
 4842              	.LVL568:
1785:Drivers/LTC681x/LTC681x.c **** 		  int8_t n=0;
 4843              		.loc 1 1785 0
 4844 003c EB1D     		adds	r3, r5, #7
 4845 003e 03F4FC73 		and	r3, r3, #504
 4846 0042 ADEB030D 		sub	sp, sp, r3
 4847              	.LVL569:
 4848 0046 6C46     		mov	r4, sp
 4849              	.LVL570:
1790:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clrcell();
 4850              		.loc 1 1790 0
 4851 0048 FFF7FEFF 		bl	wakeup_sleep
 4852              	.LVL571:
1791:Drivers/LTC681x/LTC681x.c **** 		  
 4853              		.loc 1 1791 0
 4854 004c FFF7FEFF 		bl	LTC681x_clrcell
 4855              	.LVL572:
1794:Drivers/LTC681x/LTC681x.c **** 		  { 
 4856              		.loc 1 1794 0
 4857 0050 4FF0000B 		mov	fp, #0
 4858 0054 0EE0     		b	.L360
 4859              	.LVL573:
 4860              	.L361:
1796:Drivers/LTC681x/LTC681x.c **** 				LTC681x_adow(MD_26HZ_2KHZ,PULL_UP_CURRENT,CELL_CH_ALL,DCP_DISABLED);
 4861              		.loc 1 1796 0 discriminator 3
ARM GAS  /tmp/ccMCacDa.s 			page 126


 4862 0056 7869     		ldr	r0, [r7, #20]
 4863 0058 FFF7FEFF 		bl	wakeup_idle
 4864              	.LVL574:
1797:Drivers/LTC681x/LTC681x.c **** 				conv_time =LTC681x_pollAdc();
 4865              		.loc 1 1797 0 discriminator 3
 4866 005c 0023     		movs	r3, #0
 4867 005e 1A46     		mov	r2, r3
 4868 0060 0121     		movs	r1, #1
 4869 0062 0320     		movs	r0, #3
 4870 0064 FFF7FEFF 		bl	LTC681x_adow
 4871              	.LVL575:
1798:Drivers/LTC681x/LTC681x.c **** 		  } 
 4872              		.loc 1 1798 0 discriminator 3
 4873 0068 FFF7FEFF 		bl	LTC681x_pollAdc
 4874              	.LVL576:
1794:Drivers/LTC681x/LTC681x.c **** 		  { 
 4875              		.loc 1 1794 0 discriminator 3
 4876 006c 0BF1010B 		add	fp, fp, #1
 4877              	.LVL577:
 4878 0070 4FFA8BFB 		sxtb	fp, fp
 4879              	.LVL578:
 4880              	.L360:
1794:Drivers/LTC681x/LTC681x.c **** 		  { 
 4881              		.loc 1 1794 0 is_stmt 0 discriminator 1
 4882 0074 BBF1040F 		cmp	fp, #4
 4883 0078 EDDD     		ble	.L361
1801:Drivers/LTC681x/LTC681x.c **** 		  error = LTC681x_rdcv(0, total_ic,ic);
 4884              		.loc 1 1801 0 is_stmt 1
 4885 007a D7F814B0 		ldr	fp, [r7, #20]
 4886              	.LVL579:
 4887 007e 5846     		mov	r0, fp
 4888 0080 FFF7FEFF 		bl	wakeup_idle
 4889              	.LVL580:
1802:Drivers/LTC681x/LTC681x.c **** 		  
 4890              		.loc 1 1802 0
 4891 0084 5246     		mov	r2, r10
 4892 0086 5946     		mov	r1, fp
 4893 0088 0020     		movs	r0, #0
 4894 008a FFF7FEFF 		bl	LTC681x_rdcv
 4895              	.LVL581:
 4896              	.LBB85:
1804:Drivers/LTC681x/LTC681x.c **** 		  {
 4897              		.loc 1 1804 0
 4898 008e 0020     		movs	r0, #0
 4899 0090 D7F810C0 		ldr	ip, [r7, #16]
 4900 0094 12E0     		b	.L362
 4901              	.LVL582:
 4902              	.L363:
 4903              	.LBB86:
1808:Drivers/LTC681x/LTC681x.c **** 				}
 4904              		.loc 1 1808 0 discriminator 3
 4905 0096 C0EBC002 		rsb	r2, r0, r0, lsl #3
 4906 009a 5301     		lsls	r3, r2, #5
 4907 009c 5344     		add	r3, r3, r10
 4908 009e 7208     		lsrs	r2, r6, #1
 4909 00a0 01F10C0E 		add	lr, r1, #12
 4910 00a4 03EB4E03 		add	r3, r3, lr, lsl #1
ARM GAS  /tmp/ccMCacDa.s 			page 127


 4911 00a8 B3F806E0 		ldrh	lr, [r3, #6]
 4912 00ac 02FB0013 		mla	r3, r2, r0, r1
 4913 00b0 28F813E0 		strh	lr, [r8, r3, lsl #1]	@ movhi
1806:Drivers/LTC681x/LTC681x.c **** 				{
 4914              		.loc 1 1806 0 discriminator 3
 4915 00b4 0131     		adds	r1, r1, #1
 4916              	.LVL583:
 4917              	.L364:
1806:Drivers/LTC681x/LTC681x.c **** 				{
 4918              		.loc 1 1806 0 is_stmt 0 discriminator 1
 4919 00b6 8D42     		cmp	r5, r1
 4920 00b8 EDDC     		bgt	.L363
 4921              	.LBE86:
1804:Drivers/LTC681x/LTC681x.c **** 		  {
 4922              		.loc 1 1804 0 is_stmt 1 discriminator 2
 4923 00ba 0130     		adds	r0, r0, #1
 4924              	.LVL584:
 4925              	.L362:
1804:Drivers/LTC681x/LTC681x.c **** 		  {
 4926              		.loc 1 1804 0 is_stmt 0 discriminator 1
 4927 00bc 8445     		cmp	ip, r0
 4928 00be 01DD     		ble	.L408
 4929              	.LBB87:
1806:Drivers/LTC681x/LTC681x.c **** 				{
 4930              		.loc 1 1806 0 is_stmt 1
 4931 00c0 0021     		movs	r1, #0
 4932 00c2 F8E7     		b	.L364
 4933              	.L408:
 4934              	.LBE87:
 4935              	.LBE85:
1813:Drivers/LTC681x/LTC681x.c **** 		  {  
 4936              		.loc 1 1813 0
 4937 00c4 4FF0000B 		mov	fp, #0
 4938 00c8 0EE0     		b	.L365
 4939              	.LVL585:
 4940              	.L366:
1815:Drivers/LTC681x/LTC681x.c **** 			  LTC681x_adow(MD_26HZ_2KHZ,PULL_DOWN_CURRENT,CELL_CH_ALL,DCP_DISABLED);
 4941              		.loc 1 1815 0 discriminator 3
 4942 00ca 7869     		ldr	r0, [r7, #20]
 4943 00cc FFF7FEFF 		bl	wakeup_idle
 4944              	.LVL586:
1816:Drivers/LTC681x/LTC681x.c **** 			  conv_time =   LTC681x_pollAdc();
 4945              		.loc 1 1816 0 discriminator 3
 4946 00d0 0023     		movs	r3, #0
 4947 00d2 1A46     		mov	r2, r3
 4948 00d4 1946     		mov	r1, r3
 4949 00d6 0320     		movs	r0, #3
 4950 00d8 FFF7FEFF 		bl	LTC681x_adow
 4951              	.LVL587:
1817:Drivers/LTC681x/LTC681x.c **** 		  }
 4952              		.loc 1 1817 0 discriminator 3
 4953 00dc FFF7FEFF 		bl	LTC681x_pollAdc
 4954              	.LVL588:
1813:Drivers/LTC681x/LTC681x.c **** 		  {  
 4955              		.loc 1 1813 0 discriminator 3
 4956 00e0 0BF1010B 		add	fp, fp, #1
 4957              	.LVL589:
ARM GAS  /tmp/ccMCacDa.s 			page 128


 4958 00e4 4FFA8BFB 		sxtb	fp, fp
 4959              	.LVL590:
 4960              	.L365:
1813:Drivers/LTC681x/LTC681x.c **** 		  {  
 4961              		.loc 1 1813 0 is_stmt 0 discriminator 1
 4962 00e8 BBF1040F 		cmp	fp, #4
 4963 00ec EDDD     		ble	.L366
1820:Drivers/LTC681x/LTC681x.c **** 		  error = LTC681x_rdcv(0, total_ic,ic); 
 4964              		.loc 1 1820 0 is_stmt 1
 4965 00ee D7F814B0 		ldr	fp, [r7, #20]
 4966              	.LVL591:
 4967 00f2 5846     		mov	r0, fp
 4968 00f4 FFF7FEFF 		bl	wakeup_idle
 4969              	.LVL592:
1821:Drivers/LTC681x/LTC681x.c **** 		  
 4970              		.loc 1 1821 0
 4971 00f8 5246     		mov	r2, r10
 4972 00fa 5946     		mov	r1, fp
 4973 00fc 0020     		movs	r0, #0
 4974 00fe FFF7FEFF 		bl	LTC681x_rdcv
 4975              	.LVL593:
 4976              	.LBB88:
1823:Drivers/LTC681x/LTC681x.c **** 		  {
 4977              		.loc 1 1823 0
 4978 0102 0020     		movs	r0, #0
 4979 0104 D7F810C0 		ldr	ip, [r7, #16]
 4980 0108 12E0     		b	.L367
 4981              	.LVL594:
 4982              	.L368:
 4983              	.LBB89:
1827:Drivers/LTC681x/LTC681x.c **** 				}
 4984              		.loc 1 1827 0 discriminator 3
 4985 010a C0EBC002 		rsb	r2, r0, r0, lsl #3
 4986 010e 5301     		lsls	r3, r2, #5
 4987 0110 5344     		add	r3, r3, r10
 4988 0112 7208     		lsrs	r2, r6, #1
 4989 0114 01F10C0E 		add	lr, r1, #12
 4990 0118 03EB4E03 		add	r3, r3, lr, lsl #1
 4991 011c B3F806E0 		ldrh	lr, [r3, #6]
 4992 0120 02FB0013 		mla	r3, r2, r0, r1
 4993 0124 29F813E0 		strh	lr, [r9, r3, lsl #1]	@ movhi
1825:Drivers/LTC681x/LTC681x.c **** 				{
 4994              		.loc 1 1825 0 discriminator 3
 4995 0128 0131     		adds	r1, r1, #1
 4996              	.LVL595:
 4997              	.L369:
1825:Drivers/LTC681x/LTC681x.c **** 				{
 4998              		.loc 1 1825 0 is_stmt 0 discriminator 1
 4999 012a 8D42     		cmp	r5, r1
 5000 012c EDDC     		bgt	.L368
 5001              	.LBE89:
1823:Drivers/LTC681x/LTC681x.c **** 		  {
 5002              		.loc 1 1823 0 is_stmt 1 discriminator 2
 5003 012e 0130     		adds	r0, r0, #1
 5004              	.LVL596:
 5005              	.L367:
1823:Drivers/LTC681x/LTC681x.c **** 		  {
ARM GAS  /tmp/ccMCacDa.s 			page 129


 5006              		.loc 1 1823 0 is_stmt 0 discriminator 1
 5007 0130 8445     		cmp	ip, r0
 5008 0132 01DD     		ble	.L409
 5009              	.LBB90:
1825:Drivers/LTC681x/LTC681x.c **** 				{
 5010              		.loc 1 1825 0 is_stmt 1
 5011 0134 0021     		movs	r1, #0
 5012 0136 F8E7     		b	.L369
 5013              	.L409:
 5014              	.LBE90:
 5015              	.LBE88:
 5016              	.LBB91:
1832:Drivers/LTC681x/LTC681x.c **** 		  {			  
 5017              		.loc 1 1832 0
 5018 0138 4FF0000C 		mov	ip, #0
 5019 013c D7F810E0 		ldr	lr, [r7, #16]
 5020 0140 7868     		ldr	r0, [r7, #4]
 5021              	.LVL597:
 5022 0142 17E0     		b	.L370
 5023              	.LVL598:
 5024              	.L371:
 5025              	.LBB92:
1842:Drivers/LTC681x/LTC681x.c **** 						}
 5026              		.loc 1 1842 0
 5027 0144 02FB0C32 		mla	r2, r2, ip, r3
 5028 0148 0021     		movs	r1, #0
 5029 014a 20F81210 		strh	r1, [r0, r2, lsl #1]	@ movhi
 5030              	.L372:
1834:Drivers/LTC681x/LTC681x.c **** 				{
 5031              		.loc 1 1834 0 discriminator 2
 5032 014e 0133     		adds	r3, r3, #1
 5033              	.LVL599:
 5034              	.L374:
1834:Drivers/LTC681x/LTC681x.c **** 				{
 5035              		.loc 1 1834 0 is_stmt 0 discriminator 1
 5036 0150 9D42     		cmp	r5, r3
 5037 0152 0DDD     		ble	.L410
1836:Drivers/LTC681x/LTC681x.c **** 						{
 5038              		.loc 1 1836 0 is_stmt 1
 5039 0154 7208     		lsrs	r2, r6, #1
 5040 0156 02FB0C3A 		mla	r10, r2, ip, r3
 5041 015a 39F81AB0 		ldrh	fp, [r9, r10, lsl #1]
 5042 015e 38F81A10 		ldrh	r1, [r8, r10, lsl #1]
 5043 0162 8B45     		cmp	fp, r1
 5044 0164 EED2     		bcs	.L371
1838:Drivers/LTC681x/LTC681x.c **** 						}
 5045              		.loc 1 1838 0
 5046 0166 A1EB0B01 		sub	r1, r1, fp
 5047 016a 20F81A10 		strh	r1, [r0, r10, lsl #1]	@ movhi
 5048 016e EEE7     		b	.L372
 5049              	.L410:
 5050              	.LBE92:
1832:Drivers/LTC681x/LTC681x.c **** 		  {			  
 5051              		.loc 1 1832 0 discriminator 2
 5052 0170 0CF1010C 		add	ip, ip, #1
 5053              	.LVL600:
 5054              	.L370:
ARM GAS  /tmp/ccMCacDa.s 			page 130


1832:Drivers/LTC681x/LTC681x.c **** 		  {			  
 5055              		.loc 1 1832 0 is_stmt 0 discriminator 1
 5056 0174 E645     		cmp	lr, ip
 5057 0176 01DD     		ble	.L411
 5058              	.LBB93:
1834:Drivers/LTC681x/LTC681x.c **** 				{
 5059              		.loc 1 1834 0 is_stmt 1
 5060 0178 0023     		movs	r3, #0
 5061 017a E9E7     		b	.L374
 5062              	.L411:
 5063              	.LBE93:
 5064              	.LBE91:
 5065              	.LBB94:
1847:Drivers/LTC681x/LTC681x.c **** 		  { 
 5066              		.loc 1 1847 0
 5067 017c 4FF0000A 		mov	r10, #0
 5068 0180 C7F81490 		str	r9, [r7, #20]
 5069              	.LVL601:
 5070 0184 D7F804B0 		ldr	fp, [r7, #4]
 5071 0188 90E0     		b	.L375
 5072              	.LVL602:
 5073              	.L378:
 5074              	.LBB95:
 5075              	.LBB96:
1858:Drivers/LTC681x/LTC681x.c **** 						{
 5076              		.loc 1 1858 0 discriminator 2
 5077 018a 0132     		adds	r2, r2, #1
 5078              	.LVL603:
 5079              	.L377:
1858:Drivers/LTC681x/LTC681x.c **** 						{
 5080              		.loc 1 1858 0 is_stmt 0 discriminator 1
 5081 018c E91E     		subs	r1, r5, #3
 5082 018e 8A42     		cmp	r2, r1
 5083 0190 0BDA     		bge	.L412
1860:Drivers/LTC681x/LTC681x.c **** 							{
 5084              		.loc 1 1860 0 is_stmt 1
 5085 0192 911C     		adds	r1, r2, #2
 5086 0194 00FB0A11 		mla	r1, r0, r10, r1
 5087 0198 38F81110 		ldrh	r1, [r8, r1, lsl #1]
 5088 019c 0029     		cmp	r1, #0
 5089 019e F4D1     		bne	.L378
1862:Drivers/LTC681x/LTC681x.c **** 							n++;
 5090              		.loc 1 1862 0
 5091 01a0 911C     		adds	r1, r2, #2
 5092 01a2 E154     		strb	r1, [r4, r3]
1863:Drivers/LTC681x/LTC681x.c **** 							}
 5093              		.loc 1 1863 0
 5094 01a4 0133     		adds	r3, r3, #1
 5095              	.LVL604:
 5096 01a6 5BB2     		sxtb	r3, r3
 5097              	.LVL605:
 5098 01a8 EFE7     		b	.L378
 5099              	.L412:
 5100              	.LBE96:
1866:Drivers/LTC681x/LTC681x.c **** 						{
 5101              		.loc 1 1866 0
 5102 01aa 2A1F     		subs	r2, r5, #4
ARM GAS  /tmp/ccMCacDa.s 			page 131


 5103              	.LVL606:
 5104 01ac 9445     		cmp	ip, r2
 5105 01ae 12D0     		beq	.L413
 5106              	.L376:
1851:Drivers/LTC681x/LTC681x.c **** 				{  
 5107              		.loc 1 1851 0 discriminator 2
 5108 01b0 0CF1010C 		add	ip, ip, #1
 5109              	.LVL607:
 5110              	.L399:
1851:Drivers/LTC681x/LTC681x.c **** 				{  
 5111              		.loc 1 1851 0 is_stmt 0 discriminator 1
 5112 01b4 6545     		cmp	r5, ip
 5113 01b6 1BDD     		ble	.L414
1854:Drivers/LTC681x/LTC681x.c **** 					{
 5114              		.loc 1 1854 0 is_stmt 1
 5115 01b8 7008     		lsrs	r0, r6, #1
 5116 01ba 00FB0AC2 		mla	r2, r0, r10, ip
 5117 01be 3BF81220 		ldrh	r2, [fp, r2, lsl #1]
 5118 01c2 B2F57A6F 		cmp	r2, #4000
 5119 01c6 F3D9     		bls	.L376
1856:Drivers/LTC681x/LTC681x.c **** 						n++;
 5120              		.loc 1 1856 0
 5121 01c8 0CF10102 		add	r2, ip, #1
 5122 01cc E254     		strb	r2, [r4, r3]
1857:Drivers/LTC681x/LTC681x.c **** 						for (int j = cell; j < N_CHANNELS-3 ; j++)                       
 5123              		.loc 1 1857 0
 5124 01ce 0133     		adds	r3, r3, #1
 5125              	.LVL608:
 5126 01d0 5BB2     		sxtb	r3, r3
 5127              	.LVL609:
 5128              	.LBB97:
1858:Drivers/LTC681x/LTC681x.c **** 						{
 5129              		.loc 1 1858 0
 5130 01d2 6246     		mov	r2, ip
 5131 01d4 DAE7     		b	.L377
 5132              	.LVL610:
 5133              	.L413:
 5134              	.LBE97:
1866:Drivers/LTC681x/LTC681x.c **** 						{
 5135              		.loc 1 1866 0 discriminator 1
 5136 01d6 00FB0A11 		mla	r1, r0, r10, r1
 5137 01da 7A69     		ldr	r2, [r7, #20]
 5138 01dc 32F81120 		ldrh	r2, [r2, r1, lsl #1]
 5139 01e0 002A     		cmp	r2, #0
 5140 01e2 E5D1     		bne	.L376
1868:Drivers/LTC681x/LTC681x.c **** 							  n++;
 5141              		.loc 1 1868 0
 5142 01e4 FA68     		ldr	r2, [r7, #12]
 5143 01e6 023A     		subs	r2, r2, #2
 5144 01e8 E254     		strb	r2, [r4, r3]
1869:Drivers/LTC681x/LTC681x.c **** 						}
 5145              		.loc 1 1869 0
 5146 01ea 0133     		adds	r3, r3, #1
 5147              	.LVL611:
 5148 01ec 5BB2     		sxtb	r3, r3
 5149              	.LVL612:
 5150 01ee DFE7     		b	.L376
ARM GAS  /tmp/ccMCacDa.s 			page 132


 5151              	.L414:
 5152              	.LBE95:
1873:Drivers/LTC681x/LTC681x.c **** 				{
 5153              		.loc 1 1873 0
 5154 01f0 7208     		lsrs	r2, r6, #1
 5155 01f2 02FB0AF1 		mul	r1, r2, r10
 5156 01f6 7869     		ldr	r0, [r7, #20]
 5157 01f8 30F81110 		ldrh	r1, [r0, r1, lsl #1]
 5158 01fc 11B9     		cbnz	r1, .L381
1876:Drivers/LTC681x/LTC681x.c **** 				  n++;
 5159              		.loc 1 1876 0
 5160 01fe E154     		strb	r1, [r4, r3]
1877:Drivers/LTC681x/LTC681x.c **** 				}
 5161              		.loc 1 1877 0
 5162 0200 0133     		adds	r3, r3, #1
 5163              	.LVL613:
 5164 0202 5BB2     		sxtb	r3, r3
 5165              	.LVL614:
 5166              	.L381:
1880:Drivers/LTC681x/LTC681x.c **** 				{
 5167              		.loc 1 1880 0
 5168 0204 B968     		ldr	r1, [r7, #8]
 5169 0206 02FB0A11 		mla	r1, r2, r10, r1
 5170 020a 7869     		ldr	r0, [r7, #20]
 5171 020c 30F81110 		ldrh	r1, [r0, r1, lsl #1]
 5172 0210 19B9     		cbnz	r1, .L382
1883:Drivers/LTC681x/LTC681x.c **** 				  n++;
 5173              		.loc 1 1883 0
 5174 0212 F968     		ldr	r1, [r7, #12]
 5175 0214 E154     		strb	r1, [r4, r3]
1884:Drivers/LTC681x/LTC681x.c **** 				}
 5176              		.loc 1 1884 0
 5177 0216 0133     		adds	r3, r3, #1
 5178              	.LVL615:
 5179 0218 5BB2     		sxtb	r3, r3
 5180              	.LVL616:
 5181              	.L382:
1887:Drivers/LTC681x/LTC681x.c **** 				{  
 5182              		.loc 1 1887 0
 5183 021a A91E     		subs	r1, r5, #2
 5184 021c 02FB0A12 		mla	r2, r2, r10, r1
 5185 0220 7969     		ldr	r1, [r7, #20]
 5186 0222 31F81220 		ldrh	r2, [r1, r2, lsl #1]
 5187 0226 22B9     		cbnz	r2, .L383
1889:Drivers/LTC681x/LTC681x.c **** 				  n++;
 5188              		.loc 1 1889 0
 5189 0228 FA68     		ldr	r2, [r7, #12]
 5190 022a 013A     		subs	r2, r2, #1
 5191 022c E254     		strb	r2, [r4, r3]
1890:Drivers/LTC681x/LTC681x.c **** 
 5192              		.loc 1 1890 0
 5193 022e 0133     		adds	r3, r3, #1
 5194              	.LVL617:
 5195 0230 5BB2     		sxtb	r3, r3
 5196              	.LVL618:
 5197              	.L383:
1897:Drivers/LTC681x/LTC681x.c **** 					{
ARM GAS  /tmp/ccMCacDa.s 			page 133


 5198              		.loc 1 1897 0 discriminator 1
 5199 0232 4FF0000C 		mov	ip, #0
 5200              	.LVL619:
 5201 0236 15E0     		b	.L390
 5202              	.LVL620:
 5203              	.L387:
1902:Drivers/LTC681x/LTC681x.c **** 								
 5204              		.loc 1 1902 0 discriminator 3
 5205 0238 501C     		adds	r0, r2, #1
 5206 023a 2056     		ldrsb	r0, [r4, r0]
 5207 023c A054     		strb	r0, [r4, r2]
1901:Drivers/LTC681x/LTC681x.c **** 								opencells[k]=opencells[k+1];
 5208              		.loc 1 1901 0 discriminator 3
 5209 023e 0132     		adds	r2, r2, #1
 5210              	.LVL621:
 5211 0240 52B2     		sxtb	r2, r2
 5212              	.LVL622:
 5213              	.L385:
1901:Drivers/LTC681x/LTC681x.c **** 								opencells[k]=opencells[k+1];
 5214              		.loc 1 1901 0 is_stmt 0 discriminator 1
 5215 0242 9A42     		cmp	r2, r3
 5216 0244 F8DB     		blt	.L387
1904:Drivers/LTC681x/LTC681x.c **** 						}
 5217              		.loc 1 1904 0 is_stmt 1
 5218 0246 013B     		subs	r3, r3, #1
 5219              	.LVL623:
 5220 0248 5BB2     		sxtb	r3, r3
 5221              	.LVL624:
 5222              	.L384:
1897:Drivers/LTC681x/LTC681x.c **** 					{
 5223              		.loc 1 1897 0 discriminator 1
 5224 024a 9942     		cmp	r1, r3
 5225 024c 09DA     		bge	.L415
1899:Drivers/LTC681x/LTC681x.c **** 						{
 5226              		.loc 1 1899 0
 5227 024e 14F90C00 		ldrsb	r0, [r4, ip]
 5228 0252 6256     		ldrsb	r2, [r4, r1]
 5229 0254 9042     		cmp	r0, r2
 5230 0256 02D0     		beq	.L416
1907:Drivers/LTC681x/LTC681x.c **** 					}
 5231              		.loc 1 1907 0
 5232 0258 0131     		adds	r1, r1, #1
 5233              	.LVL625:
 5234 025a 49B2     		sxtb	r1, r1
 5235              	.LVL626:
 5236 025c F5E7     		b	.L384
 5237              	.L416:
1901:Drivers/LTC681x/LTC681x.c **** 								opencells[k]=opencells[k+1];
 5238              		.loc 1 1901 0
 5239 025e 0A46     		mov	r2, r1
 5240 0260 EFE7     		b	.L385
 5241              	.L415:
1895:Drivers/LTC681x/LTC681x.c **** 				{
 5242              		.loc 1 1895 0
 5243 0262 F446     		mov	ip, lr
 5244              	.LVL627:
 5245              	.L390:
ARM GAS  /tmp/ccMCacDa.s 			page 134


1895:Drivers/LTC681x/LTC681x.c **** 				{
 5246              		.loc 1 1895 0 is_stmt 0 discriminator 1
 5247 0264 9C45     		cmp	ip, r3
 5248 0266 05DA     		bge	.L417
1897:Drivers/LTC681x/LTC681x.c **** 					{
 5249              		.loc 1 1897 0 is_stmt 1
 5250 0268 0CF1010E 		add	lr, ip, #1
 5251 026c 4FFA8EFE 		sxtb	lr, lr
 5252              	.LVL628:
 5253 0270 7146     		mov	r1, lr
 5254 0272 EAE7     		b	.L384
 5255              	.LVL629:
 5256              	.L417:
 5257              	.LBB98:
1913:Drivers/LTC681x/LTC681x.c **** 				{
 5258              		.loc 1 1913 0
 5259 0274 4FF00009 		mov	r9, #0
 5260 0278 10E0     		b	.L392
 5261              	.LVL630:
 5262              	.L393:
 5263              	.LBE98:
1895:Drivers/LTC681x/LTC681x.c **** 				{
 5264              		.loc 1 1895 0 discriminator 1
 5265 027a 0A46     		mov	r2, r1
 5266              	.LVL631:
 5267              	.L395:
 5268              	.LBB101:
 5269              	.LBB99:
1915:Drivers/LTC681x/LTC681x.c **** 					{
 5270              		.loc 1 1915 0 discriminator 1
 5271 027c 0EF1FF31 		add	r1, lr, #-1
 5272 0280 8A42     		cmp	r2, r1
 5273 0282 09DA     		bge	.L418
1917:Drivers/LTC681x/LTC681x.c **** 						{
 5274              		.loc 1 1917 0
 5275 0284 A056     		ldrsb	r0, [r4, r2]
 5276 0286 511C     		adds	r1, r2, #1
 5277 0288 14F901C0 		ldrsb	ip, [r4, r1]
 5278 028c 6045     		cmp	r0, ip
 5279 028e F4DD     		ble	.L393
 5280              	.LVL632:
1920:Drivers/LTC681x/LTC681x.c **** 							opencells[j+1] = k;
 5281              		.loc 1 1920 0
 5282 0290 04F802C0 		strb	ip, [r4, r2]
1921:Drivers/LTC681x/LTC681x.c **** 						}
 5283              		.loc 1 1921 0
 5284 0294 6054     		strb	r0, [r4, r1]
 5285 0296 F0E7     		b	.L393
 5286              	.LVL633:
 5287              	.L418:
 5288              	.LBE99:
1913:Drivers/LTC681x/LTC681x.c **** 				{
 5289              		.loc 1 1913 0 discriminator 2
 5290 0298 09F10109 		add	r9, r9, #1
 5291              	.LVL634:
 5292              	.L392:
1913:Drivers/LTC681x/LTC681x.c **** 				{
ARM GAS  /tmp/ccMCacDa.s 			page 135


 5293              		.loc 1 1913 0 is_stmt 0 discriminator 1
 5294 029c 9E46     		mov	lr, r3
 5295 029e 9945     		cmp	r9, r3
 5296 02a0 01DA     		bge	.L419
 5297              	.LBB100:
1915:Drivers/LTC681x/LTC681x.c **** 					{
 5298              		.loc 1 1915 0 is_stmt 1
 5299 02a2 0022     		movs	r2, #0
 5300 02a4 EAE7     		b	.L395
 5301              	.L419:
 5302              	.LBE100:
 5303              	.LBE101:
1935:Drivers/LTC681x/LTC681x.c **** 				{
 5304              		.loc 1 1935 0
 5305 02a6 43B9     		cbnz	r3, .L420
 5306              	.L396:
1847:Drivers/LTC681x/LTC681x.c **** 		  { 
 5307              		.loc 1 1847 0 discriminator 2
 5308 02a8 0AF1010A 		add	r10, r10, #1
 5309              	.LVL635:
 5310              	.L375:
1847:Drivers/LTC681x/LTC681x.c **** 		  { 
 5311              		.loc 1 1847 0 is_stmt 0 discriminator 1
 5312 02ac 3B69     		ldr	r3, [r7, #16]
 5313 02ae 5345     		cmp	r3, r10
 5314 02b0 0ADD     		ble	.L421
 5315              	.LBB102:
1851:Drivers/LTC681x/LTC681x.c **** 				{  
 5316              		.loc 1 1851 0 is_stmt 1
 5317 02b2 4FF0000C 		mov	ip, #0
 5318              	.LBE102:
1849:Drivers/LTC681x/LTC681x.c **** 				
 5319              		.loc 1 1849 0
 5320 02b6 6346     		mov	r3, ip
 5321 02b8 7CE7     		b	.L399
 5322              	.LVL636:
 5323              	.L420:
1941:Drivers/LTC681x/LTC681x.c **** 					{
 5324              		.loc 1 1941 0
 5325 02ba 0022     		movs	r2, #0
 5326 02bc 01E0     		b	.L397
 5327              	.LVL637:
 5328              	.L398:
1941:Drivers/LTC681x/LTC681x.c **** 					{
 5329              		.loc 1 1941 0 is_stmt 0 discriminator 3
 5330 02be 0132     		adds	r2, r2, #1
 5331              	.LVL638:
 5332 02c0 52B2     		sxtb	r2, r2
 5333              	.LVL639:
 5334              	.L397:
1941:Drivers/LTC681x/LTC681x.c **** 					{
 5335              		.loc 1 1941 0 discriminator 1
 5336 02c2 9A42     		cmp	r2, r3
 5337 02c4 FBDB     		blt	.L398
 5338 02c6 EFE7     		b	.L396
 5339              	.LVL640:
 5340              	.L421:
ARM GAS  /tmp/ccMCacDa.s 			page 136


 5341              	.LBE94:
1947:Drivers/LTC681x/LTC681x.c **** 
 5342              		.loc 1 1947 0 is_stmt 1
 5343 02c8 1C37     		adds	r7, r7, #28
 5344              	.LCFI137:
 5345              		.cfi_def_cfa_offset 36
 5346              	.LVL641:
 5347 02ca BD46     		mov	sp, r7
 5348              	.LCFI138:
 5349              		.cfi_def_cfa_register 13
 5350              		@ sp needed
 5351 02cc BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5352              		.cfi_endproc
 5353              	.LFE58:
 5355              		.section	.text.LTC681x_run_adc_overlap,"ax",%progbits
 5356              		.align	1
 5357              		.global	LTC681x_run_adc_overlap
 5358              		.syntax unified
 5359              		.thumb
 5360              		.thumb_func
 5361              		.fpu softvfp
 5363              	LTC681x_run_adc_overlap:
 5364              	.LFB59:
1953:Drivers/LTC681x/LTC681x.c **** 	uint16_t error = 0;
 5365              		.loc 1 1953 0
 5366              		.cfi_startproc
 5367              		@ args = 0, pretend = 0, frame = 0
 5368              		@ frame_needed = 0, uses_anonymous_args = 0
 5369              	.LVL642:
 5370 0000 38B5     		push	{r3, r4, r5, lr}
 5371              	.LCFI139:
 5372              		.cfi_def_cfa_offset 16
 5373              		.cfi_offset 3, -16
 5374              		.cfi_offset 4, -12
 5375              		.cfi_offset 5, -8
 5376              		.cfi_offset 14, -4
 5377 0002 0446     		mov	r4, r0
 5378 0004 0D46     		mov	r5, r1
 5379              	.LVL643:
1959:Drivers/LTC681x/LTC681x.c **** 	LTC681x_adol(MD_7KHZ_3KHZ,DCP_DISABLED);
 5380              		.loc 1 1959 0
 5381 0006 FFF7FEFF 		bl	wakeup_idle
 5382              	.LVL644:
1960:Drivers/LTC681x/LTC681x.c **** 	LTC681x_pollAdc();
 5383              		.loc 1 1960 0
 5384 000a 0021     		movs	r1, #0
 5385 000c 0220     		movs	r0, #2
 5386 000e FFF7FEFF 		bl	LTC681x_adol
 5387              	.LVL645:
1961:Drivers/LTC681x/LTC681x.c **** 	wakeup_idle(total_ic);
 5388              		.loc 1 1961 0
 5389 0012 FFF7FEFF 		bl	LTC681x_pollAdc
 5390              	.LVL646:
1962:Drivers/LTC681x/LTC681x.c **** 	error = LTC681x_rdcv(0, total_ic,ic);
 5391              		.loc 1 1962 0
 5392 0016 2046     		mov	r0, r4
 5393 0018 FFF7FEFF 		bl	wakeup_idle
ARM GAS  /tmp/ccMCacDa.s 			page 137


 5394              	.LVL647:
1963:Drivers/LTC681x/LTC681x.c **** 
 5395              		.loc 1 1963 0
 5396 001c 2A46     		mov	r2, r5
 5397 001e 2146     		mov	r1, r4
 5398 0020 0020     		movs	r0, #0
 5399 0022 FFF7FEFF 		bl	LTC681x_rdcv
 5400              	.LVL648:
 5401 0026 80B2     		uxth	r0, r0
 5402              	.LVL649:
 5403              	.LBB103:
1965:Drivers/LTC681x/LTC681x.c **** 	  {
 5404              		.loc 1 1965 0
 5405 0028 0023     		movs	r3, #0
 5406 002a 05E0     		b	.L423
 5407              	.LVL650:
 5408              	.L424:
1971:Drivers/LTC681x/LTC681x.c **** 		 }
 5409              		.loc 1 1971 0
 5410 002c 591E     		subs	r1, r3, #1
 5411 002e 0122     		movs	r2, #1
 5412              	.LVL651:
 5413 0030 8A40     		lsls	r2, r2, r1
 5414 0032 1043     		orrs	r0, r0, r2
 5415              	.LVL652:
 5416 0034 80B2     		uxth	r0, r0
 5417              	.LVL653:
 5418              	.L425:
1965:Drivers/LTC681x/LTC681x.c **** 	  {
 5419              		.loc 1 1965 0 discriminator 2
 5420 0036 0133     		adds	r3, r3, #1
 5421              	.LVL654:
 5422              	.L423:
1965:Drivers/LTC681x/LTC681x.c **** 	  {
 5423              		.loc 1 1965 0 is_stmt 0 discriminator 1
 5424 0038 9C42     		cmp	r4, r3
 5425 003a 0CDD     		ble	.L428
1967:Drivers/LTC681x/LTC681x.c **** 		
 5426              		.loc 1 1967 0 is_stmt 1
 5427 003c C3EBC301 		rsb	r1, r3, r3, lsl #3
 5428 0040 4A01     		lsls	r2, r1, #5
 5429 0042 2A44     		add	r2, r2, r5
 5430 0044 518D     		ldrh	r1, [r2, #42]
 5431 0046 928D     		ldrh	r2, [r2, #44]
 5432 0048 8A1A     		subs	r2, r1, r2
 5433              	.LVL655:
1969:Drivers/LTC681x/LTC681x.c **** 		 {
 5434              		.loc 1 1969 0
 5435 004a 142A     		cmp	r2, #20
 5436 004c EEDC     		bgt	.L424
1969:Drivers/LTC681x/LTC681x.c **** 		 {
 5437              		.loc 1 1969 0 is_stmt 0 discriminator 1
 5438 004e 12F1140F 		cmn	r2, #20
 5439 0052 F0DA     		bge	.L425
 5440 0054 EAE7     		b	.L424
 5441              	.LVL656:
 5442              	.L428:
ARM GAS  /tmp/ccMCacDa.s 			page 138


 5443              	.LBE103:
1976:Drivers/LTC681x/LTC681x.c **** 
 5444              		.loc 1 1976 0 is_stmt 1
 5445 0056 38BD     		pop	{r3, r4, r5, pc}
 5446              		.cfi_endproc
 5447              	.LFE59:
 5449              		.section	.text.LTC681x_rdaux,"ax",%progbits
 5450              		.align	1
 5451              		.global	LTC681x_rdaux
 5452              		.syntax unified
 5453              		.thumb
 5454              		.thumb_func
 5455              		.fpu softvfp
 5457              	LTC681x_rdaux:
 5458              	.LFB39:
 848:Drivers/LTC681x/LTC681x.c ****   uint8_t *data;
 5459              		.loc 1 848 0
 5460              		.cfi_startproc
 5461              		@ args = 0, pretend = 0, frame = 0
 5462              		@ frame_needed = 0, uses_anonymous_args = 0
 5463              	.LVL657:
 5464 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 5465              	.LCFI140:
 5466              		.cfi_def_cfa_offset 32
 5467              		.cfi_offset 4, -32
 5468              		.cfi_offset 5, -28
 5469              		.cfi_offset 6, -24
 5470              		.cfi_offset 7, -20
 5471              		.cfi_offset 8, -16
 5472              		.cfi_offset 9, -12
 5473              		.cfi_offset 10, -8
 5474              		.cfi_offset 14, -4
 5475 0004 82B0     		sub	sp, sp, #8
 5476              	.LCFI141:
 5477              		.cfi_def_cfa_offset 40
 5478 0006 0646     		mov	r6, r0
 5479 0008 8946     		mov	r9, r1
 5480 000a 1546     		mov	r5, r2
 5481              	.LVL658:
 852:Drivers/LTC681x/LTC681x.c **** 
 5482              		.loc 1 852 0
 5483 000c 8846     		mov	r8, r1
 5484 000e C800     		lsls	r0, r1, #3
 5485              	.LVL659:
 5486 0010 FFF7FEFF 		bl	malloc
 5487              	.LVL660:
 5488 0014 0746     		mov	r7, r0
 5489              	.LVL661:
 854:Drivers/LTC681x/LTC681x.c ****   {
 5490              		.loc 1 854 0
 5491 0016 6EBB     		cbnz	r6, .L445
 5492              	.LBB104:
 856:Drivers/LTC681x/LTC681x.c ****     {
 5493              		.loc 1 856 0
 5494 0018 0126     		movs	r6, #1
 5495              	.LBE104:
 850:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic =0;
ARM GAS  /tmp/ccMCacDa.s 			page 139


 5496              		.loc 1 850 0
 5497 001a 4FF0000A 		mov	r10, #0
 5498 001e 1DE0     		b	.L430
 5499              	.LVL662:
 5500              	.L433:
 5501              	.LBB107:
 5502              	.LBB105:
 867:Drivers/LTC681x/LTC681x.c ****         }
 5503              		.loc 1 867 0
 5504 0020 A9EB0402 		sub	r2, r9, r4
 5505 0024 D2B2     		uxtb	r2, r2
 5506 0026 013A     		subs	r2, r2, #1
 5507 0028 D2B2     		uxtb	r2, r2
 5508              	.LVL663:
 5509              	.L434:
 870:Drivers/LTC681x/LTC681x.c ****                                 &ic[c_ic].aux.pec_match[0]);
 5510              		.loc 1 870 0 discriminator 2
 5511 002a C2EBC202 		rsb	r2, r2, r2, lsl #3
 5512              	.LVL664:
 5513 002e 5301     		lsls	r3, r2, #5
 5514 0030 2B44     		add	r3, r3, r5
 869:Drivers/LTC681x/LTC681x.c ****                                 &ic[c_ic].aux.a_codes[0],
 5515              		.loc 1 869 0 discriminator 2
 5516 0032 03F15A02 		add	r2, r3, #90
 5517 0036 0092     		str	r2, [sp]
 5518 0038 4833     		adds	r3, r3, #72
 5519 003a 3A46     		mov	r2, r7
 5520 003c 3146     		mov	r1, r6
 5521 003e E0B2     		uxtb	r0, r4
 5522 0040 FFF7FEFF 		bl	parse_cells
 5523              	.LVL665:
 5524 0044 8246     		mov	r10, r0
 5525              	.LVL666:
 859:Drivers/LTC681x/LTC681x.c ****       {
 5526              		.loc 1 859 0 discriminator 2
 5527 0046 0134     		adds	r4, r4, #1
 5528              	.LVL667:
 5529              	.L432:
 859:Drivers/LTC681x/LTC681x.c ****       {
 5530              		.loc 1 859 0 is_stmt 0 discriminator 1
 5531 0048 A045     		cmp	r8, r4
 5532 004a 05DD     		ble	.L446
 861:Drivers/LTC681x/LTC681x.c ****         {
 5533              		.loc 1 861 0 is_stmt 1
 5534 004c 95F8B930 		ldrb	r3, [r5, #185]	@ zero_extendqisi2
 5535 0050 002B     		cmp	r3, #0
 5536 0052 E5D1     		bne	.L433
 863:Drivers/LTC681x/LTC681x.c ****         }
 5537              		.loc 1 863 0
 5538 0054 E2B2     		uxtb	r2, r4
 5539              	.LVL668:
 5540 0056 E8E7     		b	.L434
 5541              	.LVL669:
 5542              	.L446:
 5543              	.LBE105:
 856:Drivers/LTC681x/LTC681x.c ****     {
 5544              		.loc 1 856 0 discriminator 2
ARM GAS  /tmp/ccMCacDa.s 			page 140


 5545 0058 0136     		adds	r6, r6, #1
 5546              	.LVL670:
 5547 005a F6B2     		uxtb	r6, r6
 5548              	.LVL671:
 5549              	.L430:
 856:Drivers/LTC681x/LTC681x.c ****     {
 5550              		.loc 1 856 0 is_stmt 0 discriminator 1
 5551 005c 95F8DA30 		ldrb	r3, [r5, #218]	@ zero_extendqisi2
 5552 0060 0133     		adds	r3, r3, #1
 5553 0062 9E42     		cmp	r6, r3
 5554 0064 2ADA     		bge	.L437
 858:Drivers/LTC681x/LTC681x.c ****       for (int current_ic = 0; current_ic<total_ic; current_ic++)
 5555              		.loc 1 858 0 is_stmt 1
 5556 0066 3A46     		mov	r2, r7
 5557 0068 4946     		mov	r1, r9
 5558 006a 3046     		mov	r0, r6
 5559 006c FFF7FEFF 		bl	LTC681x_rdaux_reg
 5560              	.LVL672:
 5561              	.LBB106:
 859:Drivers/LTC681x/LTC681x.c ****       {
 5562              		.loc 1 859 0
 5563 0070 0024     		movs	r4, #0
 5564 0072 E9E7     		b	.L432
 5565              	.LVL673:
 5566              	.L445:
 5567              	.LBE106:
 5568              	.LBE107:
 878:Drivers/LTC681x/LTC681x.c **** 
 5569              		.loc 1 878 0
 5570 0074 0246     		mov	r2, r0
 5571 0076 4946     		mov	r1, r9
 5572 0078 3046     		mov	r0, r6
 5573              	.LVL674:
 5574 007a FFF7FEFF 		bl	LTC681x_rdaux_reg
 5575              	.LVL675:
 5576              	.LBB108:
 880:Drivers/LTC681x/LTC681x.c ****     {
 5577              		.loc 1 880 0
 5578 007e 0024     		movs	r4, #0
 5579              	.LBE108:
 850:Drivers/LTC681x/LTC681x.c ****   uint8_t c_ic =0;
 5580              		.loc 1 850 0
 5581 0080 A246     		mov	r10, r4
 5582              	.LBB109:
 880:Drivers/LTC681x/LTC681x.c ****     {
 5583              		.loc 1 880 0
 5584 0082 13E0     		b	.L438
 5585              	.LVL676:
 5586              	.L439:
 888:Drivers/LTC681x/LTC681x.c ****       }
 5587              		.loc 1 888 0
 5588 0084 A9EB0402 		sub	r2, r9, r4
 5589 0088 D2B2     		uxtb	r2, r2
 5590 008a 013A     		subs	r2, r2, #1
 5591 008c D2B2     		uxtb	r2, r2
 5592              	.LVL677:
 5593              	.L440:
ARM GAS  /tmp/ccMCacDa.s 			page 141


 891:Drivers/LTC681x/LTC681x.c ****                               &ic[c_ic].aux.pec_match[0]);
 5594              		.loc 1 891 0 discriminator 2
 5595 008e C2EBC202 		rsb	r2, r2, r2, lsl #3
 5596              	.LVL678:
 5597 0092 5301     		lsls	r3, r2, #5
 5598 0094 2B44     		add	r3, r3, r5
 890:Drivers/LTC681x/LTC681x.c ****                               &ic[c_ic].aux.a_codes[0],
 5599              		.loc 1 890 0 discriminator 2
 5600 0096 03F15A02 		add	r2, r3, #90
 5601 009a 0092     		str	r2, [sp]
 5602 009c 4833     		adds	r3, r3, #72
 5603 009e 3A46     		mov	r2, r7
 5604 00a0 3146     		mov	r1, r6
 5605 00a2 E0B2     		uxtb	r0, r4
 5606 00a4 FFF7FEFF 		bl	parse_cells
 5607              	.LVL679:
 5608 00a8 8246     		mov	r10, r0
 5609              	.LVL680:
 880:Drivers/LTC681x/LTC681x.c ****     {
 5610              		.loc 1 880 0 discriminator 2
 5611 00aa 0134     		adds	r4, r4, #1
 5612              	.LVL681:
 5613              	.L438:
 880:Drivers/LTC681x/LTC681x.c ****     {
 5614              		.loc 1 880 0 is_stmt 0 discriminator 1
 5615 00ac A045     		cmp	r8, r4
 5616 00ae 05DD     		ble	.L437
 882:Drivers/LTC681x/LTC681x.c ****       {
 5617              		.loc 1 882 0 is_stmt 1
 5618 00b0 95F8B930 		ldrb	r3, [r5, #185]	@ zero_extendqisi2
 5619 00b4 002B     		cmp	r3, #0
 5620 00b6 E5D1     		bne	.L439
 884:Drivers/LTC681x/LTC681x.c ****       }
 5621              		.loc 1 884 0
 5622 00b8 E2B2     		uxtb	r2, r4
 5623              	.LVL682:
 5624 00ba E8E7     		b	.L440
 5625              	.LVL683:
 5626              	.L437:
 5627              	.LBE109:
 896:Drivers/LTC681x/LTC681x.c ****   free(data);
 5628              		.loc 1 896 0
 5629 00bc 2A46     		mov	r2, r5
 5630 00be 0221     		movs	r1, #2
 5631 00c0 4846     		mov	r0, r9
 5632 00c2 FFF7FEFF 		bl	LTC681x_check_pec
 5633              	.LVL684:
 897:Drivers/LTC681x/LTC681x.c ****   return (pec_error);
 5634              		.loc 1 897 0
 5635 00c6 3846     		mov	r0, r7
 5636 00c8 FFF7FEFF 		bl	free
 5637              	.LVL685:
 899:Drivers/LTC681x/LTC681x.c **** 
 5638              		.loc 1 899 0
 5639 00cc 5046     		mov	r0, r10
 5640 00ce 02B0     		add	sp, sp, #8
 5641              	.LCFI142:
ARM GAS  /tmp/ccMCacDa.s 			page 142


 5642              		.cfi_def_cfa_offset 32
 5643              		@ sp needed
 5644 00d0 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 5645              		.cfi_endproc
 5646              	.LFE39:
 5648              		.section	.text.LTC681x_rdstat,"ax",%progbits
 5649              		.align	1
 5650              		.global	LTC681x_rdstat
 5651              		.syntax unified
 5652              		.thumb
 5653              		.thumb_func
 5654              		.fpu softvfp
 5656              	LTC681x_rdstat:
 5657              	.LFB40:
 907:Drivers/LTC681x/LTC681x.c ****   const uint8_t BYT_IN_REG = 6;
 5658              		.loc 1 907 0
 5659              		.cfi_startproc
 5660              		@ args = 0, pretend = 0, frame = 8
 5661              		@ frame_needed = 0, uses_anonymous_args = 0
 5662              	.LVL686:
 5663 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5664              	.LCFI143:
 5665              		.cfi_def_cfa_offset 36
 5666              		.cfi_offset 4, -36
 5667              		.cfi_offset 5, -32
 5668              		.cfi_offset 6, -28
 5669              		.cfi_offset 7, -24
 5670              		.cfi_offset 8, -20
 5671              		.cfi_offset 9, -16
 5672              		.cfi_offset 10, -12
 5673              		.cfi_offset 11, -8
 5674              		.cfi_offset 14, -4
 5675 0004 83B0     		sub	sp, sp, #12
 5676              	.LCFI144:
 5677              		.cfi_def_cfa_offset 48
 5678 0006 0446     		mov	r4, r0
 5679 0008 0190     		str	r0, [sp, #4]
 5680 000a 8B46     		mov	fp, r1
 5681 000c 9246     		mov	r10, r2
 5682              	.LVL687:
 918:Drivers/LTC681x/LTC681x.c **** 
 5683              		.loc 1 918 0
 5684 000e 8946     		mov	r9, r1
 5685 0010 01EB4103 		add	r3, r1, r1, lsl #1
 5686 0014 9800     		lsls	r0, r3, #2
 5687              	.LVL688:
 5688 0016 FFF7FEFF 		bl	malloc
 5689              	.LVL689:
 5690 001a 8046     		mov	r8, r0
 5691              	.LVL690:
 920:Drivers/LTC681x/LTC681x.c ****   {
 5692              		.loc 1 920 0
 5693 001c 002C     		cmp	r4, #0
 5694 001e 40F09A80 		bne	.L478
 5695              	.LBB110:
 923:Drivers/LTC681x/LTC681x.c ****     {
 5696              		.loc 1 923 0
ARM GAS  /tmp/ccMCacDa.s 			page 143


 5697 0022 4FF00109 		mov	r9, #1
 5698              	.LBE110:
 913:Drivers/LTC681x/LTC681x.c ****   uint16_t parsed_stat;
 5699              		.loc 1 913 0
 5700 0026 0023     		movs	r3, #0
 5701 0028 0093     		str	r3, [sp]
 5702 002a 88E0     		b	.L448
 5703              	.LVL691:
 5704              	.L471:
 5705              	.LBB114:
 5706              	.LBB111:
 932:Drivers/LTC681x/LTC681x.c ****         }
 5707              		.loc 1 932 0
 5708 002c 2C46     		mov	r4, r5
 5709              	.L451:
 5710              	.LVL692:
 939:Drivers/LTC681x/LTC681x.c ****         {
 5711              		.loc 1 939 0
 5712 002e B9F1010F 		cmp	r9, #1
 5713 0032 45D0     		beq	.L479
 951:Drivers/LTC681x/LTC681x.c ****         {
 5714              		.loc 1 951 0
 5715 0034 B9F1020F 		cmp	r9, #2
 5716 0038 44D0     		beq	.L480
 5717              	.L455:
 963:Drivers/LTC681x/LTC681x.c **** 																			  //after the 6 gpio voltage data bytes
 5718              		.loc 1 963 0
 5719 003a 18F80630 		ldrb	r3, [r8, r6]	@ zero_extendqisi2
 5720 003e 08EB0602 		add	r2, r8, r6
 5721 0042 5778     		ldrb	r7, [r2, #1]	@ zero_extendqisi2
 5722 0044 07EB0327 		add	r7, r7, r3, lsl #8
 5723 0048 BFB2     		uxth	r7, r7
 5724              	.LVL693:
 965:Drivers/LTC681x/LTC681x.c **** 
 5725              		.loc 1 965 0
 5726 004a 08EBC501 		add	r1, r8, r5, lsl #3
 5727 004e 0620     		movs	r0, #6
 5728 0050 FFF7FEFF 		bl	pec15_calc
 5729              	.LVL694:
 967:Drivers/LTC681x/LTC681x.c ****         {
 5730              		.loc 1 967 0
 5731 0054 8742     		cmp	r7, r0
 5732 0056 63D0     		beq	.L456
 5733              	.LVL695:
 970:Drivers/LTC681x/LTC681x.c ****           
 5734              		.loc 1 970 0
 5735 0058 C4EBC404 		rsb	r4, r4, r4, lsl #3
 5736              	.LVL696:
 5737 005c 6301     		lsls	r3, r4, #5
 5738 005e 5344     		add	r3, r3, r10
 5739 0060 09F1FF32 		add	r2, r9, #-1
 5740 0064 1344     		add	r3, r3, r2
 5741 0066 0122     		movs	r2, #1
 5742 0068 83F86B20 		strb	r2, [r3, #107]
 969:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.pec_match[stat_reg-1]=1;  //are detected in the received serial data
 5743              		.loc 1 969 0
 5744 006c 4FF0FF33 		mov	r3, #-1
ARM GAS  /tmp/ccMCacDa.s 			page 144


 5745 0070 0093     		str	r3, [sp]
 5746              	.LVL697:
 5747              	.L457:
 978:Drivers/LTC681x/LTC681x.c **** 															//must be incremented by 2 bytes to point to the next ICs gpio voltage data
 5748              		.loc 1 978 0 discriminator 2
 5749 0072 0236     		adds	r6, r6, #2
 5750              	.LVL698:
 5751 0074 F6B2     		uxtb	r6, r6
 5752              	.LVL699:
 928:Drivers/LTC681x/LTC681x.c ****       {
 5753              		.loc 1 928 0 discriminator 2
 5754 0076 0135     		adds	r5, r5, #1
 5755              	.LVL700:
 5756 0078 EDB2     		uxtb	r5, r5
 5757              	.LVL701:
 5758              	.L450:
 928:Drivers/LTC681x/LTC681x.c ****       {
 5759              		.loc 1 928 0 is_stmt 0 discriminator 1
 5760 007a 5D45     		cmp	r5, fp
 5761 007c 5BD2     		bcs	.L481
 930:Drivers/LTC681x/LTC681x.c ****         {
 5762              		.loc 1 930 0 is_stmt 1
 5763 007e 9AF8B930 		ldrb	r3, [r10, #185]	@ zero_extendqisi2
 5764 0082 002B     		cmp	r3, #0
 5765 0084 D2D0     		beq	.L471
 936:Drivers/LTC681x/LTC681x.c ****         }
 5766              		.loc 1 936 0
 5767 0086 ABEB0504 		sub	r4, fp, r5
 5768 008a E4B2     		uxtb	r4, r4
 5769 008c 013C     		subs	r4, r4, #1
 5770 008e E4B2     		uxtb	r4, r4
 5771              	.LVL702:
 5772 0090 CDE7     		b	.L451
 5773              	.LVL703:
 5774              	.L454:
 5775              	.LBB112:
 945:Drivers/LTC681x/LTC681x.c ****             ic[c_ic].stat.stat_codes[current_gpio] = parsed_stat;
 5776              		.loc 1 945 0 discriminator 3
 5777 0092 18F80610 		ldrb	r1, [r8, r6]	@ zero_extendqisi2
 5778 0096 08EB0603 		add	r3, r8, r6
 5779 009a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5780 009c 01EB0321 		add	r1, r1, r3, lsl #8
 5781              	.LVL704:
 946:Drivers/LTC681x/LTC681x.c ****             data_counter=data_counter+2;                                               //Because gp
 5782              		.loc 1 946 0 discriminator 3
 5783 00a0 C4EBC400 		rsb	r0, r4, r4, lsl #3
 5784 00a4 4301     		lsls	r3, r0, #5
 5785 00a6 5344     		add	r3, r3, r10
 5786 00a8 02F12C00 		add	r0, r2, #44
 5787 00ac 03EB4003 		add	r3, r3, r0, lsl #1
 5788 00b0 D980     		strh	r1, [r3, #6]	@ movhi
 947:Drivers/LTC681x/LTC681x.c **** 
 5789              		.loc 1 947 0 discriminator 3
 5790 00b2 0236     		adds	r6, r6, #2
 5791              	.LVL705:
 5792 00b4 F6B2     		uxtb	r6, r6
 5793              	.LVL706:
ARM GAS  /tmp/ccMCacDa.s 			page 145


 941:Drivers/LTC681x/LTC681x.c ****           {
 5794              		.loc 1 941 0 discriminator 3
 5795 00b6 0132     		adds	r2, r2, #1
 5796              	.LVL707:
 5797 00b8 D2B2     		uxtb	r2, r2
 5798              	.LVL708:
 5799              	.L452:
 941:Drivers/LTC681x/LTC681x.c ****           {
 5800              		.loc 1 941 0 is_stmt 0 discriminator 1
 5801 00ba 022A     		cmp	r2, #2
 5802 00bc E9D9     		bls	.L454
 5803 00be BCE7     		b	.L455
 5804              	.LVL709:
 5805              	.L479:
 941:Drivers/LTC681x/LTC681x.c ****           {
 5806              		.loc 1 941 0
 5807 00c0 019A     		ldr	r2, [sp, #4]
 5808 00c2 FAE7     		b	.L452
 5809              	.L480:
 5810              	.LBE112:
 953:Drivers/LTC681x/LTC681x.c ****           data_counter = data_counter +2;
 5811              		.loc 1 953 0 is_stmt 1
 5812 00c4 18F80620 		ldrb	r2, [r8, r6]	@ zero_extendqisi2
 5813 00c8 08EB0603 		add	r3, r8, r6
 5814 00cc 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5815 00ce 02EB0322 		add	r2, r2, r3, lsl #8
 5816              	.LVL710:
 954:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.stat_codes[3] = parsed_stat;
 5817              		.loc 1 954 0
 5818 00d2 B11C     		adds	r1, r6, #2
 5819 00d4 C9B2     		uxtb	r1, r1
 5820              	.LVL711:
 955:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.flags[0] = data[data_counter++];
 5821              		.loc 1 955 0
 5822 00d6 C4EBC400 		rsb	r0, r4, r4, lsl #3
 5823 00da 4301     		lsls	r3, r0, #5
 5824 00dc 5344     		add	r3, r3, r10
 5825 00de A3F86420 		strh	r2, [r3, #100]	@ movhi
 956:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.flags[1] = data[data_counter++];
 5826              		.loc 1 956 0
 5827 00e2 F21C     		adds	r2, r6, #3
 5828              	.LVL712:
 5829 00e4 D2B2     		uxtb	r2, r2
 5830              	.LVL713:
 5831 00e6 18F80110 		ldrb	r1, [r8, r1]	@ zero_extendqisi2
 5832 00ea 83F86610 		strb	r1, [r3, #102]
 957:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.flags[2] = data[data_counter++];
 5833              		.loc 1 957 0
 5834 00ee 311D     		adds	r1, r6, #4
 5835 00f0 C9B2     		uxtb	r1, r1
 5836              	.LVL714:
 5837 00f2 18F80220 		ldrb	r2, [r8, r2]	@ zero_extendqisi2
 5838 00f6 83F86720 		strb	r2, [r3, #103]
 958:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.mux_fail[0] = (data[data_counter] & 0x02)>>1;
 5839              		.loc 1 958 0
 5840 00fa 721D     		adds	r2, r6, #5
 5841 00fc D2B2     		uxtb	r2, r2
ARM GAS  /tmp/ccMCacDa.s 			page 146


 5842              	.LVL715:
 5843 00fe 18F80110 		ldrb	r1, [r8, r1]	@ zero_extendqisi2
 5844 0102 83F86810 		strb	r1, [r3, #104]
 959:Drivers/LTC681x/LTC681x.c ****           ic[c_ic].stat.thsd[0] = data[data_counter++] & 0x01;
 5845              		.loc 1 959 0
 5846 0106 18F80220 		ldrb	r2, [r8, r2]	@ zero_extendqisi2
 5847              	.LVL716:
 5848 010a C2F34001 		ubfx	r1, r2, #1, #1
 5849 010e 83F86910 		strb	r1, [r3, #105]
 960:Drivers/LTC681x/LTC681x.c ****         }
 5850              		.loc 1 960 0
 5851 0112 0636     		adds	r6, r6, #6
 5852              	.LVL717:
 5853 0114 F6B2     		uxtb	r6, r6
 5854              	.LVL718:
 5855 0116 02F00102 		and	r2, r2, #1
 5856 011a 83F86A20 		strb	r2, [r3, #106]
 5857 011e 8CE7     		b	.L455
 5858              	.LVL719:
 5859              	.L456:
 975:Drivers/LTC681x/LTC681x.c ****         }
 5860              		.loc 1 975 0
 5861 0120 C4EBC404 		rsb	r4, r4, r4, lsl #3
 5862              	.LVL720:
 5863 0124 6301     		lsls	r3, r4, #5
 5864 0126 5344     		add	r3, r3, r10
 5865 0128 09F1FF32 		add	r2, r9, #-1
 5866 012c 1344     		add	r3, r3, r2
 5867 012e 0022     		movs	r2, #0
 5868 0130 83F86B20 		strb	r2, [r3, #107]
 5869 0134 9DE7     		b	.L457
 5870              	.LVL721:
 5871              	.L481:
 5872              	.LBE111:
 923:Drivers/LTC681x/LTC681x.c ****     {
 5873              		.loc 1 923 0 discriminator 2
 5874 0136 09F10109 		add	r9, r9, #1
 5875              	.LVL722:
 5876 013a 5FFA89F9 		uxtb	r9, r9
 5877              	.LVL723:
 5878              	.L448:
 923:Drivers/LTC681x/LTC681x.c ****     {
 5879              		.loc 1 923 0 is_stmt 0 discriminator 1
 5880 013e B9F1020F 		cmp	r9, #2
 5881 0142 00F28B80 		bhi	.L460
 5882              	.LVL724:
 926:Drivers/LTC681x/LTC681x.c **** 
 5883              		.loc 1 926 0 is_stmt 1
 5884 0146 4246     		mov	r2, r8
 5885 0148 5946     		mov	r1, fp
 5886 014a 4846     		mov	r0, r9
 5887 014c FFF7FEFF 		bl	LTC681x_rdstat_reg
 5888              	.LVL725:
 5889              	.LBB113:
 928:Drivers/LTC681x/LTC681x.c ****       {
 5890              		.loc 1 928 0
 5891 0150 019E     		ldr	r6, [sp, #4]
ARM GAS  /tmp/ccMCacDa.s 			page 147


 5892 0152 3546     		mov	r5, r6
 5893 0154 91E7     		b	.L450
 5894              	.LVL726:
 5895              	.L478:
 5896              	.LBE113:
 5897              	.LBE114:
 989:Drivers/LTC681x/LTC681x.c ****     for (int current_ic = 0 ; current_ic < total_ic; current_ic++)            // executes for every
 5898              		.loc 1 989 0
 5899 0156 0246     		mov	r2, r0
 5900 0158 5946     		mov	r1, fp
 5901 015a 0198     		ldr	r0, [sp, #4]
 5902              	.LVL727:
 5903 015c FFF7FEFF 		bl	LTC681x_rdstat_reg
 5904              	.LVL728:
 5905              	.LBB115:
 990:Drivers/LTC681x/LTC681x.c ****     {																		  // current_ic is used as an IC counter
 5906              		.loc 1 990 0
 5907 0160 0027     		movs	r7, #0
 5908              	.LBE115:
 913:Drivers/LTC681x/LTC681x.c ****   uint16_t parsed_stat;
 5909              		.loc 1 913 0
 5910 0162 0097     		str	r7, [sp]
 912:Drivers/LTC681x/LTC681x.c ****   int8_t pec_error = 0;
 5911              		.loc 1 912 0
 5912 0164 3C46     		mov	r4, r7
 5913              	.LBB117:
 990:Drivers/LTC681x/LTC681x.c ****     {																		  // current_ic is used as an IC counter
 5914              		.loc 1 990 0
 5915 0166 29E0     		b	.L461
 5916              	.LVL729:
 5917              	.L462:
 999:Drivers/LTC681x/LTC681x.c ****       }
 5918              		.loc 1 999 0
 5919 0168 ABEB0705 		sub	r5, fp, r7
 5920 016c EDB2     		uxtb	r5, r5
 5921 016e 013D     		subs	r5, r5, #1
 5922 0170 EDB2     		uxtb	r5, r5
 5923              	.LVL730:
 5924              	.L463:
1001:Drivers/LTC681x/LTC681x.c ****       {
 5925              		.loc 1 1001 0
 5926 0172 019B     		ldr	r3, [sp, #4]
 5927 0174 012B     		cmp	r3, #1
 5928 0176 40D0     		beq	.L482
1015:Drivers/LTC681x/LTC681x.c ****       {
 5929              		.loc 1 1015 0
 5930 0178 019B     		ldr	r3, [sp, #4]
 5931 017a 022B     		cmp	r3, #2
 5932 017c 3FD0     		beq	.L483
 5933              	.L467:
1027:Drivers/LTC681x/LTC681x.c **** 																			//after the 6 gpio voltage data bytes
 5934              		.loc 1 1027 0
 5935 017e 18F80430 		ldrb	r3, [r8, r4]	@ zero_extendqisi2
 5936 0182 08EB0402 		add	r2, r8, r4
 5937 0186 5678     		ldrb	r6, [r2, #1]	@ zero_extendqisi2
 5938 0188 06EB0326 		add	r6, r6, r3, lsl #8
 5939 018c B6B2     		uxth	r6, r6
ARM GAS  /tmp/ccMCacDa.s 			page 148


 5940              	.LVL731:
1029:Drivers/LTC681x/LTC681x.c ****       if (received_pec != data_pec)
 5941              		.loc 1 1029 0
 5942 018e 08EBC701 		add	r1, r8, r7, lsl #3
 5943 0192 0620     		movs	r0, #6
 5944 0194 FFF7FEFF 		bl	pec15_calc
 5945              	.LVL732:
1030:Drivers/LTC681x/LTC681x.c ****       {
 5946              		.loc 1 1030 0
 5947 0198 8642     		cmp	r6, r0
 5948 019a 0CD0     		beq	.L468
 5949              	.LVL733:
1033:Drivers/LTC681x/LTC681x.c **** 
 5950              		.loc 1 1033 0
 5951 019c C5EBC505 		rsb	r5, r5, r5, lsl #3
 5952              	.LVL734:
 5953 01a0 6B01     		lsls	r3, r5, #5
 5954 01a2 5344     		add	r3, r3, r10
 5955 01a4 019A     		ldr	r2, [sp, #4]
 5956 01a6 013A     		subs	r2, r2, #1
 5957 01a8 1344     		add	r3, r3, r2
 5958 01aa 0122     		movs	r2, #1
 5959 01ac 83F86B20 		strb	r2, [r3, #107]
1032:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.pec_match[reg-1]=1;
 5960              		.loc 1 1032 0
 5961 01b0 4FF0FF33 		mov	r3, #-1
 5962 01b4 0093     		str	r3, [sp]
 5963              	.LVL735:
 5964              	.L468:
1037:Drivers/LTC681x/LTC681x.c ****     }
 5965              		.loc 1 1037 0 discriminator 2
 5966 01b6 0234     		adds	r4, r4, #2
 5967              	.LVL736:
 5968 01b8 E4B2     		uxtb	r4, r4
 5969              	.LVL737:
 990:Drivers/LTC681x/LTC681x.c ****     {																		  // current_ic is used as an IC counter
 5970              		.loc 1 990 0 discriminator 2
 5971 01ba 0137     		adds	r7, r7, #1
 5972              	.LVL738:
 5973              	.L461:
 990:Drivers/LTC681x/LTC681x.c ****     {																		  // current_ic is used as an IC counter
 5974              		.loc 1 990 0 is_stmt 0 discriminator 1
 5975 01bc B945     		cmp	r9, r7
 5976 01be 4DDD     		ble	.L460
 993:Drivers/LTC681x/LTC681x.c ****       {
 5977              		.loc 1 993 0 is_stmt 1
 5978 01c0 9AF8B930 		ldrb	r3, [r10, #185]	@ zero_extendqisi2
 5979 01c4 002B     		cmp	r3, #0
 5980 01c6 CFD1     		bne	.L462
 995:Drivers/LTC681x/LTC681x.c ****       }
 5981              		.loc 1 995 0
 5982 01c8 FDB2     		uxtb	r5, r7
 5983              	.LVL739:
 5984 01ca D2E7     		b	.L463
 5985              	.LVL740:
 5986              	.L466:
 5987              	.LBB116:
ARM GAS  /tmp/ccMCacDa.s 			page 149


1006:Drivers/LTC681x/LTC681x.c **** 																					 // create the parsed gpio voltage code
 5988              		.loc 1 1006 0 discriminator 3
 5989 01cc 18F80410 		ldrb	r1, [r8, r4]	@ zero_extendqisi2
 5990 01d0 08EB0403 		add	r3, r8, r4
 5991 01d4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5992 01d6 01EB0321 		add	r1, r1, r3, lsl #8
 5993              	.LVL741:
1009:Drivers/LTC681x/LTC681x.c ****           data_counter=data_counter+2;                        //Because gpio voltage codes are two 
 5994              		.loc 1 1009 0 discriminator 3
 5995 01da C5EBC500 		rsb	r0, r5, r5, lsl #3
 5996 01de 4301     		lsls	r3, r0, #5
 5997 01e0 5344     		add	r3, r3, r10
 5998 01e2 02F12C00 		add	r0, r2, #44
 5999 01e6 03EB4003 		add	r3, r3, r0, lsl #1
 6000 01ea D980     		strh	r1, [r3, #6]	@ movhi
1010:Drivers/LTC681x/LTC681x.c **** 															 //must increment by two for each parsed gpio voltage code
 6001              		.loc 1 1010 0 discriminator 3
 6002 01ec 0234     		adds	r4, r4, #2
 6003              	.LVL742:
 6004 01ee E4B2     		uxtb	r4, r4
 6005              	.LVL743:
1003:Drivers/LTC681x/LTC681x.c ****         {																		  // loops once for each of the 3 gpio voltage codes in the register
 6006              		.loc 1 1003 0 discriminator 3
 6007 01f0 0132     		adds	r2, r2, #1
 6008              	.LVL744:
 6009 01f2 D2B2     		uxtb	r2, r2
 6010              	.LVL745:
 6011              	.L464:
1003:Drivers/LTC681x/LTC681x.c ****         {																		  // loops once for each of the 3 gpio voltage codes in the register
 6012              		.loc 1 1003 0 is_stmt 0 discriminator 1
 6013 01f4 022A     		cmp	r2, #2
 6014 01f6 E9D9     		bls	.L466
 6015 01f8 C1E7     		b	.L467
 6016              	.LVL746:
 6017              	.L482:
1003:Drivers/LTC681x/LTC681x.c ****         {																		  // loops once for each of the 3 gpio voltage codes in the register
 6018              		.loc 1 1003 0
 6019 01fa 0022     		movs	r2, #0
 6020 01fc FAE7     		b	.L464
 6021              	.L483:
 6022              	.LBE116:
1017:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.stat_codes[3] = parsed_stat;
 6023              		.loc 1 1017 0 is_stmt 1
 6024 01fe 631C     		adds	r3, r4, #1
 6025 0200 DBB2     		uxtb	r3, r3
 6026              	.LVL747:
 6027 0202 18F80420 		ldrb	r2, [r8, r4]	@ zero_extendqisi2
 6028 0206 A11C     		adds	r1, r4, #2
 6029 0208 C9B2     		uxtb	r1, r1
 6030              	.LVL748:
 6031 020a 18F80330 		ldrb	r3, [r8, r3]	@ zero_extendqisi2
 6032 020e 02EB0322 		add	r2, r2, r3, lsl #8
 6033              	.LVL749:
1018:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.flags[0] = data[data_counter++];
 6034              		.loc 1 1018 0
 6035 0212 C5EBC500 		rsb	r0, r5, r5, lsl #3
 6036 0216 4301     		lsls	r3, r0, #5
ARM GAS  /tmp/ccMCacDa.s 			page 150


 6037 0218 5344     		add	r3, r3, r10
 6038 021a A3F86420 		strh	r2, [r3, #100]	@ movhi
1019:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.flags[1] = data[data_counter++];
 6039              		.loc 1 1019 0
 6040 021e E21C     		adds	r2, r4, #3
 6041              	.LVL750:
 6042 0220 D2B2     		uxtb	r2, r2
 6043              	.LVL751:
 6044 0222 18F80110 		ldrb	r1, [r8, r1]	@ zero_extendqisi2
 6045 0226 83F86610 		strb	r1, [r3, #102]
1020:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.flags[2] = data[data_counter++];
 6046              		.loc 1 1020 0
 6047 022a 211D     		adds	r1, r4, #4
 6048 022c C9B2     		uxtb	r1, r1
 6049              	.LVL752:
 6050 022e 18F80220 		ldrb	r2, [r8, r2]	@ zero_extendqisi2
 6051 0232 83F86720 		strb	r2, [r3, #103]
1021:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.mux_fail[0] = (data[data_counter] & 0x02)>>1;
 6052              		.loc 1 1021 0
 6053 0236 621D     		adds	r2, r4, #5
 6054 0238 D2B2     		uxtb	r2, r2
 6055              	.LVL753:
 6056 023a 18F80110 		ldrb	r1, [r8, r1]	@ zero_extendqisi2
 6057 023e 83F86810 		strb	r1, [r3, #104]
1022:Drivers/LTC681x/LTC681x.c ****         ic[c_ic].stat.thsd[0] = data[data_counter++] & 0x01;
 6058              		.loc 1 1022 0
 6059 0242 18F80220 		ldrb	r2, [r8, r2]	@ zero_extendqisi2
 6060              	.LVL754:
 6061 0246 C2F34001 		ubfx	r1, r2, #1, #1
 6062 024a 83F86910 		strb	r1, [r3, #105]
1023:Drivers/LTC681x/LTC681x.c ****       }
 6063              		.loc 1 1023 0
 6064 024e 0634     		adds	r4, r4, #6
 6065              	.LVL755:
 6066 0250 E4B2     		uxtb	r4, r4
 6067              	.LVL756:
 6068 0252 02F00102 		and	r2, r2, #1
 6069 0256 83F86A20 		strb	r2, [r3, #106]
 6070 025a 90E7     		b	.L467
 6071              	.LVL757:
 6072              	.L460:
 6073              	.LBE117:
1040:Drivers/LTC681x/LTC681x.c ****   free(data);
 6074              		.loc 1 1040 0
 6075 025c 5246     		mov	r2, r10
 6076 025e 0321     		movs	r1, #3
 6077 0260 5846     		mov	r0, fp
 6078 0262 FFF7FEFF 		bl	LTC681x_check_pec
 6079              	.LVL758:
1041:Drivers/LTC681x/LTC681x.c ****   return (pec_error);
 6080              		.loc 1 1041 0
 6081 0266 4046     		mov	r0, r8
 6082 0268 FFF7FEFF 		bl	free
 6083              	.LVL759:
1043:Drivers/LTC681x/LTC681x.c **** 
 6084              		.loc 1 1043 0
 6085 026c 0098     		ldr	r0, [sp]
ARM GAS  /tmp/ccMCacDa.s 			page 151


 6086 026e 03B0     		add	sp, sp, #12
 6087              	.LCFI145:
 6088              		.cfi_def_cfa_offset 36
 6089              	.LVL760:
 6090              		@ sp needed
 6091 0270 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6092              		.cfi_endproc
 6093              	.LFE40:
 6095              		.section	.text.LTC681x_run_cell_adc_st,"ax",%progbits
 6096              		.align	1
 6097              		.global	LTC681x_run_cell_adc_st
 6098              		.syntax unified
 6099              		.thumb
 6100              		.thumb_func
 6101              		.fpu softvfp
 6103              	LTC681x_run_cell_adc_st:
 6104              	.LFB55:
1543:Drivers/LTC681x/LTC681x.c ****   int16_t error = 0;
 6105              		.loc 1 1543 0
 6106              		.cfi_startproc
 6107              		@ args = 4, pretend = 0, frame = 0
 6108              		@ frame_needed = 0, uses_anonymous_args = 0
 6109              	.LVL761:
 6110 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6111              	.LCFI146:
 6112              		.cfi_def_cfa_offset 40
 6113              		.cfi_offset 3, -40
 6114              		.cfi_offset 4, -36
 6115              		.cfi_offset 5, -32
 6116              		.cfi_offset 6, -28
 6117              		.cfi_offset 7, -24
 6118              		.cfi_offset 8, -20
 6119              		.cfi_offset 9, -16
 6120              		.cfi_offset 10, -12
 6121              		.cfi_offset 11, -8
 6122              		.cfi_offset 14, -4
 6123 0004 8046     		mov	r8, r0
 6124 0006 0E46     		mov	r6, r1
 6125 0008 1446     		mov	r4, r2
 6126 000a 9946     		mov	r9, r3
 6127 000c 9DF828A0 		ldrb	r10, [sp, #40]	@ zero_extendqisi2
 6128              	.LVL762:
 6129              	.LBB118:
1547:Drivers/LTC681x/LTC681x.c ****   {
 6130              		.loc 1 1547 0
 6131 0010 0127     		movs	r7, #1
 6132              	.LBE118:
1544:Drivers/LTC681x/LTC681x.c ****   uint16_t expected_result = 0;
 6133              		.loc 1 1544 0
 6134 0012 0020     		movs	r0, #0
 6135              	.LVL763:
 6136              	.LBB129:
1547:Drivers/LTC681x/LTC681x.c ****   {
 6137              		.loc 1 1547 0
 6138 0014 8FE0     		b	.L485
 6139              	.LVL764:
 6140              	.L513:
ARM GAS  /tmp/ccMCacDa.s 			page 152


1555:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clrcell();
 6141              		.loc 1 1555 0
 6142 0016 3046     		mov	r0, r6
 6143 0018 FFF7FEFF 		bl	wakeup_idle
 6144              	.LVL765:
1556:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_cvst(md,self_test);
 6145              		.loc 1 1556 0
 6146 001c FFF7FEFF 		bl	LTC681x_clrcell
 6147              	.LVL766:
1557:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_pollAdc();
 6148              		.loc 1 1557 0
 6149 0020 5946     		mov	r1, fp
 6150 0022 4846     		mov	r0, r9
 6151 0024 FFF7FEFF 		bl	LTC681x_cvst
 6152              	.LVL767:
1558:Drivers/LTC681x/LTC681x.c **** 		     
 6153              		.loc 1 1558 0
 6154 0028 FFF7FEFF 		bl	LTC681x_pollAdc
 6155              	.LVL768:
1560:Drivers/LTC681x/LTC681x.c **** 		  error = LTC681x_rdcv(0, total_ic,ic);      
 6156              		.loc 1 1560 0
 6157 002c 3046     		mov	r0, r6
 6158 002e FFF7FEFF 		bl	wakeup_idle
 6159              	.LVL769:
1561:Drivers/LTC681x/LTC681x.c **** 		  for (int cic = 0; cic < total_ic; cic++)
 6160              		.loc 1 1561 0
 6161 0032 2246     		mov	r2, r4
 6162 0034 3146     		mov	r1, r6
 6163 0036 0020     		movs	r0, #0
 6164 0038 FFF7FEFF 		bl	LTC681x_rdcv
 6165              	.LVL770:
 6166 003c 00B2     		sxth	r0, r0
 6167              	.LVL771:
 6168              	.LBB119:
1562:Drivers/LTC681x/LTC681x.c **** 			{
 6169              		.loc 1 1562 0
 6170 003e 4FF0000C 		mov	ip, #0
 6171 0042 14E0     		b	.L490
 6172              	.LVL772:
 6173              	.L491:
 6174              	.LBB120:
1564:Drivers/LTC681x/LTC681x.c **** 			  {
 6175              		.loc 1 1564 0 discriminator 2
 6176 0044 0132     		adds	r2, r2, #1
 6177              	.LVL773:
 6178              	.L493:
1564:Drivers/LTC681x/LTC681x.c **** 			  {
 6179              		.loc 1 1564 0 is_stmt 0 discriminator 1
 6180 0046 CCEBCC01 		rsb	r1, ip, ip, lsl #3
 6181 004a 4B01     		lsls	r3, r1, #5
 6182 004c 2344     		add	r3, r3, r4
 6183 004e 93F8D610 		ldrb	r1, [r3, #214]	@ zero_extendqisi2
 6184 0052 9142     		cmp	r1, r2
 6185 0054 09DD     		ble	.L509
1567:Drivers/LTC681x/LTC681x.c **** 				{
 6186              		.loc 1 1567 0 is_stmt 1
 6187 0056 02F10C01 		add	r1, r2, #12
ARM GAS  /tmp/ccMCacDa.s 			page 153


 6188 005a 03EB4103 		add	r3, r3, r1, lsl #1
 6189 005e DB88     		ldrh	r3, [r3, #6]
 6190 0060 AB42     		cmp	r3, r5
 6191 0062 EFD0     		beq	.L491
1569:Drivers/LTC681x/LTC681x.c **** 				}
 6192              		.loc 1 1569 0
 6193 0064 0130     		adds	r0, r0, #1
 6194              	.LVL774:
 6195 0066 00B2     		sxth	r0, r0
 6196              	.LVL775:
 6197 0068 ECE7     		b	.L491
 6198              	.L509:
 6199              	.LBE120:
1562:Drivers/LTC681x/LTC681x.c **** 			{
 6200              		.loc 1 1562 0 discriminator 2
 6201 006a 0CF1010C 		add	ip, ip, #1
 6202              	.LVL776:
 6203              	.L490:
1562:Drivers/LTC681x/LTC681x.c **** 			{
 6204              		.loc 1 1562 0 is_stmt 0 discriminator 1
 6205 006e 6645     		cmp	r6, ip
 6206 0070 60DD     		ble	.L486
 6207              	.LBB121:
1564:Drivers/LTC681x/LTC681x.c **** 			  {
 6208              		.loc 1 1564 0 is_stmt 1
 6209 0072 0022     		movs	r2, #0
 6210 0074 E7E7     		b	.L493
 6211              	.LVL777:
 6212              	.L487:
 6213              	.LBE121:
 6214              	.LBE119:
1576:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clraux();
 6215              		.loc 1 1576 0
 6216 0076 3046     		mov	r0, r6
 6217 0078 FFF7FEFF 		bl	wakeup_idle
 6218              	.LVL778:
1577:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_axst(md,self_test);
 6219              		.loc 1 1577 0
 6220 007c FFF7FEFF 		bl	LTC681x_clraux
 6221              	.LVL779:
1578:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_pollAdc();
 6222              		.loc 1 1578 0
 6223 0080 5946     		mov	r1, fp
 6224 0082 4846     		mov	r0, r9
 6225 0084 FFF7FEFF 		bl	LTC681x_axst
 6226              	.LVL780:
1579:Drivers/LTC681x/LTC681x.c **** 		  
 6227              		.loc 1 1579 0
 6228 0088 FFF7FEFF 		bl	LTC681x_pollAdc
 6229              	.LVL781:
1581:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_rdaux(0, total_ic,ic);     
 6230              		.loc 1 1581 0
 6231 008c 3046     		mov	r0, r6
 6232 008e FFF7FEFF 		bl	wakeup_idle
 6233              	.LVL782:
1582:Drivers/LTC681x/LTC681x.c **** 		  for (int cic = 0; cic < total_ic; cic++)
 6234              		.loc 1 1582 0
ARM GAS  /tmp/ccMCacDa.s 			page 154


 6235 0092 2246     		mov	r2, r4
 6236 0094 3146     		mov	r1, r6
 6237 0096 0020     		movs	r0, #0
 6238 0098 FFF7FEFF 		bl	LTC681x_rdaux
 6239              	.LVL783:
 6240              	.LBB122:
1583:Drivers/LTC681x/LTC681x.c **** 			{
 6241              		.loc 1 1583 0
 6242 009c 4FF0000C 		mov	ip, #0
 6243              	.LBE122:
1575:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
 6244              		.loc 1 1575 0
 6245 00a0 6046     		mov	r0, ip
 6246              	.LBB125:
1583:Drivers/LTC681x/LTC681x.c **** 			{
 6247              		.loc 1 1583 0
 6248 00a2 13E0     		b	.L494
 6249              	.LVL784:
 6250              	.L495:
 6251              	.LBB123:
1585:Drivers/LTC681x/LTC681x.c **** 			  { 
 6252              		.loc 1 1585 0 discriminator 2
 6253 00a4 0132     		adds	r2, r2, #1
 6254              	.LVL785:
 6255              	.L497:
1585:Drivers/LTC681x/LTC681x.c **** 			  { 
 6256              		.loc 1 1585 0 is_stmt 0 discriminator 1
 6257 00a6 CCEBCC01 		rsb	r1, ip, ip, lsl #3
 6258 00aa 4B01     		lsls	r3, r1, #5
 6259 00ac 2344     		add	r3, r3, r4
 6260 00ae 93F8D810 		ldrb	r1, [r3, #216]	@ zero_extendqisi2
 6261 00b2 9142     		cmp	r1, r2
 6262 00b4 08DD     		ble	.L510
1588:Drivers/LTC681x/LTC681x.c **** 				{
 6263              		.loc 1 1588 0 is_stmt 1
 6264 00b6 02F12401 		add	r1, r2, #36
 6265 00ba 33F81130 		ldrh	r3, [r3, r1, lsl #1]
 6266 00be AB42     		cmp	r3, r5
 6267 00c0 F0D0     		beq	.L495
1590:Drivers/LTC681x/LTC681x.c **** 				}
 6268              		.loc 1 1590 0
 6269 00c2 0130     		adds	r0, r0, #1
 6270              	.LVL786:
 6271 00c4 00B2     		sxth	r0, r0
 6272              	.LVL787:
 6273 00c6 EDE7     		b	.L495
 6274              	.L510:
 6275              	.LBE123:
1583:Drivers/LTC681x/LTC681x.c **** 			{
 6276              		.loc 1 1583 0 discriminator 2
 6277 00c8 0CF1010C 		add	ip, ip, #1
 6278              	.LVL788:
 6279              	.L494:
1583:Drivers/LTC681x/LTC681x.c **** 			{
 6280              		.loc 1 1583 0 is_stmt 0 discriminator 1
 6281 00cc 6645     		cmp	r6, ip
 6282 00ce 31DD     		ble	.L486
ARM GAS  /tmp/ccMCacDa.s 			page 155


 6283              	.LBB124:
1585:Drivers/LTC681x/LTC681x.c **** 			  { 
 6284              		.loc 1 1585 0 is_stmt 1
 6285 00d0 0022     		movs	r2, #0
 6286 00d2 E8E7     		b	.L497
 6287              	.LVL789:
 6288              	.L488:
 6289              	.LBE124:
 6290              	.LBE125:
1596:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clrstat();
 6291              		.loc 1 1596 0
 6292 00d4 3046     		mov	r0, r6
 6293 00d6 FFF7FEFF 		bl	wakeup_idle
 6294              	.LVL790:
1597:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_statst(md,self_test);
 6295              		.loc 1 1597 0
 6296 00da FFF7FEFF 		bl	LTC681x_clrstat
 6297              	.LVL791:
1598:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_pollAdc();
 6298              		.loc 1 1598 0
 6299 00de 5946     		mov	r1, fp
 6300 00e0 4846     		mov	r0, r9
 6301 00e2 FFF7FEFF 		bl	LTC681x_statst
 6302              	.LVL792:
1599:Drivers/LTC681x/LTC681x.c **** 		  
 6303              		.loc 1 1599 0
 6304 00e6 FFF7FEFF 		bl	LTC681x_pollAdc
 6305              	.LVL793:
1601:Drivers/LTC681x/LTC681x.c **** 		  error = LTC681x_rdstat(0,total_ic,ic);
 6306              		.loc 1 1601 0
 6307 00ea 3046     		mov	r0, r6
 6308 00ec FFF7FEFF 		bl	wakeup_idle
 6309              	.LVL794:
1602:Drivers/LTC681x/LTC681x.c **** 		  for (int cic = 0; cic < total_ic; cic++)
 6310              		.loc 1 1602 0
 6311 00f0 2246     		mov	r2, r4
 6312 00f2 3146     		mov	r1, r6
 6313 00f4 0020     		movs	r0, #0
 6314 00f6 FFF7FEFF 		bl	LTC681x_rdstat
 6315              	.LVL795:
 6316 00fa 00B2     		sxth	r0, r0
 6317              	.LVL796:
 6318              	.LBB126:
1603:Drivers/LTC681x/LTC681x.c **** 			{
 6319              		.loc 1 1603 0
 6320 00fc 4FF0000C 		mov	ip, #0
 6321 0100 14E0     		b	.L498
 6322              	.LVL797:
 6323              	.L499:
 6324              	.LBB127:
1605:Drivers/LTC681x/LTC681x.c **** 			  {
 6325              		.loc 1 1605 0 discriminator 2
 6326 0102 0132     		adds	r2, r2, #1
 6327              	.LVL798:
 6328              	.L501:
1605:Drivers/LTC681x/LTC681x.c **** 			  {
 6329              		.loc 1 1605 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccMCacDa.s 			page 156


 6330 0104 CCEBCC01 		rsb	r1, ip, ip, lsl #3
 6331 0108 4B01     		lsls	r3, r1, #5
 6332 010a 2344     		add	r3, r3, r4
 6333 010c 93F8D710 		ldrb	r1, [r3, #215]	@ zero_extendqisi2
 6334 0110 9142     		cmp	r1, r2
 6335 0112 09DD     		ble	.L511
1607:Drivers/LTC681x/LTC681x.c **** 				{
 6336              		.loc 1 1607 0 is_stmt 1
 6337 0114 02F12C01 		add	r1, r2, #44
 6338 0118 03EB4103 		add	r3, r3, r1, lsl #1
 6339 011c DB88     		ldrh	r3, [r3, #6]
 6340 011e AB42     		cmp	r3, r5
 6341 0120 EFD0     		beq	.L499
1609:Drivers/LTC681x/LTC681x.c **** 				}
 6342              		.loc 1 1609 0
 6343 0122 0130     		adds	r0, r0, #1
 6344              	.LVL799:
 6345 0124 00B2     		sxth	r0, r0
 6346              	.LVL800:
 6347 0126 ECE7     		b	.L499
 6348              	.L511:
 6349              	.LBE127:
1603:Drivers/LTC681x/LTC681x.c **** 			{
 6350              		.loc 1 1603 0 discriminator 2
 6351 0128 0CF1010C 		add	ip, ip, #1
 6352              	.LVL801:
 6353              	.L498:
1603:Drivers/LTC681x/LTC681x.c **** 			{
 6354              		.loc 1 1603 0 is_stmt 0 discriminator 1
 6355 012c 6645     		cmp	r6, ip
 6356 012e 01DD     		ble	.L486
 6357              	.LBB128:
1605:Drivers/LTC681x/LTC681x.c **** 			  {
 6358              		.loc 1 1605 0 is_stmt 1
 6359 0130 0022     		movs	r2, #0
 6360 0132 E7E7     		b	.L501
 6361              	.LVL802:
 6362              	.L486:
 6363              	.LBE128:
 6364              	.LBE126:
1547:Drivers/LTC681x/LTC681x.c ****   {
 6365              		.loc 1 1547 0 discriminator 2
 6366 0134 0137     		adds	r7, r7, #1
 6367              	.LVL803:
 6368              	.L485:
1547:Drivers/LTC681x/LTC681x.c ****   {
 6369              		.loc 1 1547 0 is_stmt 0 discriminator 1
 6370 0136 022F     		cmp	r7, #2
 6371 0138 17DC     		bgt	.L512
1550:Drivers/LTC681x/LTC681x.c ****     wakeup_idle(total_ic);
 6372              		.loc 1 1550 0 is_stmt 1
 6373 013a 5FFA87FB 		uxtb	fp, r7
 6374 013e 5246     		mov	r2, r10
 6375 0140 5946     		mov	r1, fp
 6376 0142 4846     		mov	r0, r9
 6377              	.LVL804:
 6378 0144 FFF7FEFF 		bl	LTC681x_st_lookup
ARM GAS  /tmp/ccMCacDa.s 			page 157


 6379              	.LVL805:
 6380 0148 0546     		mov	r5, r0
 6381              	.LVL806:
1551:Drivers/LTC681x/LTC681x.c ****     switch (adc_reg)
 6382              		.loc 1 1551 0
 6383 014a 3046     		mov	r0, r6
 6384 014c FFF7FEFF 		bl	wakeup_idle
 6385              	.LVL807:
1552:Drivers/LTC681x/LTC681x.c ****     {
 6386              		.loc 1 1552 0
 6387 0150 B8F1020F 		cmp	r8, #2
 6388 0154 8FD0     		beq	.L487
 6389 0156 B8F1030F 		cmp	r8, #3
 6390 015a BBD0     		beq	.L488
 6391 015c B8F1010F 		cmp	r8, #1
 6392 0160 3FF459AF 		beq	.L513
1616:Drivers/LTC681x/LTC681x.c ****         break;
 6393              		.loc 1 1616 0
 6394 0164 4FF0FF30 		mov	r0, #-1
 6395 0168 E4E7     		b	.L486
 6396              	.LVL808:
 6397              	.L512:
 6398              	.LBE129:
1621:Drivers/LTC681x/LTC681x.c **** 
 6399              		.loc 1 1621 0
 6400 016a BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6401              		.cfi_endproc
 6402              	.LFE55:
 6404              		.section	.text.LTC681x_run_adc_redundancy_st,"ax",%progbits
 6405              		.align	1
 6406              		.global	LTC681x_run_adc_redundancy_st
 6407              		.syntax unified
 6408              		.thumb
 6409              		.thumb_func
 6410              		.fpu softvfp
 6412              	LTC681x_run_adc_redundancy_st:
 6413              	.LFB56:
1629:Drivers/LTC681x/LTC681x.c ****   int16_t error = 0;
 6414              		.loc 1 1629 0
 6415              		.cfi_startproc
 6416              		@ args = 0, pretend = 0, frame = 0
 6417              		@ frame_needed = 0, uses_anonymous_args = 0
 6418              	.LVL809:
 6419 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 6420              	.LCFI147:
 6421              		.cfi_def_cfa_offset 24
 6422              		.cfi_offset 4, -24
 6423              		.cfi_offset 5, -20
 6424              		.cfi_offset 6, -16
 6425              		.cfi_offset 7, -12
 6426              		.cfi_offset 8, -8
 6427              		.cfi_offset 14, -4
 6428 0004 8046     		mov	r8, r0
 6429 0006 0F46     		mov	r7, r1
 6430 0008 1546     		mov	r5, r2
 6431 000a 1C46     		mov	r4, r3
 6432              	.LVL810:
ARM GAS  /tmp/ccMCacDa.s 			page 158


 6433              	.LBB130:
1631:Drivers/LTC681x/LTC681x.c ****   {
 6434              		.loc 1 1631 0
 6435 000c 0126     		movs	r6, #1
 6436              	.LBE130:
1630:Drivers/LTC681x/LTC681x.c ****   for (int self_test = 1; self_test<3; self_test++)
 6437              		.loc 1 1630 0
 6438 000e 0020     		movs	r0, #0
 6439              	.LVL811:
 6440              	.LBB137:
1631:Drivers/LTC681x/LTC681x.c ****   {
 6441              		.loc 1 1631 0
 6442 0010 5BE0     		b	.L515
 6443              	.LVL812:
 6444              	.L517:
1637:Drivers/LTC681x/LTC681x.c **** 		LTC681x_adaxd(adc_mode,AUX_CH_ALL);
 6445              		.loc 1 1637 0
 6446 0012 FFF7FEFF 		bl	LTC681x_clraux
 6447              	.LVL813:
1638:Drivers/LTC681x/LTC681x.c **** 	    LTC681x_pollAdc();
 6448              		.loc 1 1638 0
 6449 0016 0021     		movs	r1, #0
 6450 0018 4046     		mov	r0, r8
 6451 001a FFF7FEFF 		bl	LTC681x_adaxd
 6452              	.LVL814:
1639:Drivers/LTC681x/LTC681x.c **** 	
 6453              		.loc 1 1639 0
 6454 001e FFF7FEFF 		bl	LTC681x_pollAdc
 6455              	.LVL815:
1641:Drivers/LTC681x/LTC681x.c **** 		error = LTC681x_rdaux(0, total_ic,ic);
 6456              		.loc 1 1641 0
 6457 0022 2846     		mov	r0, r5
 6458 0024 FFF7FEFF 		bl	wakeup_idle
 6459              	.LVL816:
1642:Drivers/LTC681x/LTC681x.c **** 	    for (int cic = 0; cic < total_ic; cic++)
 6460              		.loc 1 1642 0
 6461 0028 2246     		mov	r2, r4
 6462 002a 2946     		mov	r1, r5
 6463 002c 0020     		movs	r0, #0
 6464 002e FFF7FEFF 		bl	LTC681x_rdaux
 6465              	.LVL817:
 6466 0032 00B2     		sxth	r0, r0
 6467              	.LVL818:
 6468              	.LBB131:
1643:Drivers/LTC681x/LTC681x.c **** 		{
 6469              		.loc 1 1643 0
 6470 0034 4FF0000C 		mov	ip, #0
 6471 0038 14E0     		b	.L519
 6472              	.LVL819:
 6473              	.L520:
 6474              	.LBB132:
1645:Drivers/LTC681x/LTC681x.c **** 			  { 
 6475              		.loc 1 1645 0 discriminator 2
 6476 003a 0132     		adds	r2, r2, #1
 6477              	.LVL820:
 6478              	.L522:
1645:Drivers/LTC681x/LTC681x.c **** 			  { 
ARM GAS  /tmp/ccMCacDa.s 			page 159


 6479              		.loc 1 1645 0 is_stmt 0 discriminator 1
 6480 003c CCEBCC01 		rsb	r1, ip, ip, lsl #3
 6481 0040 4B01     		lsls	r3, r1, #5
 6482 0042 2344     		add	r3, r3, r4
 6483 0044 93F8D810 		ldrb	r1, [r3, #216]	@ zero_extendqisi2
 6484 0048 9142     		cmp	r1, r2
 6485 004a 09DD     		ble	.L533
1647:Drivers/LTC681x/LTC681x.c **** 				{
 6486              		.loc 1 1647 0 is_stmt 1
 6487 004c 02F12401 		add	r1, r2, #36
 6488 0050 33F81130 		ldrh	r3, [r3, r1, lsl #1]
 6489 0054 B3F57F4F 		cmp	r3, #65280
 6490 0058 EFD3     		bcc	.L520
1649:Drivers/LTC681x/LTC681x.c **** 				}
 6491              		.loc 1 1649 0
 6492 005a 0130     		adds	r0, r0, #1
 6493              	.LVL821:
 6494 005c 00B2     		sxth	r0, r0
 6495              	.LVL822:
 6496 005e ECE7     		b	.L520
 6497              	.L533:
 6498              	.LBE132:
1643:Drivers/LTC681x/LTC681x.c **** 		{
 6499              		.loc 1 1643 0 discriminator 2
 6500 0060 0CF1010C 		add	ip, ip, #1
 6501              	.LVL823:
 6502              	.L519:
1643:Drivers/LTC681x/LTC681x.c **** 		{
 6503              		.loc 1 1643 0 is_stmt 0 discriminator 1
 6504 0064 6545     		cmp	r5, ip
 6505 0066 2FDD     		ble	.L516
 6506              	.LBB133:
1645:Drivers/LTC681x/LTC681x.c **** 			  { 
 6507              		.loc 1 1645 0 is_stmt 1
 6508 0068 0022     		movs	r2, #0
 6509 006a E7E7     		b	.L522
 6510              	.LVL824:
 6511              	.L518:
 6512              	.LBE133:
 6513              	.LBE131:
1655:Drivers/LTC681x/LTC681x.c **** 		LTC681x_adstatd(adc_mode,STAT_CH_ALL);
 6514              		.loc 1 1655 0
 6515 006c FFF7FEFF 		bl	LTC681x_clrstat
 6516              	.LVL825:
1656:Drivers/LTC681x/LTC681x.c **** 		LTC681x_pollAdc();
 6517              		.loc 1 1656 0
 6518 0070 0021     		movs	r1, #0
 6519 0072 4046     		mov	r0, r8
 6520 0074 FFF7FEFF 		bl	LTC681x_adstatd
 6521              	.LVL826:
1657:Drivers/LTC681x/LTC681x.c **** 		wakeup_idle(total_ic);
 6522              		.loc 1 1657 0
 6523 0078 FFF7FEFF 		bl	LTC681x_pollAdc
 6524              	.LVL827:
1658:Drivers/LTC681x/LTC681x.c **** 		error = LTC681x_rdstat(0,total_ic,ic);
 6525              		.loc 1 1658 0
 6526 007c 2846     		mov	r0, r5
ARM GAS  /tmp/ccMCacDa.s 			page 160


 6527 007e FFF7FEFF 		bl	wakeup_idle
 6528              	.LVL828:
1659:Drivers/LTC681x/LTC681x.c **** 		for (int cic = 0; cic < total_ic; cic++)
 6529              		.loc 1 1659 0
 6530 0082 2246     		mov	r2, r4
 6531 0084 2946     		mov	r1, r5
 6532 0086 0020     		movs	r0, #0
 6533 0088 FFF7FEFF 		bl	LTC681x_rdstat
 6534              	.LVL829:
 6535 008c 00B2     		sxth	r0, r0
 6536              	.LVL830:
 6537              	.LBB134:
1660:Drivers/LTC681x/LTC681x.c **** 		{
 6538              		.loc 1 1660 0
 6539 008e 4FF0000C 		mov	ip, #0
 6540 0092 15E0     		b	.L523
 6541              	.LVL831:
 6542              	.L524:
 6543              	.LBB135:
1662:Drivers/LTC681x/LTC681x.c **** 		  {
 6544              		.loc 1 1662 0 discriminator 2
 6545 0094 0132     		adds	r2, r2, #1
 6546              	.LVL832:
 6547              	.L526:
1662:Drivers/LTC681x/LTC681x.c **** 		  {
 6548              		.loc 1 1662 0 is_stmt 0 discriminator 1
 6549 0096 CCEBCC01 		rsb	r1, ip, ip, lsl #3
 6550 009a 4B01     		lsls	r3, r1, #5
 6551 009c 2344     		add	r3, r3, r4
 6552 009e 93F8D710 		ldrb	r1, [r3, #215]	@ zero_extendqisi2
 6553 00a2 9142     		cmp	r1, r2
 6554 00a4 0ADD     		ble	.L534
1664:Drivers/LTC681x/LTC681x.c **** 			{
 6555              		.loc 1 1664 0 is_stmt 1
 6556 00a6 02F12C01 		add	r1, r2, #44
 6557 00aa 03EB4103 		add	r3, r3, r1, lsl #1
 6558 00ae DB88     		ldrh	r3, [r3, #6]
 6559 00b0 B3F57F4F 		cmp	r3, #65280
 6560 00b4 EED3     		bcc	.L524
1666:Drivers/LTC681x/LTC681x.c **** 			}
 6561              		.loc 1 1666 0
 6562 00b6 0130     		adds	r0, r0, #1
 6563              	.LVL833:
 6564 00b8 00B2     		sxth	r0, r0
 6565              	.LVL834:
 6566 00ba EBE7     		b	.L524
 6567              	.L534:
 6568              	.LBE135:
1660:Drivers/LTC681x/LTC681x.c **** 		{
 6569              		.loc 1 1660 0 discriminator 2
 6570 00bc 0CF1010C 		add	ip, ip, #1
 6571              	.LVL835:
 6572              	.L523:
1660:Drivers/LTC681x/LTC681x.c **** 		{
 6573              		.loc 1 1660 0 is_stmt 0 discriminator 1
 6574 00c0 6545     		cmp	r5, ip
 6575 00c2 01DD     		ble	.L516
ARM GAS  /tmp/ccMCacDa.s 			page 161


 6576              	.LBB136:
1662:Drivers/LTC681x/LTC681x.c **** 		  {
 6577              		.loc 1 1662 0 is_stmt 1
 6578 00c4 0022     		movs	r2, #0
 6579 00c6 E6E7     		b	.L526
 6580              	.LVL836:
 6581              	.L516:
 6582              	.LBE136:
 6583              	.LBE134:
1631:Drivers/LTC681x/LTC681x.c ****   {
 6584              		.loc 1 1631 0 discriminator 2
 6585 00c8 0136     		adds	r6, r6, #1
 6586              	.LVL837:
 6587              	.L515:
1631:Drivers/LTC681x/LTC681x.c ****   {
 6588              		.loc 1 1631 0 is_stmt 0 discriminator 1
 6589 00ca 022E     		cmp	r6, #2
 6590 00cc 09DC     		bgt	.L535
1633:Drivers/LTC681x/LTC681x.c ****     switch (adc_reg)
 6591              		.loc 1 1633 0 is_stmt 1
 6592 00ce 2846     		mov	r0, r5
 6593              	.LVL838:
 6594 00d0 FFF7FEFF 		bl	wakeup_idle
 6595              	.LVL839:
1634:Drivers/LTC681x/LTC681x.c ****     {
 6596              		.loc 1 1634 0
 6597 00d4 022F     		cmp	r7, #2
 6598 00d6 9CD0     		beq	.L517
 6599 00d8 032F     		cmp	r7, #3
 6600 00da C7D0     		beq	.L518
1673:Drivers/LTC681x/LTC681x.c ****         break;
 6601              		.loc 1 1673 0
 6602 00dc 4FF0FF30 		mov	r0, #-1
 6603 00e0 F2E7     		b	.L516
 6604              	.LVL840:
 6605              	.L535:
 6606              	.LBE137:
1678:Drivers/LTC681x/LTC681x.c **** 
 6607              		.loc 1 1678 0
 6608 00e2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 6609              		.cfi_endproc
 6610              	.LFE56:
 6612              		.section	.text.LTC681x_rdcfg,"ax",%progbits
 6613              		.align	1
 6614              		.global	LTC681x_rdcfg
 6615              		.syntax unified
 6616              		.thumb
 6617              		.thumb_func
 6618              		.fpu softvfp
 6620              	LTC681x_rdcfg:
 6621              	.LFB43:
1107:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2]= {0x00 , 0x02};
 6622              		.loc 1 1107 0
 6623              		.cfi_startproc
 6624              		@ args = 0, pretend = 0, frame = 264
 6625              		@ frame_needed = 0, uses_anonymous_args = 0
 6626              	.LVL841:
ARM GAS  /tmp/ccMCacDa.s 			page 162


 6627 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 6628              	.LCFI148:
 6629              		.cfi_def_cfa_offset 32
 6630              		.cfi_offset 4, -32
 6631              		.cfi_offset 5, -28
 6632              		.cfi_offset 6, -24
 6633              		.cfi_offset 7, -20
 6634              		.cfi_offset 8, -16
 6635              		.cfi_offset 9, -12
 6636              		.cfi_offset 10, -8
 6637              		.cfi_offset 14, -4
 6638 0004 C2B0     		sub	sp, sp, #264
 6639              	.LCFI149:
 6640              		.cfi_def_cfa_offset 296
 6641 0006 0746     		mov	r7, r0
 6642 0008 0E46     		mov	r6, r1
1108:Drivers/LTC681x/LTC681x.c ****   uint8_t read_buffer[256];
 6643              		.loc 1 1108 0
 6644 000a 0025     		movs	r5, #0
 6645 000c 8DF80451 		strb	r5, [sp, #260]
 6646 0010 0223     		movs	r3, #2
 6647 0012 8DF80531 		strb	r3, [sp, #261]
 6648              	.LVL842:
1114:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_ic = 0; current_ic<total_ic; current_ic++)
 6649              		.loc 1 1114 0
 6650 0016 01AA     		add	r2, sp, #4
 6651 0018 41A9     		add	r1, sp, #260
 6652              	.LVL843:
 6653 001a FFF7FEFF 		bl	read_68
 6654              	.LVL844:
 6655 001e 8046     		mov	r8, r0
 6656              	.LVL845:
 6657              	.LBB138:
1115:Drivers/LTC681x/LTC681x.c ****   {
 6658              		.loc 1 1115 0
 6659 0020 2BE0     		b	.L537
 6660              	.LVL846:
 6661              	.L544:
1119:Drivers/LTC681x/LTC681x.c ****     }
 6662              		.loc 1 1119 0
 6663 0022 2C46     		mov	r4, r5
 6664 0024 33E0     		b	.L538
 6665              	.LVL847:
 6666              	.L540:
 6667              	.LBB139:
1128:Drivers/LTC681x/LTC681x.c ****     }
 6668              		.loc 1 1128 0 discriminator 3
 6669 0026 02EBC500 		add	r0, r2, r5, lsl #3
 6670 002a C4EBC401 		rsb	r1, r4, r4, lsl #3
 6671 002e 4B01     		lsls	r3, r1, #5
 6672 0030 3344     		add	r3, r3, r6
 6673 0032 01A9     		add	r1, sp, #4
 6674 0034 095C     		ldrb	r1, [r1, r0]	@ zero_extendqisi2
 6675 0036 1344     		add	r3, r3, r2
 6676 0038 9971     		strb	r1, [r3, #6]
1126:Drivers/LTC681x/LTC681x.c ****     {
 6677              		.loc 1 1126 0 discriminator 3
ARM GAS  /tmp/ccMCacDa.s 			page 163


 6678 003a 0132     		adds	r2, r2, #1
 6679              	.LVL848:
 6680              	.L539:
1126:Drivers/LTC681x/LTC681x.c ****     {
 6681              		.loc 1 1126 0 is_stmt 0 discriminator 1
 6682 003c 072A     		cmp	r2, #7
 6683 003e F2DD     		ble	.L540
 6684              	.LBE139:
1130:Drivers/LTC681x/LTC681x.c ****     data_pec = read_buffer[7+(8*current_ic)] | (read_buffer[6+(8*current_ic)]<<8);
 6685              		.loc 1 1130 0 is_stmt 1
 6686 0040 4FEAC509 		lsl	r9, r5, #3
 6687 0044 0DF1040A 		add	r10, sp, #4
 6688 0048 0AEB0901 		add	r1, r10, r9
 6689 004c 0620     		movs	r0, #6
 6690 004e FFF7FEFF 		bl	pec15_calc
 6691              	.LVL849:
1131:Drivers/LTC681x/LTC681x.c ****     if (calc_pec != data_pec )
 6692              		.loc 1 1131 0
 6693 0052 09F10703 		add	r3, r9, #7
 6694 0056 1AF80330 		ldrb	r3, [r10, r3]	@ zero_extendqisi2
 6695 005a 09F10609 		add	r9, r9, #6
 6696 005e 1AF80920 		ldrb	r2, [r10, r9]	@ zero_extendqisi2
 6697 0062 43EA0223 		orr	r3, r3, r2, lsl #8
 6698              	.LVL850:
1132:Drivers/LTC681x/LTC681x.c ****     {
 6699              		.loc 1 1132 0
 6700 0066 9842     		cmp	r0, r3
 6701 0068 13D0     		beq	.L541
1134:Drivers/LTC681x/LTC681x.c ****     }
 6702              		.loc 1 1134 0
 6703 006a C4EBC404 		rsb	r4, r4, r4, lsl #3
 6704              	.LVL851:
 6705 006e 6301     		lsls	r3, r4, #5
 6706              	.LVL852:
 6707 0070 3344     		add	r3, r3, r6
 6708 0072 0122     		movs	r2, #1
 6709              	.LVL853:
 6710 0074 9A73     		strb	r2, [r3, #14]
 6711              	.LVL854:
 6712              	.L542:
1115:Drivers/LTC681x/LTC681x.c ****   {
 6713              		.loc 1 1115 0 discriminator 2
 6714 0076 0135     		adds	r5, r5, #1
 6715              	.LVL855:
 6716 0078 EDB2     		uxtb	r5, r5
 6717              	.LVL856:
 6718              	.L537:
1115:Drivers/LTC681x/LTC681x.c ****   {
 6719              		.loc 1 1115 0 is_stmt 0 discriminator 1
 6720 007a BD42     		cmp	r5, r7
 6721 007c 10D2     		bcs	.L546
1117:Drivers/LTC681x/LTC681x.c ****     {
 6722              		.loc 1 1117 0 is_stmt 1
 6723 007e 96F8B930 		ldrb	r3, [r6, #185]	@ zero_extendqisi2
 6724 0082 002B     		cmp	r3, #0
 6725 0084 CDD0     		beq	.L544
1123:Drivers/LTC681x/LTC681x.c ****     }
ARM GAS  /tmp/ccMCacDa.s 			page 164


 6726              		.loc 1 1123 0
 6727 0086 7C1B     		subs	r4, r7, r5
 6728 0088 E4B2     		uxtb	r4, r4
 6729 008a 013C     		subs	r4, r4, #1
 6730 008c E4B2     		uxtb	r4, r4
 6731              	.LVL857:
 6732              	.L538:
 6733              	.LBB140:
1126:Drivers/LTC681x/LTC681x.c ****     {
 6734              		.loc 1 1126 0
 6735 008e 0022     		movs	r2, #0
 6736 0090 D4E7     		b	.L539
 6737              	.LVL858:
 6738              	.L541:
 6739              	.LBE140:
1136:Drivers/LTC681x/LTC681x.c ****   }
 6740              		.loc 1 1136 0
 6741 0092 C4EBC404 		rsb	r4, r4, r4, lsl #3
 6742              	.LVL859:
 6743 0096 6301     		lsls	r3, r4, #5
 6744              	.LVL860:
 6745 0098 3344     		add	r3, r3, r6
 6746 009a 0022     		movs	r2, #0
 6747              	.LVL861:
 6748 009c 9A73     		strb	r2, [r3, #14]
 6749              	.LVL862:
 6750 009e EAE7     		b	.L542
 6751              	.LVL863:
 6752              	.L546:
 6753              	.LBE138:
1138:Drivers/LTC681x/LTC681x.c ****   return(pec_error);
 6754              		.loc 1 1138 0
 6755 00a0 3246     		mov	r2, r6
 6756 00a2 0021     		movs	r1, #0
 6757 00a4 3846     		mov	r0, r7
 6758 00a6 FFF7FEFF 		bl	LTC681x_check_pec
 6759              	.LVL864:
1140:Drivers/LTC681x/LTC681x.c **** 
 6760              		.loc 1 1140 0
 6761 00aa 4046     		mov	r0, r8
 6762 00ac 42B0     		add	sp, sp, #264
 6763              	.LCFI150:
 6764              		.cfi_def_cfa_offset 32
 6765              		@ sp needed
 6766 00ae BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 6767              		.cfi_endproc
 6768              	.LFE43:
 6770              		.section	.text.LTC681x_rdcfgb,"ax",%progbits
 6771              		.align	1
 6772              		.global	LTC681x_rdcfgb
 6773              		.syntax unified
 6774              		.thumb
 6775              		.thumb_func
 6776              		.fpu softvfp
 6778              	LTC681x_rdcfgb:
 6779              	.LFB44:
1146:Drivers/LTC681x/LTC681x.c ****   uint8_t cmd[2]= {0x00 , 0x26};
ARM GAS  /tmp/ccMCacDa.s 			page 165


 6780              		.loc 1 1146 0
 6781              		.cfi_startproc
 6782              		@ args = 0, pretend = 0, frame = 264
 6783              		@ frame_needed = 0, uses_anonymous_args = 0
 6784              	.LVL865:
 6785 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 6786              	.LCFI151:
 6787              		.cfi_def_cfa_offset 32
 6788              		.cfi_offset 4, -32
 6789              		.cfi_offset 5, -28
 6790              		.cfi_offset 6, -24
 6791              		.cfi_offset 7, -20
 6792              		.cfi_offset 8, -16
 6793              		.cfi_offset 9, -12
 6794              		.cfi_offset 10, -8
 6795              		.cfi_offset 14, -4
 6796 0004 C2B0     		sub	sp, sp, #264
 6797              	.LCFI152:
 6798              		.cfi_def_cfa_offset 296
 6799 0006 0746     		mov	r7, r0
 6800 0008 0E46     		mov	r6, r1
1147:Drivers/LTC681x/LTC681x.c ****   uint8_t read_buffer[256];
 6801              		.loc 1 1147 0
 6802 000a 0025     		movs	r5, #0
 6803 000c 8DF80451 		strb	r5, [sp, #260]
 6804 0010 2623     		movs	r3, #38
 6805 0012 8DF80531 		strb	r3, [sp, #261]
 6806              	.LVL866:
1153:Drivers/LTC681x/LTC681x.c ****   for (uint8_t current_ic = 0; current_ic<total_ic; current_ic++)
 6807              		.loc 1 1153 0
 6808 0016 01AA     		add	r2, sp, #4
 6809 0018 41A9     		add	r1, sp, #260
 6810              	.LVL867:
 6811 001a FFF7FEFF 		bl	read_68
 6812              	.LVL868:
 6813 001e 8046     		mov	r8, r0
 6814              	.LVL869:
 6815              	.LBB141:
1154:Drivers/LTC681x/LTC681x.c ****   {
 6816              		.loc 1 1154 0
 6817 0020 2BE0     		b	.L548
 6818              	.LVL870:
 6819              	.L555:
1158:Drivers/LTC681x/LTC681x.c ****     }
 6820              		.loc 1 1158 0
 6821 0022 2C46     		mov	r4, r5
 6822 0024 33E0     		b	.L549
 6823              	.LVL871:
 6824              	.L551:
 6825              	.LBB142:
1167:Drivers/LTC681x/LTC681x.c ****     }
 6826              		.loc 1 1167 0 discriminator 3
 6827 0026 02EBC500 		add	r0, r2, r5, lsl #3
 6828 002a C4EBC401 		rsb	r1, r4, r4, lsl #3
 6829 002e 4B01     		lsls	r3, r1, #5
 6830 0030 3344     		add	r3, r3, r6
 6831 0032 01A9     		add	r1, sp, #4
ARM GAS  /tmp/ccMCacDa.s 			page 166


 6832 0034 095C     		ldrb	r1, [r1, r0]	@ zero_extendqisi2
 6833 0036 1344     		add	r3, r3, r2
 6834 0038 5975     		strb	r1, [r3, #21]
1165:Drivers/LTC681x/LTC681x.c ****     {
 6835              		.loc 1 1165 0 discriminator 3
 6836 003a 0132     		adds	r2, r2, #1
 6837              	.LVL872:
 6838              	.L550:
1165:Drivers/LTC681x/LTC681x.c ****     {
 6839              		.loc 1 1165 0 is_stmt 0 discriminator 1
 6840 003c 072A     		cmp	r2, #7
 6841 003e F2DD     		ble	.L551
 6842              	.LBE142:
1169:Drivers/LTC681x/LTC681x.c ****     data_pec = read_buffer[7+(8*current_ic)] | (read_buffer[6+(8*current_ic)]<<8);
 6843              		.loc 1 1169 0 is_stmt 1
 6844 0040 4FEAC509 		lsl	r9, r5, #3
 6845 0044 0DF1040A 		add	r10, sp, #4
 6846 0048 0AEB0901 		add	r1, r10, r9
 6847 004c 0620     		movs	r0, #6
 6848 004e FFF7FEFF 		bl	pec15_calc
 6849              	.LVL873:
1170:Drivers/LTC681x/LTC681x.c ****     if (calc_pec != data_pec )
 6850              		.loc 1 1170 0
 6851 0052 09F10703 		add	r3, r9, #7
 6852 0056 1AF80330 		ldrb	r3, [r10, r3]	@ zero_extendqisi2
 6853 005a 09F10609 		add	r9, r9, #6
 6854 005e 1AF80920 		ldrb	r2, [r10, r9]	@ zero_extendqisi2
 6855 0062 43EA0223 		orr	r3, r3, r2, lsl #8
 6856              	.LVL874:
1171:Drivers/LTC681x/LTC681x.c ****     {
 6857              		.loc 1 1171 0
 6858 0066 9842     		cmp	r0, r3
 6859 0068 13D0     		beq	.L552
1173:Drivers/LTC681x/LTC681x.c ****     }
 6860              		.loc 1 1173 0
 6861 006a C4EBC404 		rsb	r4, r4, r4, lsl #3
 6862              	.LVL875:
 6863 006e 6301     		lsls	r3, r4, #5
 6864              	.LVL876:
 6865 0070 3344     		add	r3, r3, r6
 6866 0072 0122     		movs	r2, #1
 6867              	.LVL877:
 6868 0074 5A77     		strb	r2, [r3, #29]
 6869              	.LVL878:
 6870              	.L553:
1154:Drivers/LTC681x/LTC681x.c ****   {
 6871              		.loc 1 1154 0 discriminator 2
 6872 0076 0135     		adds	r5, r5, #1
 6873              	.LVL879:
 6874 0078 EDB2     		uxtb	r5, r5
 6875              	.LVL880:
 6876              	.L548:
1154:Drivers/LTC681x/LTC681x.c ****   {
 6877              		.loc 1 1154 0 is_stmt 0 discriminator 1
 6878 007a BD42     		cmp	r5, r7
 6879 007c 10D2     		bcs	.L557
1156:Drivers/LTC681x/LTC681x.c ****     {
ARM GAS  /tmp/ccMCacDa.s 			page 167


 6880              		.loc 1 1156 0 is_stmt 1
 6881 007e 96F8B930 		ldrb	r3, [r6, #185]	@ zero_extendqisi2
 6882 0082 002B     		cmp	r3, #0
 6883 0084 CDD0     		beq	.L555
1162:Drivers/LTC681x/LTC681x.c ****     }
 6884              		.loc 1 1162 0
 6885 0086 7C1B     		subs	r4, r7, r5
 6886 0088 E4B2     		uxtb	r4, r4
 6887 008a 013C     		subs	r4, r4, #1
 6888 008c E4B2     		uxtb	r4, r4
 6889              	.LVL881:
 6890              	.L549:
 6891              	.LBB143:
1165:Drivers/LTC681x/LTC681x.c ****     {
 6892              		.loc 1 1165 0
 6893 008e 0022     		movs	r2, #0
 6894 0090 D4E7     		b	.L550
 6895              	.LVL882:
 6896              	.L552:
 6897              	.LBE143:
1175:Drivers/LTC681x/LTC681x.c ****   }
 6898              		.loc 1 1175 0
 6899 0092 C4EBC404 		rsb	r4, r4, r4, lsl #3
 6900              	.LVL883:
 6901 0096 6301     		lsls	r3, r4, #5
 6902              	.LVL884:
 6903 0098 3344     		add	r3, r3, r6
 6904 009a 0022     		movs	r2, #0
 6905              	.LVL885:
 6906 009c 5A77     		strb	r2, [r3, #29]
 6907              	.LVL886:
 6908 009e EAE7     		b	.L553
 6909              	.LVL887:
 6910              	.L557:
 6911              	.LBE141:
1177:Drivers/LTC681x/LTC681x.c ****   return(pec_error);
 6912              		.loc 1 1177 0
 6913 00a0 3246     		mov	r2, r6
 6914 00a2 0421     		movs	r1, #4
 6915 00a4 3846     		mov	r0, r7
 6916 00a6 FFF7FEFF 		bl	LTC681x_check_pec
 6917              	.LVL888:
1179:Drivers/LTC681x/LTC681x.c **** 
 6918              		.loc 1 1179 0
 6919 00aa 4046     		mov	r0, r8
 6920 00ac 42B0     		add	sp, sp, #264
 6921              	.LCFI153:
 6922              		.cfi_def_cfa_offset 32
 6923              		@ sp needed
 6924 00ae BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 6925              		.cfi_endproc
 6926              	.LFE44:
 6928              		.section	.text.LTC681x_reset_crc_count,"ax",%progbits
 6929              		.align	1
 6930              		.global	LTC681x_reset_crc_count
 6931              		.syntax unified
 6932              		.thumb
ARM GAS  /tmp/ccMCacDa.s 			page 168


 6933              		.thumb_func
 6934              		.fpu softvfp
 6936              	LTC681x_reset_crc_count:
 6937              	.LFB61:
2037:Drivers/LTC681x/LTC681x.c **** 
2038:Drivers/LTC681x/LTC681x.c **** //Helper Function to reset PEC counters
2039:Drivers/LTC681x/LTC681x.c **** void LTC681x_reset_crc_count(uint8_t total_ic, 
2040:Drivers/LTC681x/LTC681x.c **** 							 cell_asic *ic
2041:Drivers/LTC681x/LTC681x.c **** 							 )
2042:Drivers/LTC681x/LTC681x.c **** {
 6938              		.loc 1 2042 0
 6939              		.cfi_startproc
 6940              		@ args = 0, pretend = 0, frame = 0
 6941              		@ frame_needed = 0, uses_anonymous_args = 0
 6942              		@ link register save eliminated.
 6943              	.LVL889:
 6944 0000 70B4     		push	{r4, r5, r6}
 6945              	.LCFI154:
 6946              		.cfi_def_cfa_offset 12
 6947              		.cfi_offset 4, -12
 6948              		.cfi_offset 5, -8
 6949              		.cfi_offset 6, -4
 6950              	.LVL890:
 6951              	.LBB144:
2043:Drivers/LTC681x/LTC681x.c ****   for (int current_ic = 0 ; current_ic < total_ic; current_ic++)
 6952              		.loc 1 2043 0
 6953 0002 0026     		movs	r6, #0
 6954 0004 1FE0     		b	.L559
 6955              	.LVL891:
 6956              	.L561:
 6957              	.LBB145:
2044:Drivers/LTC681x/LTC681x.c ****   {
2045:Drivers/LTC681x/LTC681x.c ****     ic[current_ic].crc_count.pec_count = 0;
2046:Drivers/LTC681x/LTC681x.c ****     ic[current_ic].crc_count.cfgr_pec = 0;
2047:Drivers/LTC681x/LTC681x.c ****     for (int i=0; i<6; i++)
2048:Drivers/LTC681x/LTC681x.c ****     {
2049:Drivers/LTC681x/LTC681x.c ****       ic[current_ic].crc_count.cell_pec[i]=0;
 6958              		.loc 1 2049 0 discriminator 3
 6959 0006 03F15C02 		add	r2, r3, #92
 6960 000a 04EB4202 		add	r2, r4, r2, lsl #1
 6961 000e 0025     		movs	r5, #0
 6962 0010 D580     		strh	r5, [r2, #6]	@ movhi
2047:Drivers/LTC681x/LTC681x.c ****     {
 6963              		.loc 1 2047 0 discriminator 3
 6964 0012 0133     		adds	r3, r3, #1
 6965              	.LVL892:
 6966              	.L560:
2047:Drivers/LTC681x/LTC681x.c ****     {
 6967              		.loc 1 2047 0 is_stmt 0 discriminator 1
 6968 0014 052B     		cmp	r3, #5
 6969 0016 F6DD     		ble	.L561
 6970              	.LBE145:
 6971              	.LBB146:
2050:Drivers/LTC681x/LTC681x.c **** 
2051:Drivers/LTC681x/LTC681x.c ****     }
2052:Drivers/LTC681x/LTC681x.c ****     for (int i=0; i<4; i++)
 6972              		.loc 1 2052 0 is_stmt 1
ARM GAS  /tmp/ccMCacDa.s 			page 169


 6973 0018 0023     		movs	r3, #0
 6974              	.LVL893:
 6975 001a 06E0     		b	.L562
 6976              	.LVL894:
 6977              	.L563:
2053:Drivers/LTC681x/LTC681x.c ****     {
2054:Drivers/LTC681x/LTC681x.c ****       ic[current_ic].crc_count.aux_pec[i]=0;
 6978              		.loc 1 2054 0 discriminator 3
 6979 001c 03F16402 		add	r2, r3, #100
 6980 0020 04EB4202 		add	r2, r4, r2, lsl #1
 6981 0024 0025     		movs	r5, #0
 6982 0026 5580     		strh	r5, [r2, #2]	@ movhi
2052:Drivers/LTC681x/LTC681x.c ****     {
 6983              		.loc 1 2052 0 discriminator 3
 6984 0028 0133     		adds	r3, r3, #1
 6985              	.LVL895:
 6986              	.L562:
2052:Drivers/LTC681x/LTC681x.c ****     {
 6987              		.loc 1 2052 0 is_stmt 0 discriminator 1
 6988 002a 032B     		cmp	r3, #3
 6989 002c F6DD     		ble	.L563
 6990              	.LBE146:
 6991              	.LBB147:
2055:Drivers/LTC681x/LTC681x.c ****     }
2056:Drivers/LTC681x/LTC681x.c ****     for (int i=0; i<2; i++)
 6992              		.loc 1 2056 0 is_stmt 1
 6993 002e 0023     		movs	r3, #0
 6994              	.LVL896:
 6995 0030 06E0     		b	.L564
 6996              	.LVL897:
 6997              	.L565:
2057:Drivers/LTC681x/LTC681x.c ****     {
2058:Drivers/LTC681x/LTC681x.c ****       ic[current_ic].crc_count.stat_pec[i]=0;
 6998              		.loc 1 2058 0 discriminator 3
 6999 0032 03F16802 		add	r2, r3, #104
 7000 0036 04EB4202 		add	r2, r4, r2, lsl #1
 7001 003a 0025     		movs	r5, #0
 7002 003c 5580     		strh	r5, [r2, #2]	@ movhi
2056:Drivers/LTC681x/LTC681x.c ****     {
 7003              		.loc 1 2056 0 discriminator 3
 7004 003e 0133     		adds	r3, r3, #1
 7005              	.LVL898:
 7006              	.L564:
2056:Drivers/LTC681x/LTC681x.c ****     {
 7007              		.loc 1 2056 0 is_stmt 0 discriminator 1
 7008 0040 012B     		cmp	r3, #1
 7009 0042 F6DD     		ble	.L565
 7010              	.LBE147:
2043:Drivers/LTC681x/LTC681x.c ****   {
 7011              		.loc 1 2043 0 is_stmt 1 discriminator 2
 7012 0044 0136     		adds	r6, r6, #1
 7013              	.LVL899:
 7014              	.L559:
2043:Drivers/LTC681x/LTC681x.c ****   {
 7015              		.loc 1 2043 0 is_stmt 0 discriminator 1
 7016 0046 B042     		cmp	r0, r6
 7017 0048 09DD     		ble	.L568
ARM GAS  /tmp/ccMCacDa.s 			page 170


2045:Drivers/LTC681x/LTC681x.c ****     ic[current_ic].crc_count.cfgr_pec = 0;
 7018              		.loc 1 2045 0 is_stmt 1
 7019 004a C6EBC603 		rsb	r3, r6, r6, lsl #3
 7020 004e 5C01     		lsls	r4, r3, #5
 7021 0050 0C44     		add	r4, r4, r1
 7022 0052 0023     		movs	r3, #0
 7023 0054 A4F8BA30 		strh	r3, [r4, #186]	@ movhi
2046:Drivers/LTC681x/LTC681x.c ****     for (int i=0; i<6; i++)
 7024              		.loc 1 2046 0
 7025 0058 A4F8BC30 		strh	r3, [r4, #188]	@ movhi
 7026              	.LVL900:
 7027              	.LBB148:
2047:Drivers/LTC681x/LTC681x.c ****     {
 7028              		.loc 1 2047 0
 7029 005c DAE7     		b	.L560
 7030              	.LVL901:
 7031              	.L568:
 7032              	.LBE148:
 7033              	.LBE144:
2059:Drivers/LTC681x/LTC681x.c ****     }
2060:Drivers/LTC681x/LTC681x.c ****   }
2061:Drivers/LTC681x/LTC681x.c **** }
 7034              		.loc 1 2061 0
 7035 005e 70BC     		pop	{r4, r5, r6}
 7036              	.LCFI155:
 7037              		.cfi_restore 6
 7038              		.cfi_restore 5
 7039              		.cfi_restore 4
 7040              		.cfi_def_cfa_offset 0
 7041              	.LVL902:
 7042 0060 7047     		bx	lr
 7043              		.cfi_endproc
 7044              	.LFE61:
 7046              		.section	.text.LTC681x_axow,"ax",%progbits
 7047              		.align	1
 7048              		.global	LTC681x_axow
 7049              		.syntax unified
 7050              		.thumb
 7051              		.thumb_func
 7052              		.fpu softvfp
 7054              	LTC681x_axow:
 7055              	.LFB62:
2062:Drivers/LTC681x/LTC681x.c **** 
2063:Drivers/LTC681x/LTC681x.c **** //Start GPIOs open wire adc conversion
2064:Drivers/LTC681x/LTC681x.c **** void LTC681x_axow(uint8_t MD, //ADC Mode
2065:Drivers/LTC681x/LTC681x.c **** 				  uint8_t PUP //Discharge Permit
2066:Drivers/LTC681x/LTC681x.c **** 				 )
2067:Drivers/LTC681x/LTC681x.c **** {
 7056              		.loc 1 2067 0
 7057              		.cfi_startproc
 7058              		@ args = 0, pretend = 0, frame = 8
 7059              		@ frame_needed = 0, uses_anonymous_args = 0
 7060              	.LVL903:
 7061 0000 00B5     		push	{lr}
 7062              	.LCFI156:
 7063              		.cfi_def_cfa_offset 4
 7064              		.cfi_offset 14, -4
ARM GAS  /tmp/ccMCacDa.s 			page 171


 7065 0002 83B0     		sub	sp, sp, #12
 7066              	.LCFI157:
 7067              		.cfi_def_cfa_offset 16
2068:Drivers/LTC681x/LTC681x.c **** 	uint8_t cmd[2];
2069:Drivers/LTC681x/LTC681x.c **** 	uint8_t md_bits;
2070:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x02) >> 1;
 7068              		.loc 1 2070 0
 7069 0004 C0F34003 		ubfx	r3, r0, #1, #1
 7070              	.LVL904:
2071:Drivers/LTC681x/LTC681x.c **** 	cmd[0] = md_bits + 0x04;
 7071              		.loc 1 2071 0
 7072 0008 0433     		adds	r3, r3, #4
 7073              	.LVL905:
 7074 000a 8DF80430 		strb	r3, [sp, #4]
2072:Drivers/LTC681x/LTC681x.c **** 	md_bits = (MD & 0x01) << 7;
 7075              		.loc 1 2072 0
 7076 000e C001     		lsls	r0, r0, #7
 7077              	.LVL906:
 7078 0010 C0B2     		uxtb	r0, r0
 7079              	.LVL907:
2073:Drivers/LTC681x/LTC681x.c **** 	cmd[1] =  md_bits + 0x10+ (PUP<<6) ;//+ CH;
 7080              		.loc 1 2073 0
 7081 0012 8901     		lsls	r1, r1, #6
 7082              	.LVL908:
 7083 0014 C9B2     		uxtb	r1, r1
 7084 0016 0144     		add	r1, r1, r0
 7085 0018 1031     		adds	r1, r1, #16
 7086 001a 8DF80510 		strb	r1, [sp, #5]
2074:Drivers/LTC681x/LTC681x.c **** 	cmd_68(cmd);
 7087              		.loc 1 2074 0
 7088 001e 01A8     		add	r0, sp, #4
 7089              	.LVL909:
 7090 0020 FFF7FEFF 		bl	cmd_68
 7091              	.LVL910:
2075:Drivers/LTC681x/LTC681x.c **** }
 7092              		.loc 1 2075 0
 7093 0024 03B0     		add	sp, sp, #12
 7094              	.LCFI158:
 7095              		.cfi_def_cfa_offset 4
 7096              		@ sp needed
 7097 0026 5DF804FB 		ldr	pc, [sp], #4
 7098              		.cfi_endproc
 7099              	.LFE62:
 7101              		.section	.text.LTC681x_run_gpio_openwire,"ax",%progbits
 7102              		.align	1
 7103              		.global	LTC681x_run_gpio_openwire
 7104              		.syntax unified
 7105              		.thumb
 7106              		.thumb_func
 7107              		.fpu softvfp
 7109              	LTC681x_run_gpio_openwire:
 7110              	.LFB63:
2076:Drivers/LTC681x/LTC681x.c **** 
2077:Drivers/LTC681x/LTC681x.c **** //Runs open wire for GPIOs
2078:Drivers/LTC681x/LTC681x.c **** void LTC681x_run_gpio_openwire(uint8_t total_ic, 
2079:Drivers/LTC681x/LTC681x.c **** 								cell_asic ic[]
2080:Drivers/LTC681x/LTC681x.c **** 								)
ARM GAS  /tmp/ccMCacDa.s 			page 172


2081:Drivers/LTC681x/LTC681x.c ****  {				  
 7111              		.loc 1 2081 0
 7112              		.cfi_startproc
 7113              		@ args = 0, pretend = 0, frame = 8
 7114              		@ frame_needed = 1, uses_anonymous_args = 0
 7115              	.LVL911:
 7116 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7117              	.LCFI159:
 7118              		.cfi_def_cfa_offset 36
 7119              		.cfi_offset 4, -36
 7120              		.cfi_offset 5, -32
 7121              		.cfi_offset 6, -28
 7122              		.cfi_offset 7, -24
 7123              		.cfi_offset 8, -20
 7124              		.cfi_offset 9, -16
 7125              		.cfi_offset 10, -12
 7126              		.cfi_offset 11, -8
 7127              		.cfi_offset 14, -4
 7128 0004 83B0     		sub	sp, sp, #12
 7129              	.LCFI160:
 7130              		.cfi_def_cfa_offset 48
 7131 0006 00AF     		add	r7, sp, #0
 7132              	.LCFI161:
 7133              		.cfi_def_cfa_register 7
 7134 0008 0346     		mov	r3, r0
 7135 000a 3860     		str	r0, [r7]
 7136 000c 0E46     		mov	r6, r1
 7137              	.LVL912:
2082:Drivers/LTC681x/LTC681x.c **** 		  uint16_t OPENWIRE_THRESHOLD = 150;
2083:Drivers/LTC681x/LTC681x.c **** 		  const uint8_t  N_CHANNELS = ic[0].ic_reg.aux_channels +1;
 7138              		.loc 1 2083 0
 7139 000e 91F8D840 		ldrb	r4, [r1, #216]	@ zero_extendqisi2
 7140 0012 0134     		adds	r4, r4, #1
 7141 0014 E4B2     		uxtb	r4, r4
 7142              	.LVL913:
2084:Drivers/LTC681x/LTC681x.c **** 		  
2085:Drivers/LTC681x/LTC681x.c **** 		  uint16_t aux_val[total_ic][N_CHANNELS];
 7143              		.loc 1 2085 0
 7144 0016 6500     		lsls	r5, r4, #1
 7145 0018 8346     		mov	fp, r0
 7146              	.LVL914:
 7147 001a 04FB03F3 		mul	r3, r4, r3
 7148 001e 5B00     		lsls	r3, r3, #1
 7149 0020 0833     		adds	r3, r3, #8
 7150 0022 DB08     		lsrs	r3, r3, #3
 7151 0024 DB00     		lsls	r3, r3, #3
 7152 0026 ADEB030D 		sub	sp, sp, r3
 7153 002a E846     		mov	r8, sp
 7154              	.LVL915:
2086:Drivers/LTC681x/LTC681x.c **** 		  uint16_t pDwn[total_ic][N_CHANNELS];
 7155              		.loc 1 2086 0
 7156 002c ADEB030D 		sub	sp, sp, r3
 7157 0030 E946     		mov	r9, sp
 7158              	.LVL916:
2087:Drivers/LTC681x/LTC681x.c **** 		  uint16_t ow_delta[total_ic][N_CHANNELS];
 7159              		.loc 1 2087 0
 7160 0032 ADEB030D 		sub	sp, sp, r3
ARM GAS  /tmp/ccMCacDa.s 			page 173


 7161 0036 EA46     		mov	r10, sp
 7162              	.LVL917:
2088:Drivers/LTC681x/LTC681x.c ****  		  
2089:Drivers/LTC681x/LTC681x.c **** 		  int8_t error;
2090:Drivers/LTC681x/LTC681x.c **** 		  int8_t i;
2091:Drivers/LTC681x/LTC681x.c **** 		  uint32_t conv_time=0;
2092:Drivers/LTC681x/LTC681x.c ****   
2093:Drivers/LTC681x/LTC681x.c **** 		  wakeup_sleep(total_ic); 
 7163              		.loc 1 2093 0
 7164 0038 FFF7FEFF 		bl	wakeup_sleep
 7165              	.LVL918:
2094:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clraux();
 7166              		.loc 1 2094 0
 7167 003c FFF7FEFF 		bl	LTC681x_clraux
 7168              	.LVL919:
2095:Drivers/LTC681x/LTC681x.c **** 		   
2096:Drivers/LTC681x/LTC681x.c **** 		  for (i = 0; i < 3; i++)
 7169              		.loc 1 2096 0
 7170 0040 0023     		movs	r3, #0
 7171 0042 7B60     		str	r3, [r7, #4]
 7172 0044 0CE0     		b	.L572
 7173              	.LVL920:
 7174              	.L573:
2097:Drivers/LTC681x/LTC681x.c **** 		  { 
2098:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
 7175              		.loc 1 2098 0 discriminator 3
 7176 0046 3868     		ldr	r0, [r7]
 7177 0048 FFF7FEFF 		bl	wakeup_idle
 7178              	.LVL921:
2099:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_adax(MD_7KHZ_3KHZ, AUX_CH_ALL);
 7179              		.loc 1 2099 0 discriminator 3
 7180 004c 0021     		movs	r1, #0
 7181 004e 0220     		movs	r0, #2
 7182 0050 FFF7FEFF 		bl	LTC681x_adax
 7183              	.LVL922:
2100:Drivers/LTC681x/LTC681x.c **** 		  conv_time= LTC681x_pollAdc();
 7184              		.loc 1 2100 0 discriminator 3
 7185 0054 FFF7FEFF 		bl	LTC681x_pollAdc
 7186              	.LVL923:
2096:Drivers/LTC681x/LTC681x.c **** 		  { 
 7187              		.loc 1 2096 0 discriminator 3
 7188 0058 7B68     		ldr	r3, [r7, #4]
 7189 005a 0133     		adds	r3, r3, #1
 7190 005c 5BB2     		sxtb	r3, r3
 7191 005e 7B60     		str	r3, [r7, #4]
 7192              	.LVL924:
 7193              	.L572:
2096:Drivers/LTC681x/LTC681x.c **** 		  { 
 7194              		.loc 1 2096 0 is_stmt 0 discriminator 1
 7195 0060 7B68     		ldr	r3, [r7, #4]
 7196 0062 022B     		cmp	r3, #2
 7197 0064 EFDD     		ble	.L573
2101:Drivers/LTC681x/LTC681x.c **** 		  }
2102:Drivers/LTC681x/LTC681x.c **** 		  
2103:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
 7198              		.loc 1 2103 0 is_stmt 1
 7199 0066 3868     		ldr	r0, [r7]
ARM GAS  /tmp/ccMCacDa.s 			page 174


 7200 0068 FFF7FEFF 		bl	wakeup_idle
 7201              	.LVL925:
2104:Drivers/LTC681x/LTC681x.c **** 		  error = LTC681x_rdaux(0, total_ic,ic);
 7202              		.loc 1 2104 0
 7203 006c 3246     		mov	r2, r6
 7204 006e 3968     		ldr	r1, [r7]
 7205 0070 0020     		movs	r0, #0
 7206 0072 FFF7FEFF 		bl	LTC681x_rdaux
 7207              	.LVL926:
 7208              	.LBB149:
2105:Drivers/LTC681x/LTC681x.c **** 		  
2106:Drivers/LTC681x/LTC681x.c **** 		  for (int cic=0; cic<total_ic; cic++)
 7209              		.loc 1 2106 0
 7210 0076 0021     		movs	r1, #0
 7211 0078 10E0     		b	.L574
 7212              	.LVL927:
 7213              	.L575:
 7214              	.LBB150:
2107:Drivers/LTC681x/LTC681x.c **** 		  {
2108:Drivers/LTC681x/LTC681x.c **** 			  for (int channel=0; channel<N_CHANNELS; channel++)
2109:Drivers/LTC681x/LTC681x.c **** 				{
2110:Drivers/LTC681x/LTC681x.c **** 					aux_val[cic][channel]=ic[cic].aux.a_codes[channel];
 7215              		.loc 1 2110 0 discriminator 3
 7216 007a C1EBC100 		rsb	r0, r1, r1, lsl #3
 7217 007e 4301     		lsls	r3, r0, #5
 7218 0080 F018     		adds	r0, r6, r3
 7219 0082 6B08     		lsrs	r3, r5, #1
 7220 0084 02F1240C 		add	ip, r2, #36
 7221 0088 30F81C00 		ldrh	r0, [r0, ip, lsl #1]
 7222 008c 03FB0123 		mla	r3, r3, r1, r2
 7223 0090 28F81300 		strh	r0, [r8, r3, lsl #1]	@ movhi
2108:Drivers/LTC681x/LTC681x.c **** 				{
 7224              		.loc 1 2108 0 discriminator 3
 7225 0094 0132     		adds	r2, r2, #1
 7226              	.LVL928:
 7227              	.L576:
2108:Drivers/LTC681x/LTC681x.c **** 				{
 7228              		.loc 1 2108 0 is_stmt 0 discriminator 1
 7229 0096 9442     		cmp	r4, r2
 7230 0098 EFDC     		bgt	.L575
 7231              	.LBE150:
2106:Drivers/LTC681x/LTC681x.c **** 		  {
 7232              		.loc 1 2106 0 is_stmt 1 discriminator 2
 7233 009a 0131     		adds	r1, r1, #1
 7234              	.LVL929:
 7235              	.L574:
2106:Drivers/LTC681x/LTC681x.c **** 		  {
 7236              		.loc 1 2106 0 is_stmt 0 discriminator 1
 7237 009c 8B45     		cmp	fp, r1
 7238 009e 01DD     		ble	.L593
 7239              	.LBB151:
2108:Drivers/LTC681x/LTC681x.c **** 				{
 7240              		.loc 1 2108 0 is_stmt 1
 7241 00a0 0022     		movs	r2, #0
 7242 00a2 F8E7     		b	.L576
 7243              	.L593:
 7244              	.LBE151:
ARM GAS  /tmp/ccMCacDa.s 			page 175


 7245              	.LBE149:
2111:Drivers/LTC681x/LTC681x.c **** 				}
2112:Drivers/LTC681x/LTC681x.c **** 
2113:Drivers/LTC681x/LTC681x.c **** 		  }	
2114:Drivers/LTC681x/LTC681x.c **** 		  LTC681x_clraux();
 7246              		.loc 1 2114 0
 7247 00a4 FFF7FEFF 		bl	LTC681x_clraux
 7248              	.LVL930:
2115:Drivers/LTC681x/LTC681x.c **** 		  
2116:Drivers/LTC681x/LTC681x.c **** 		  // pull downs
2117:Drivers/LTC681x/LTC681x.c **** 		  for (i = 0; i < 3; i++)
 7249              		.loc 1 2117 0
 7250 00a8 0023     		movs	r3, #0
 7251 00aa 7B60     		str	r3, [r7, #4]
 7252 00ac 0CE0     		b	.L577
 7253              	.LVL931:
 7254              	.L578:
2118:Drivers/LTC681x/LTC681x.c **** 		  { 
2119:Drivers/LTC681x/LTC681x.c **** 			wakeup_idle(total_ic);
 7255              		.loc 1 2119 0 discriminator 3
 7256 00ae 3868     		ldr	r0, [r7]
 7257 00b0 FFF7FEFF 		bl	wakeup_idle
 7258              	.LVL932:
2120:Drivers/LTC681x/LTC681x.c **** 			LTC681x_axow(MD_7KHZ_3KHZ,PULL_DOWN_CURRENT);
 7259              		.loc 1 2120 0 discriminator 3
 7260 00b4 0021     		movs	r1, #0
 7261 00b6 0220     		movs	r0, #2
 7262 00b8 FFF7FEFF 		bl	LTC681x_axow
 7263              	.LVL933:
2121:Drivers/LTC681x/LTC681x.c **** 			conv_time =LTC681x_pollAdc();
 7264              		.loc 1 2121 0 discriminator 3
 7265 00bc FFF7FEFF 		bl	LTC681x_pollAdc
 7266              	.LVL934:
2117:Drivers/LTC681x/LTC681x.c **** 		  { 
 7267              		.loc 1 2117 0 discriminator 3
 7268 00c0 7B68     		ldr	r3, [r7, #4]
 7269 00c2 0133     		adds	r3, r3, #1
 7270 00c4 5BB2     		sxtb	r3, r3
 7271 00c6 7B60     		str	r3, [r7, #4]
 7272              	.LVL935:
 7273              	.L577:
2117:Drivers/LTC681x/LTC681x.c **** 		  { 
 7274              		.loc 1 2117 0 is_stmt 0 discriminator 1
 7275 00c8 7B68     		ldr	r3, [r7, #4]
 7276 00ca 022B     		cmp	r3, #2
 7277 00cc EFDD     		ble	.L578
2122:Drivers/LTC681x/LTC681x.c **** 		  } 
2123:Drivers/LTC681x/LTC681x.c **** 		  
2124:Drivers/LTC681x/LTC681x.c **** 		  wakeup_idle(total_ic);
 7278              		.loc 1 2124 0 is_stmt 1
 7279 00ce 3868     		ldr	r0, [r7]
 7280 00d0 FFF7FEFF 		bl	wakeup_idle
 7281              	.LVL936:
2125:Drivers/LTC681x/LTC681x.c **** 		  error = LTC681x_rdaux(0, total_ic,ic);
 7282              		.loc 1 2125 0
 7283 00d4 3246     		mov	r2, r6
 7284 00d6 3968     		ldr	r1, [r7]
ARM GAS  /tmp/ccMCacDa.s 			page 176


 7285 00d8 0020     		movs	r0, #0
 7286 00da FFF7FEFF 		bl	LTC681x_rdaux
 7287              	.LVL937:
 7288              	.LBB152:
2126:Drivers/LTC681x/LTC681x.c **** 		  
2127:Drivers/LTC681x/LTC681x.c **** 		  for (int cic=0; cic<total_ic; cic++)
 7289              		.loc 1 2127 0
 7290 00de 0021     		movs	r1, #0
 7291 00e0 10E0     		b	.L579
 7292              	.LVL938:
 7293              	.L580:
 7294              	.LBB153:
2128:Drivers/LTC681x/LTC681x.c **** 		  {
2129:Drivers/LTC681x/LTC681x.c **** 			   for (int channel=0; channel<N_CHANNELS; channel++)
2130:Drivers/LTC681x/LTC681x.c **** 				{
2131:Drivers/LTC681x/LTC681x.c **** 					pDwn[cic][channel]=ic[cic].aux.a_codes[channel] ;
 7295              		.loc 1 2131 0 discriminator 3
 7296 00e2 C1EBC100 		rsb	r0, r1, r1, lsl #3
 7297 00e6 4301     		lsls	r3, r0, #5
 7298 00e8 F018     		adds	r0, r6, r3
 7299 00ea 6B08     		lsrs	r3, r5, #1
 7300 00ec 02F1240C 		add	ip, r2, #36
 7301 00f0 30F81C00 		ldrh	r0, [r0, ip, lsl #1]
 7302 00f4 03FB0123 		mla	r3, r3, r1, r2
 7303 00f8 29F81300 		strh	r0, [r9, r3, lsl #1]	@ movhi
2129:Drivers/LTC681x/LTC681x.c **** 				{
 7304              		.loc 1 2129 0 discriminator 3
 7305 00fc 0132     		adds	r2, r2, #1
 7306              	.LVL939:
 7307              	.L581:
2129:Drivers/LTC681x/LTC681x.c **** 				{
 7308              		.loc 1 2129 0 is_stmt 0 discriminator 1
 7309 00fe 9442     		cmp	r4, r2
 7310 0100 EFDC     		bgt	.L580
 7311              	.LBE153:
2127:Drivers/LTC681x/LTC681x.c **** 		  {
 7312              		.loc 1 2127 0 is_stmt 1 discriminator 2
 7313 0102 0131     		adds	r1, r1, #1
 7314              	.LVL940:
 7315              	.L579:
2127:Drivers/LTC681x/LTC681x.c **** 		  {
 7316              		.loc 1 2127 0 is_stmt 0 discriminator 1
 7317 0104 8B45     		cmp	fp, r1
 7318 0106 01DD     		ble	.L594
 7319              	.LBB154:
2129:Drivers/LTC681x/LTC681x.c **** 				{
 7320              		.loc 1 2129 0 is_stmt 1
 7321 0108 0022     		movs	r2, #0
 7322 010a F8E7     		b	.L581
 7323              	.L594:
 7324              	.LBE154:
 7325              	.LBE152:
 7326              	.LBB155:
2132:Drivers/LTC681x/LTC681x.c **** 				}
2133:Drivers/LTC681x/LTC681x.c **** 		  }
2134:Drivers/LTC681x/LTC681x.c **** 		  
2135:Drivers/LTC681x/LTC681x.c **** 		for (int cic=0; cic<total_ic; cic++)
ARM GAS  /tmp/ccMCacDa.s 			page 177


 7327              		.loc 1 2135 0
 7328 010c 0021     		movs	r1, #0
 7329              	.LVL941:
 7330 010e 2FE0     		b	.L582
 7331              	.LVL942:
 7332              	.L584:
 7333              	.LBB156:
2136:Drivers/LTC681x/LTC681x.c **** 		  {  
2137:Drivers/LTC681x/LTC681x.c **** 				ic[cic].system_open_wire = 0xFFFF;
2138:Drivers/LTC681x/LTC681x.c **** 				
2139:Drivers/LTC681x/LTC681x.c **** 				for (int channel=0; channel<N_CHANNELS; channel++)
2140:Drivers/LTC681x/LTC681x.c **** 				{
2141:Drivers/LTC681x/LTC681x.c **** 					if (pDwn[cic][channel] > aux_val[cic][channel])                   
2142:Drivers/LTC681x/LTC681x.c **** 					{
2143:Drivers/LTC681x/LTC681x.c **** 						ow_delta[cic][channel] = (pDwn[cic][channel] - aux_val[cic][channel]);
2144:Drivers/LTC681x/LTC681x.c **** 					}
2145:Drivers/LTC681x/LTC681x.c **** 					else
2146:Drivers/LTC681x/LTC681x.c **** 					{
2147:Drivers/LTC681x/LTC681x.c **** 						ow_delta[cic][channel] = 0;                                             
 7334              		.loc 1 2147 0
 7335 0110 02FB0130 		mla	r0, r2, r1, r3
 7336 0114 4FF0000E 		mov	lr, #0
 7337 0118 2AF810E0 		strh	lr, [r10, r0, lsl #1]	@ movhi
 7338 011c 1AE0     		b	.L585
 7339              	.L596:
2148:Drivers/LTC681x/LTC681x.c **** 					} 
2149:Drivers/LTC681x/LTC681x.c **** 					
2150:Drivers/LTC681x/LTC681x.c **** 					if(channel<5)
2151:Drivers/LTC681x/LTC681x.c **** 					{
2152:Drivers/LTC681x/LTC681x.c **** 						if (ow_delta[cic][channel] > OPENWIRE_THRESHOLD) 
 7340              		.loc 1 2152 0
 7341 011e 02FB0132 		mla	r2, r2, r1, r3
 7342 0122 3AF81220 		ldrh	r2, [r10, r2, lsl #1]
 7343 0126 962A     		cmp	r2, #150
 7344 0128 02D9     		bls	.L587
2153:Drivers/LTC681x/LTC681x.c **** 						{
2154:Drivers/LTC681x/LTC681x.c **** 							ic[cic].system_open_wire= channel+1;
 7345              		.loc 1 2154 0
 7346 012a 5A1C     		adds	r2, r3, #1
 7347 012c CCF8DC20 		str	r2, [ip, #220]
 7348              	.L587:
2139:Drivers/LTC681x/LTC681x.c **** 				{
 7349              		.loc 1 2139 0 discriminator 2
 7350 0130 0133     		adds	r3, r3, #1
 7351              	.LVL943:
 7352              	.L583:
2139:Drivers/LTC681x/LTC681x.c **** 				{
 7353              		.loc 1 2139 0 is_stmt 0 discriminator 1
 7354 0132 9C42     		cmp	r4, r3
 7355 0134 1BDD     		ble	.L595
2141:Drivers/LTC681x/LTC681x.c **** 					{
 7356              		.loc 1 2141 0 is_stmt 1
 7357 0136 6A08     		lsrs	r2, r5, #1
 7358 0138 02FB013E 		mla	lr, r2, r1, r3
 7359 013c 39F81E00 		ldrh	r0, [r9, lr, lsl #1]
 7360 0140 38F81EE0 		ldrh	lr, [r8, lr, lsl #1]
 7361 0144 7045     		cmp	r0, lr
ARM GAS  /tmp/ccMCacDa.s 			page 178


 7362 0146 E3D9     		bls	.L584
2143:Drivers/LTC681x/LTC681x.c **** 					}
 7363              		.loc 1 2143 0
 7364 0148 A0EB0E00 		sub	r0, r0, lr
 7365 014c 02FB013E 		mla	lr, r2, r1, r3
 7366 0150 2AF81E00 		strh	r0, [r10, lr, lsl #1]	@ movhi
 7367              	.L585:
2150:Drivers/LTC681x/LTC681x.c **** 					{
 7368              		.loc 1 2150 0
 7369 0154 042B     		cmp	r3, #4
 7370 0156 E2DD     		ble	.L596
2155:Drivers/LTC681x/LTC681x.c **** 							
2156:Drivers/LTC681x/LTC681x.c **** 						}  
2157:Drivers/LTC681x/LTC681x.c **** 					}
2158:Drivers/LTC681x/LTC681x.c **** 					else if(channel>5)
 7371              		.loc 1 2158 0
 7372 0158 052B     		cmp	r3, #5
 7373 015a E9DD     		ble	.L587
2159:Drivers/LTC681x/LTC681x.c **** 					{
2160:Drivers/LTC681x/LTC681x.c **** 						if (ow_delta[cic][channel] > OPENWIRE_THRESHOLD) 
 7374              		.loc 1 2160 0
 7375 015c 02FB0132 		mla	r2, r2, r1, r3
 7376 0160 3AF81220 		ldrh	r2, [r10, r2, lsl #1]
 7377 0164 962A     		cmp	r2, #150
 7378 0166 E3D9     		bls	.L587
2161:Drivers/LTC681x/LTC681x.c **** 						{
2162:Drivers/LTC681x/LTC681x.c **** 							ic[cic].system_open_wire= channel;
 7379              		.loc 1 2162 0
 7380 0168 CCF8DC30 		str	r3, [ip, #220]
 7381 016c E0E7     		b	.L587
 7382              	.L595:
 7383              	.LBE156:
2135:Drivers/LTC681x/LTC681x.c **** 		  {  
 7384              		.loc 1 2135 0 discriminator 2
 7385 016e 0131     		adds	r1, r1, #1
 7386              	.LVL944:
 7387              	.L582:
2135:Drivers/LTC681x/LTC681x.c **** 		  {  
 7388              		.loc 1 2135 0 is_stmt 0 discriminator 1
 7389 0170 8B45     		cmp	fp, r1
 7390 0172 0ADD     		ble	.L597
2137:Drivers/LTC681x/LTC681x.c **** 				
 7391              		.loc 1 2137 0 is_stmt 1
 7392 0174 C1EBC103 		rsb	r3, r1, r1, lsl #3
 7393 0178 4FEA431C 		lsl	ip, r3, #5
 7394 017c B444     		add	ip, ip, r6
 7395 017e 4FF6FF73 		movw	r3, #65535
 7396 0182 CCF8DC30 		str	r3, [ip, #220]
 7397              	.LVL945:
 7398              	.LBB157:
2139:Drivers/LTC681x/LTC681x.c **** 				{
 7399              		.loc 1 2139 0
 7400 0186 0023     		movs	r3, #0
 7401 0188 D3E7     		b	.L583
 7402              	.LVL946:
 7403              	.L597:
 7404              	.LBE157:
ARM GAS  /tmp/ccMCacDa.s 			page 179


 7405              	.LBE155:
2163:Drivers/LTC681x/LTC681x.c **** 							
2164:Drivers/LTC681x/LTC681x.c **** 						}  
2165:Drivers/LTC681x/LTC681x.c **** 					}
2166:Drivers/LTC681x/LTC681x.c **** 					
2167:Drivers/LTC681x/LTC681x.c **** 				}
2168:Drivers/LTC681x/LTC681x.c **** 		  }
2169:Drivers/LTC681x/LTC681x.c **** 		  
2170:Drivers/LTC681x/LTC681x.c **** 	}
 7406              		.loc 1 2170 0
 7407 018a 0C37     		adds	r7, r7, #12
 7408              	.LCFI162:
 7409              		.cfi_def_cfa_offset 36
 7410              	.LVL947:
 7411 018c BD46     		mov	sp, r7
 7412              	.LCFI163:
 7413              		.cfi_def_cfa_register 13
 7414              		@ sp needed
 7415 018e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7416              		.cfi_endproc
 7417              	.LFE63:
 7419              		.global	crc15Table
 7420              		.section	.rodata
 7421              		.align	2
 7422              		.set	.LANCHOR1,. + 0
 7423              	.LC0:
 7424 0000 07       		.byte	7
 7425 0001 15       		.byte	21
 7426 0002 0000     		.space	2
 7427              	.LC1:
 7428 0004 07       		.byte	7
 7429 0005 11       		.byte	17
 7430 0006 0000     		.space	2
 7431              	.LC2:
 7432 0008 07       		.byte	7
 7433 0009 12       		.byte	18
 7434 000a 0000     		.space	2
 7435              	.LC3:
 7436 000c 07       		.byte	7
 7437 000d 13       		.byte	19
 7438 000e 0000     		.space	2
 7439              	.LC4:
 7440 0010 07       		.byte	7
 7441 0011 21       		.byte	33
 7442 0012 0000     		.space	2
 7443              	.LC5:
 7444 0014 07       		.byte	7
 7445 0015 22       		.byte	34
 7446              		.section	.rodata.crc15Table,"a",%progbits
 7447              		.align	2
 7448              		.set	.LANCHOR0,. + 0
 7451              	crc15Table:
 7452 0000 0000     		.short	0
 7453 0002 99C5     		.short	-14951
 7454 0004 ABCE     		.short	-12629
 7455 0006 320B     		.short	2866
 7456 0008 CFD8     		.short	-10033
ARM GAS  /tmp/ccMCacDa.s 			page 180


 7457 000a 561D     		.short	7510
 7458 000c 6416     		.short	5732
 7459 000e FDD3     		.short	-11267
 7460 0010 07F4     		.short	-3065
 7461 0012 9E31     		.short	12702
 7462 0014 AC3A     		.short	15020
 7463 0016 35FF     		.short	-203
 7464 0018 C82C     		.short	11464
 7465 001a 51E9     		.short	-5807
 7466 001c 63E2     		.short	-7581
 7467 001e FA27     		.short	10234
 7468 0020 97AD     		.short	-21097
 7469 0022 0E68     		.short	26638
 7470 0024 3C63     		.short	25404
 7471 0026 A5A6     		.short	-22875
 7472 0028 5875     		.short	30040
 7473 002a C1B0     		.short	-20287
 7474 002c F3BB     		.short	-17421
 7475 002e 6A7E     		.short	32362
 7476 0030 9059     		.short	22928
 7477 0032 099C     		.short	-25591
 7478 0034 3B97     		.short	-26821
 7479 0036 A252     		.short	21154
 7480 0038 5F81     		.short	-32417
 7481 003a C644     		.short	17606
 7482 003c F44F     		.short	20468
 7483 003e 6D8A     		.short	-30099
 7484 0040 2E5B     		.short	23342
 7485 0042 B79E     		.short	-24905
 7486 0044 8595     		.short	-27259
 7487 0046 1C50     		.short	20508
 7488 0048 E183     		.short	-31775
 7489 004a 7846     		.short	18040
 7490 004c 4A4D     		.short	19786
 7491 004e D388     		.short	-30509
 7492 0050 29AF     		.short	-20695
 7493 0052 B06A     		.short	27312
 7494 0054 8261     		.short	24962
 7495 0056 1BA4     		.short	-23525
 7496 0058 E677     		.short	30694
 7497 005a 7FB2     		.short	-19841
 7498 005c 4DB9     		.short	-18099
 7499 005e D47C     		.short	31956
 7500 0060 B9F6     		.short	-2375
 7501 0062 2033     		.short	13088
 7502 0064 1238     		.short	14354
 7503 0066 8BFD     		.short	-629
 7504 0068 762E     		.short	11894
 7505 006a EFEB     		.short	-5137
 7506 006c DDE0     		.short	-7971
 7507 006e 4425     		.short	9540
 7508 0070 BE02     		.short	702
 7509 0072 27C7     		.short	-14553
 7510 0074 15CC     		.short	-13291
 7511 0076 8C09     		.short	2444
 7512 0078 71DA     		.short	-9615
 7513 007a E81F     		.short	8168
ARM GAS  /tmp/ccMCacDa.s 			page 181


 7514 007c DA14     		.short	5338
 7515 007e 43D1     		.short	-11965
 7516 0080 C5F3     		.short	-3131
 7517 0082 5C36     		.short	13916
 7518 0084 6E3D     		.short	15726
 7519 0086 F7F8     		.short	-1801
 7520 0088 0A2B     		.short	11018
 7521 008a 93EE     		.short	-4461
 7522 008c A1E5     		.short	-6751
 7523 008e 3820     		.short	8248
 7524 0090 C207     		.short	1986
 7525 0092 5BC2     		.short	-15781
 7526 0094 69C9     		.short	-13975
 7527 0096 F00C     		.short	3312
 7528 0098 0DDF     		.short	-8435
 7529 009a 941A     		.short	6804
 7530 009c A611     		.short	4518
 7531 009e 3FD4     		.short	-11201
 7532 00a0 525E     		.short	24146
 7533 00a2 CB9B     		.short	-25653
 7534 00a4 F990     		.short	-28423
 7535 00a6 6055     		.short	21856
 7536 00a8 9D86     		.short	-31075
 7537 00aa 0443     		.short	17156
 7538 00ac 3648     		.short	18486
 7539 00ae AF8D     		.short	-29265
 7540 00b0 55AA     		.short	-21931
 7541 00b2 CC6F     		.short	28620
 7542 00b4 FE64     		.short	25854
 7543 00b6 67A1     		.short	-24217
 7544 00b8 9A72     		.short	29338
 7545 00ba 03B7     		.short	-18685
 7546 00bc 31BC     		.short	-17359
 7547 00be A879     		.short	31144
 7548 00c0 EBA8     		.short	-22293
 7549 00c2 726D     		.short	28018
 7550 00c4 4066     		.short	26176
 7551 00c6 D9A3     		.short	-23591
 7552 00c8 2470     		.short	28708
 7553 00ca BDB5     		.short	-19011
 7554 00cc 8FBE     		.short	-16753
 7555 00ce 167B     		.short	31510
 7556 00d0 EC5C     		.short	23788
 7557 00d2 7599     		.short	-26251
 7558 00d4 4792     		.short	-28089
 7559 00d6 DE57     		.short	22494
 7560 00d8 2384     		.short	-31709
 7561 00da BA41     		.short	16826
 7562 00dc 884A     		.short	19080
 7563 00de 118F     		.short	-28911
 7564 00e0 7C05     		.short	1404
 7565 00e2 E5C0     		.short	-16155
 7566 00e4 D7CB     		.short	-13353
 7567 00e6 4E0E     		.short	3662
 7568 00e8 B3DD     		.short	-8781
 7569 00ea 2A18     		.short	6186
 7570 00ec 1813     		.short	4888
ARM GAS  /tmp/ccMCacDa.s 			page 182


 7571 00ee 81D6     		.short	-10623
 7572 00f0 7BF1     		.short	-3717
 7573 00f2 E234     		.short	13538
 7574 00f4 D03F     		.short	16336
 7575 00f6 49FA     		.short	-1463
 7576 00f8 B429     		.short	10676
 7577 00fa 2DEC     		.short	-5075
 7578 00fc 1FE7     		.short	-6369
 7579 00fe 8622     		.short	8838
 7580 0100 13A2     		.short	-24045
 7581 0102 8A67     		.short	26506
 7582 0104 B86C     		.short	27832
 7583 0106 21A9     		.short	-22239
 7584 0108 DC7A     		.short	31452
 7585 010a 45BF     		.short	-16571
 7586 010c 77B4     		.short	-19337
 7587 010e EE71     		.short	29166
 7588 0110 1456     		.short	22036
 7589 0112 8D93     		.short	-27763
 7590 0114 BF98     		.short	-26433
 7591 0116 265D     		.short	23846
 7592 0118 DB8E     		.short	-28965
 7593 011a 424B     		.short	19266
 7594 011c 7040     		.short	16496
 7595 011e E985     		.short	-31255
 7596 0120 840F     		.short	3972
 7597 0122 1DCA     		.short	-13795
 7598 0124 2FC1     		.short	-16081
 7599 0126 B604     		.short	1206
 7600 0128 4BD7     		.short	-10421
 7601 012a D212     		.short	4818
 7602 012c E019     		.short	6624
 7603 012e 79DC     		.short	-9095
 7604 0130 83FB     		.short	-1149
 7605 0132 1A3E     		.short	15898
 7606 0134 2835     		.short	13608
 7607 0136 B1F0     		.short	-3919
 7608 0138 4C23     		.short	9036
 7609 013a D5E6     		.short	-6443
 7610 013c E7ED     		.short	-4633
 7611 013e 7E28     		.short	10366
 7612 0140 3DF9     		.short	-1731
 7613 0142 A43C     		.short	15524
 7614 0144 9637     		.short	14230
 7615 0146 0FF2     		.short	-3569
 7616 0148 F221     		.short	8690
 7617 014a 6BE4     		.short	-7061
 7618 014c 59EF     		.short	-4263
 7619 014e C02A     		.short	10944
 7620 0150 3A0D     		.short	3386
 7621 0152 A3C8     		.short	-14173
 7622 0154 91C3     		.short	-15471
 7623 0156 0806     		.short	1544
 7624 0158 F5D5     		.short	-10763
 7625 015a 6C10     		.short	4204
 7626 015c 5E1B     		.short	7006
 7627 015e C7DE     		.short	-8505
ARM GAS  /tmp/ccMCacDa.s 			page 183


 7628 0160 AA54     		.short	21674
 7629 0162 3391     		.short	-28365
 7630 0164 019A     		.short	-26111
 7631 0166 985F     		.short	24472
 7632 0168 658C     		.short	-29595
 7633 016a FC49     		.short	18940
 7634 016c CE42     		.short	17102
 7635 016e 5787     		.short	-30889
 7636 0170 ADA0     		.short	-24403
 7637 0172 3465     		.short	25908
 7638 0174 066E     		.short	28166
 7639 0176 9FAB     		.short	-21601
 7640 0178 6278     		.short	30818
 7641 017a FBBD     		.short	-16901
 7642 017c C9B6     		.short	-18743
 7643 017e 5073     		.short	29520
 7644 0180 D651     		.short	20950
 7645 0182 4F94     		.short	-27569
 7646 0184 7D9F     		.short	-24707
 7647 0186 E45A     		.short	23268
 7648 0188 1989     		.short	-30439
 7649 018a 804C     		.short	19584
 7650 018c B247     		.short	18354
 7651 018e 2B82     		.short	-32213
 7652 0190 D1A5     		.short	-23087
 7653 0192 4860     		.short	24648
 7654 0194 7A6B     		.short	27514
 7655 0196 E3AE     		.short	-20765
 7656 0198 1E7D     		.short	32030
 7657 019a 87B8     		.short	-18297
 7658 019c B5B3     		.short	-19531
 7659 019e 2C76     		.short	30252
 7660 01a0 41FC     		.short	-959
 7661 01a2 D839     		.short	14808
 7662 01a4 EA32     		.short	13034
 7663 01a6 73F7     		.short	-2189
 7664 01a8 8E24     		.short	9358
 7665 01aa 17E1     		.short	-7913
 7666 01ac 25EA     		.short	-5595
 7667 01ae BC2F     		.short	12220
 7668 01b0 4608     		.short	2118
 7669 01b2 DFCD     		.short	-12833
 7670 01b4 EDC6     		.short	-14611
 7671 01b6 7403     		.short	884
 7672 01b8 89D0     		.short	-12151
 7673 01ba 1015     		.short	5392
 7674 01bc 221E     		.short	7714
 7675 01be BBDB     		.short	-9285
 7676 01c0 F80A     		.short	2808
 7677 01c2 61CF     		.short	-12447
 7678 01c4 53C4     		.short	-15277
 7679 01c6 CA01     		.short	458
 7680 01c8 37D2     		.short	-11721
 7681 01ca AE17     		.short	6062
 7682 01cc 9C1C     		.short	7324
 7683 01ce 05D9     		.short	-9979
 7684 01d0 FFFE     		.short	-257
ARM GAS  /tmp/ccMCacDa.s 			page 184


 7685 01d2 663B     		.short	15206
 7686 01d4 5430     		.short	12372
 7687 01d6 CDF5     		.short	-2611
 7688 01d8 3026     		.short	9776
 7689 01da A9E3     		.short	-7255
 7690 01dc 9BE8     		.short	-5989
 7691 01de 022D     		.short	11522
 7692 01e0 6FA7     		.short	-22673
 7693 01e2 F662     		.short	25334
 7694 01e4 C469     		.short	27076
 7695 01e6 5DAC     		.short	-21411
 7696 01e8 A07F     		.short	32672
 7697 01ea 39BA     		.short	-17863
 7698 01ec 0BB1     		.short	-20213
 7699 01ee 9274     		.short	29842
 7700 01f0 6853     		.short	21352
 7701 01f2 F196     		.short	-26895
 7702 01f4 C39D     		.short	-25149
 7703 01f6 5A58     		.short	22618
 7704 01f8 A78B     		.short	-29785
 7705 01fa 3E4E     		.short	20030
 7706 01fc 0C45     		.short	17676
 7707 01fe 9580     		.short	-32619
 7708              		.text
 7709              	.Letext0:
 7710              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 7711              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 7712              		.file 4 "Drivers/LTC681x/LTC681x.h"
 7713              		.file 5 "<built-in>"
 7714              		.file 6 "Drivers/LTC681x/bms_hardware.h"
ARM GAS  /tmp/ccMCacDa.s 			page 185


DEFINED SYMBOLS
                            *ABS*:0000000000000000 LTC681x.c
     /tmp/ccMCacDa.s:16     .text.wakeup_idle:0000000000000000 $t
     /tmp/ccMCacDa.s:23     .text.wakeup_idle:0000000000000000 wakeup_idle
     /tmp/ccMCacDa.s:72     .text.wakeup_sleep:0000000000000000 $t
     /tmp/ccMCacDa.s:79     .text.wakeup_sleep:0000000000000000 wakeup_sleep
     /tmp/ccMCacDa.s:131    .text.pec15_calc:0000000000000000 $t
     /tmp/ccMCacDa.s:138    .text.pec15_calc:0000000000000000 pec15_calc
     /tmp/ccMCacDa.s:203    .text.pec15_calc:0000000000000034 $d
     /tmp/ccMCacDa.s:208    .text.cmd_68:0000000000000000 $t
     /tmp/ccMCacDa.s:215    .text.cmd_68:0000000000000000 cmd_68
     /tmp/ccMCacDa.s:270    .text.write_68:0000000000000000 $t
     /tmp/ccMCacDa.s:277    .text.write_68:0000000000000000 write_68
     /tmp/ccMCacDa.s:416    .text.read_68:0000000000000000 $t
     /tmp/ccMCacDa.s:423    .text.read_68:0000000000000000 read_68
     /tmp/ccMCacDa.s:553    .text.LTC681x_init_cfg:0000000000000000 $t
     /tmp/ccMCacDa.s:560    .text.LTC681x_init_cfg:0000000000000000 LTC681x_init_cfg
     /tmp/ccMCacDa.s:623    .text.LTC681x_set_cfgr_refon:0000000000000000 $t
     /tmp/ccMCacDa.s:630    .text.LTC681x_set_cfgr_refon:0000000000000000 LTC681x_set_cfgr_refon
     /tmp/ccMCacDa.s:665    .text.LTC681x_set_cfgr_adcopt:0000000000000000 $t
     /tmp/ccMCacDa.s:672    .text.LTC681x_set_cfgr_adcopt:0000000000000000 LTC681x_set_cfgr_adcopt
     /tmp/ccMCacDa.s:707    .text.LTC681x_set_cfgr_gpio:0000000000000000 $t
     /tmp/ccMCacDa.s:714    .text.LTC681x_set_cfgr_gpio:0000000000000000 LTC681x_set_cfgr_gpio
     /tmp/ccMCacDa.s:787    .text.LTC681x_set_cfgr_dis:0000000000000000 $t
     /tmp/ccMCacDa.s:794    .text.LTC681x_set_cfgr_dis:0000000000000000 LTC681x_set_cfgr_dis
     /tmp/ccMCacDa.s:901    .text.LTC681x_set_cfgr_dcto:0000000000000000 $t
     /tmp/ccMCacDa.s:908    .text.LTC681x_set_cfgr_dcto:0000000000000000 LTC681x_set_cfgr_dcto
     /tmp/ccMCacDa.s:983    .text.LTC681x_set_cfgr_uv:0000000000000000 $t
     /tmp/ccMCacDa.s:990    .text.LTC681x_set_cfgr_uv:0000000000000000 LTC681x_set_cfgr_uv
     /tmp/ccMCacDa.s:1026   .text.LTC681x_set_cfgr_ov:0000000000000000 $t
     /tmp/ccMCacDa.s:1033   .text.LTC681x_set_cfgr_ov:0000000000000000 LTC681x_set_cfgr_ov
     /tmp/ccMCacDa.s:1074   .text.LTC681x_set_cfgr:0000000000000000 $t
     /tmp/ccMCacDa.s:1081   .text.LTC681x_set_cfgr:0000000000000000 LTC681x_set_cfgr
     /tmp/ccMCacDa.s:1143   .text.LTC681x_adcv:0000000000000000 $t
     /tmp/ccMCacDa.s:1150   .text.LTC681x_adcv:0000000000000000 LTC681x_adcv
     /tmp/ccMCacDa.s:1201   .text.LTC681x_adax:0000000000000000 $t
     /tmp/ccMCacDa.s:1208   .text.LTC681x_adax:0000000000000000 LTC681x_adax
     /tmp/ccMCacDa.s:1253   .text.LTC681x_adaxd:0000000000000000 $t
     /tmp/ccMCacDa.s:1260   .text.LTC681x_adaxd:0000000000000000 LTC681x_adaxd
     /tmp/ccMCacDa.s:1304   .text.LTC681x_adstat:0000000000000000 $t
     /tmp/ccMCacDa.s:1311   .text.LTC681x_adstat:0000000000000000 LTC681x_adstat
     /tmp/ccMCacDa.s:1356   .text.LTC681x_adstatd:0000000000000000 $t
     /tmp/ccMCacDa.s:1363   .text.LTC681x_adstatd:0000000000000000 LTC681x_adstatd
     /tmp/ccMCacDa.s:1408   .text.LTC681x_adow:0000000000000000 $t
     /tmp/ccMCacDa.s:1415   .text.LTC681x_adow:0000000000000000 LTC681x_adow
     /tmp/ccMCacDa.s:1472   .text.LTC681x_adcvsc:0000000000000000 $t
     /tmp/ccMCacDa.s:1479   .text.LTC681x_adcvsc:0000000000000000 LTC681x_adcvsc
     /tmp/ccMCacDa.s:1525   .text.LTC681x_adcvax:0000000000000000 $t
     /tmp/ccMCacDa.s:1532   .text.LTC681x_adcvax:0000000000000000 LTC681x_adcvax
     /tmp/ccMCacDa.s:1577   .text.LTC681x_adol:0000000000000000 $t
     /tmp/ccMCacDa.s:1584   .text.LTC681x_adol:0000000000000000 LTC681x_adol
     /tmp/ccMCacDa.s:1632   .text.LTC681x_cvst:0000000000000000 $t
     /tmp/ccMCacDa.s:1639   .text.LTC681x_cvst:0000000000000000 LTC681x_cvst
     /tmp/ccMCacDa.s:1687   .text.LTC681x_axst:0000000000000000 $t
     /tmp/ccMCacDa.s:1694   .text.LTC681x_axst:0000000000000000 LTC681x_axst
     /tmp/ccMCacDa.s:1742   .text.LTC681x_statst:0000000000000000 $t
     /tmp/ccMCacDa.s:1749   .text.LTC681x_statst:0000000000000000 LTC681x_statst
ARM GAS  /tmp/ccMCacDa.s 			page 186


     /tmp/ccMCacDa.s:1797   .text.LTC681x_pladc:0000000000000000 $t
     /tmp/ccMCacDa.s:1804   .text.LTC681x_pladc:0000000000000000 LTC681x_pladc
     /tmp/ccMCacDa.s:1866   .text.LTC681x_pollAdc:0000000000000000 $t
     /tmp/ccMCacDa.s:1873   .text.LTC681x_pollAdc:0000000000000000 LTC681x_pollAdc
     /tmp/ccMCacDa.s:1961   .text.LTC681x_pollAdc:000000000000005c $d
     /tmp/ccMCacDa.s:1966   .text.LTC681x_diagn:0000000000000000 $t
     /tmp/ccMCacDa.s:1973   .text.LTC681x_diagn:0000000000000000 LTC681x_diagn
     /tmp/ccMCacDa.s:2003   .text.LTC681x_diagn:0000000000000018 $d
     /tmp/ccMCacDa.s:2008   .text.parse_cells:0000000000000000 $t
     /tmp/ccMCacDa.s:2015   .text.parse_cells:0000000000000000 parse_cells
     /tmp/ccMCacDa.s:2109   .text.LTC681x_rdcv_reg:0000000000000000 $t
     /tmp/ccMCacDa.s:2116   .text.LTC681x_rdcv_reg:0000000000000000 LTC681x_rdcv_reg
     /tmp/ccMCacDa.s:2243   .text.LTC681x_rdaux_reg:0000000000000000 $t
     /tmp/ccMCacDa.s:2250   .text.LTC681x_rdaux_reg:0000000000000000 LTC681x_rdaux_reg
     /tmp/ccMCacDa.s:2363   .text.LTC681x_rdstat_reg:0000000000000000 $t
     /tmp/ccMCacDa.s:2370   .text.LTC681x_rdstat_reg:0000000000000000 LTC681x_rdstat_reg
     /tmp/ccMCacDa.s:2461   .text.LTC681x_clrcell:0000000000000000 $t
     /tmp/ccMCacDa.s:2468   .text.LTC681x_clrcell:0000000000000000 LTC681x_clrcell
     /tmp/ccMCacDa.s:2498   .text.LTC681x_clrcell:0000000000000018 $d
     /tmp/ccMCacDa.s:2503   .text.LTC681x_clraux:0000000000000000 $t
     /tmp/ccMCacDa.s:2510   .text.LTC681x_clraux:0000000000000000 LTC681x_clraux
     /tmp/ccMCacDa.s:2540   .text.LTC681x_clraux:0000000000000018 $d
     /tmp/ccMCacDa.s:2545   .text.LTC681x_clrstat:0000000000000000 $t
     /tmp/ccMCacDa.s:2552   .text.LTC681x_clrstat:0000000000000000 LTC681x_clrstat
     /tmp/ccMCacDa.s:2582   .text.LTC681x_clrstat:0000000000000018 $d
     /tmp/ccMCacDa.s:2587   .text.LTC681x_clrsctrl:0000000000000000 $t
     /tmp/ccMCacDa.s:2594   .text.LTC681x_clrsctrl:0000000000000000 LTC681x_clrsctrl
     /tmp/ccMCacDa.s:2626   .text.LTC681x_wrcfg:0000000000000000 $t
     /tmp/ccMCacDa.s:2633   .text.LTC681x_wrcfg:0000000000000000 LTC681x_wrcfg
     /tmp/ccMCacDa.s:2736   .text.LTC681x_wrcfgb:0000000000000000 $t
     /tmp/ccMCacDa.s:2743   .text.LTC681x_wrcfgb:0000000000000000 LTC681x_wrcfgb
     /tmp/ccMCacDa.s:2846   .text.LTC681x_wrpwm:0000000000000000 $t
     /tmp/ccMCacDa.s:2853   .text.LTC681x_wrpwm:0000000000000000 LTC681x_wrpwm
     /tmp/ccMCacDa.s:2973   .text.LTC681x_rdpwm:0000000000000000 $t
     /tmp/ccMCacDa.s:2980   .text.LTC681x_rdpwm:0000000000000000 LTC681x_rdpwm
     /tmp/ccMCacDa.s:3144   .text.LTC681x_wrcomm:0000000000000000 $t
     /tmp/ccMCacDa.s:3151   .text.LTC681x_wrcomm:0000000000000000 LTC681x_wrcomm
     /tmp/ccMCacDa.s:3258   .text.LTC681x_wrcomm:000000000000005c $d
     /tmp/ccMCacDa.s:3263   .text.LTC681x_rdcomm:0000000000000000 $t
     /tmp/ccMCacDa.s:3270   .text.LTC681x_rdcomm:0000000000000000 LTC681x_rdcomm
     /tmp/ccMCacDa.s:3415   .text.LTC681x_rdcomm:00000000000000ac $d
     /tmp/ccMCacDa.s:3420   .text.LTC681x_stcomm:0000000000000000 $t
     /tmp/ccMCacDa.s:3427   .text.LTC681x_stcomm:0000000000000000 LTC681x_stcomm
     /tmp/ccMCacDa.s:3499   .text.LTC681x_wrsctrl:0000000000000000 $t
     /tmp/ccMCacDa.s:3506   .text.LTC681x_wrsctrl:0000000000000000 LTC681x_wrsctrl
     /tmp/ccMCacDa.s:3626   .text.LTC681x_rdsctrl:0000000000000000 $t
     /tmp/ccMCacDa.s:3633   .text.LTC681x_rdsctrl:0000000000000000 LTC681x_rdsctrl
     /tmp/ccMCacDa.s:3797   .text.LTC681x_stsctrl:0000000000000000 $t
     /tmp/ccMCacDa.s:3804   .text.LTC681x_stsctrl:0000000000000000 LTC681x_stsctrl
     /tmp/ccMCacDa.s:3857   .text.LTC681x_clear_discharge:0000000000000000 $t
     /tmp/ccMCacDa.s:3864   .text.LTC681x_clear_discharge:0000000000000000 LTC681x_clear_discharge
     /tmp/ccMCacDa.s:3922   .text.LTC681x_st_lookup:0000000000000000 $t
     /tmp/ccMCacDa.s:3929   .text.LTC681x_st_lookup:0000000000000000 LTC681x_st_lookup
     /tmp/ccMCacDa.s:3990   .text.LTC681x_check_pec:0000000000000000 $t
     /tmp/ccMCacDa.s:3997   .text.LTC681x_check_pec:0000000000000000 LTC681x_check_pec
     /tmp/ccMCacDa.s:4017   .text.LTC681x_check_pec:000000000000000a $d
     /tmp/ccMCacDa.s:4244   .text.LTC681x_rdcv:0000000000000000 $t
ARM GAS  /tmp/ccMCacDa.s 			page 187


     /tmp/ccMCacDa.s:4251   .text.LTC681x_rdcv:0000000000000000 LTC681x_rdcv
     /tmp/ccMCacDa.s:4451   .text.LTC681x_run_openwire_single:0000000000000000 $t
     /tmp/ccMCacDa.s:4458   .text.LTC681x_run_openwire_single:0000000000000000 LTC681x_run_openwire_single
     /tmp/ccMCacDa.s:4779   .text.LTC681x_run_openwire_multi:0000000000000000 $t
     /tmp/ccMCacDa.s:4786   .text.LTC681x_run_openwire_multi:0000000000000000 LTC681x_run_openwire_multi
     /tmp/ccMCacDa.s:5356   .text.LTC681x_run_adc_overlap:0000000000000000 $t
     /tmp/ccMCacDa.s:5363   .text.LTC681x_run_adc_overlap:0000000000000000 LTC681x_run_adc_overlap
     /tmp/ccMCacDa.s:5450   .text.LTC681x_rdaux:0000000000000000 $t
     /tmp/ccMCacDa.s:5457   .text.LTC681x_rdaux:0000000000000000 LTC681x_rdaux
     /tmp/ccMCacDa.s:5649   .text.LTC681x_rdstat:0000000000000000 $t
     /tmp/ccMCacDa.s:5656   .text.LTC681x_rdstat:0000000000000000 LTC681x_rdstat
     /tmp/ccMCacDa.s:6096   .text.LTC681x_run_cell_adc_st:0000000000000000 $t
     /tmp/ccMCacDa.s:6103   .text.LTC681x_run_cell_adc_st:0000000000000000 LTC681x_run_cell_adc_st
     /tmp/ccMCacDa.s:6405   .text.LTC681x_run_adc_redundancy_st:0000000000000000 $t
     /tmp/ccMCacDa.s:6412   .text.LTC681x_run_adc_redundancy_st:0000000000000000 LTC681x_run_adc_redundancy_st
     /tmp/ccMCacDa.s:6613   .text.LTC681x_rdcfg:0000000000000000 $t
     /tmp/ccMCacDa.s:6620   .text.LTC681x_rdcfg:0000000000000000 LTC681x_rdcfg
     /tmp/ccMCacDa.s:6771   .text.LTC681x_rdcfgb:0000000000000000 $t
     /tmp/ccMCacDa.s:6778   .text.LTC681x_rdcfgb:0000000000000000 LTC681x_rdcfgb
     /tmp/ccMCacDa.s:6929   .text.LTC681x_reset_crc_count:0000000000000000 $t
     /tmp/ccMCacDa.s:6936   .text.LTC681x_reset_crc_count:0000000000000000 LTC681x_reset_crc_count
     /tmp/ccMCacDa.s:7047   .text.LTC681x_axow:0000000000000000 $t
     /tmp/ccMCacDa.s:7054   .text.LTC681x_axow:0000000000000000 LTC681x_axow
     /tmp/ccMCacDa.s:7102   .text.LTC681x_run_gpio_openwire:0000000000000000 $t
     /tmp/ccMCacDa.s:7109   .text.LTC681x_run_gpio_openwire:0000000000000000 LTC681x_run_gpio_openwire
     /tmp/ccMCacDa.s:7451   .rodata.crc15Table:0000000000000000 crc15Table
     /tmp/ccMCacDa.s:7421   .rodata:0000000000000000 $d
     /tmp/ccMCacDa.s:7447   .rodata.crc15Table:0000000000000000 $d
     /tmp/ccMCacDa.s:4023   .text.LTC681x_check_pec:000000000000000f $d
     /tmp/ccMCacDa.s:4023   .text.LTC681x_check_pec:0000000000000010 $t

UNDEFINED SYMBOLS
cs_low
spi_read_byte
cs_high
delay_u
pgm_read_word_near
spi_write_array
malloc
free
spi_write_read
